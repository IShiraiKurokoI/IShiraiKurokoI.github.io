/*! For license information please see chunk-vendors.49c92b7f.js.LICENSE.txt */
(self.webpackChunkim_qq_com_new=self.webpackChunkim_qq_com_new||[]).push([[998],{7434:function(e,t,n){"use strict";n.d(t,{CQ:function(){return _},IV:function(){return C},LJ:function(){return i},Nv:function(){return y},V_:function(){return x},cn:function(){return b},e6:function(){return S},en:function(){return A},jn:function(){return E},n4:function(){return k},ns:function(){return T},oV:function(){return w},pv:function(){return I},uT:function(){return P},vD:function(){return F},vc:function(){return l},ve:function(){return m}});var r=n(3336),o=(n(8862),n(4916),n(5306),n(7658),n(3210),n(1703),n(4603),n(8450),n(541),n(9601),n(1539),n(7042),n(4747),n(2772),n(9714),n(7941),n(6699),n(8674),n(561),n(9653),n(1058),n(1249),n(7327),n(4723),function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),i=function(){function e(){}return e.setDefault=function(t){e.defaultOptions=o(o({},e.defaultOptions),t)},e.getCookie=function(t){var n=void 0,r=document.cookie?document.cookie.split("; "):[],o={};return r.some((function(r){var i=r.split("="),a=i[0],s=i.slice(1),l=e.decode(a),c=e.parseValue(s.join("="));return l===t?(n=c,!0):(o[l]=c,!1)})),void 0===t?o:n},e.setCookie=function(t,n,r){return void 0===r&&(r={}),e.set(t,n,r)},e.clearCookie=function(t,n,r){void 0===n&&(n=""),void 0===r&&(r=""),e.setCookie(t,"",{domain:n,path:r,expires:-1})},e.clearAllCookies=function(t,n){void 0===t&&(t=""),void 0===n&&(n="");var r=document.cookie?document.cookie.split("; "):[],o={domain:t,path:n,expires:-1};r.forEach((function(t){var n=t.split("=")[0];e.set(n,"",o,!0)}))},e.set=function(t,n,r,i){void 0===i&&(i=!1);var a=o(o({},e.defaultOptions),r),s=a.domain,l=a.path,c=a.secure,u=a.expires,d=a.sameSite,p=new Date(Date.now()+24*u*60*60*1e3),f=[(i?t:e.encode(t))+"="+e.stringifyValue(n),"; expires="+p.toUTCString(),l?"; path="+l:"",s?"; domain="+s:"",d?"; SameSite="+d:"",c?"; Secure":""].join("");return document.cookie=f,f},e.encode=function(t){return e.raw?t:encodeURIComponent(t)},e.decode=function(t){return e.raw?t:decodeURIComponent(t)},e.stringifyValue=function(t){return e.encode(e.json?JSON.stringify(t):String(t))},e.parseValue=function(t){if(e.raw)return t;var n=t;0===n.indexOf('"')&&(n=n.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return n=decodeURIComponent(n.replace(/\+/g," ")),e.json?JSON.parse(n):n}catch(t){}},e.raw=!1,e.json=!1,e.defaultOptions={domain:"",path:"/",expires:365,secure:!0,sameSite:""},e}(),a=function(e,t){var n=""+e;return!n||n.length>=t?n:""+Array(t+1-n.length).join("0")+e},s=/\[([^\]]+)]|(Y|y){1,4}|M{1,4}|D{1,2}|d{1,2}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g;function l(e,t){void 0===t&&(t="yyyy-MM-DD HH:mm:ss");var n=new Date(e);if(isNaN(n.getTime()))return n.toString();var r=t,o=""+n.getFullYear(),i=o.slice(-2),l=n.getHours(),c=""+(l%12||12),u=""+(n.getMonth()+1),d=""+n.getDate(),p=""+n.getDay(),f=""+n.getMinutes(),h=""+n.getSeconds(),g=""+n.getMilliseconds(),v=15*Math.round(n.getTimezoneOffset()/15),A=Math.abs(v),y=a(Math.floor(A/60),2),_=a(A%60,2),m=v<=0?"+":"-",E=""+m+y+":"+_,I=""+m+y+_,b={YY:i,YYYY:o,yy:i,yyyy:o,M:u,MM:a(u,2),D:d,DD:a(d,2),d:p,dd:a(d,2),H:""+l,HH:a(l,2),h:a(c,1),hh:a(c,2),a:l<12?"am":"pm",A:l<12?"AM":"PM",m:f,mm:a(f,2),s:h,ss:a(h,2),SSS:a(g,3),Z:E,ZZ:I};return r.replace(s,(function(e,t){return t||b[e]||e}))}var c,u,d={android_1:/android[\s/]([\d.]+)/i,android_2:/android/i,android_3:/MIDP-/i,ipod_1:/iPod\stouch;\sCPU\siPhone\sos\s([\d_]+)/i,ipod_2:/iPod.*os\s?([\d_.]+)/i,iphone_1:/iPhone;\sCPU\siPhone\sos\s([\d_]+)/i,iphone_2:/iPhone.*os\s?([\d_.]+)/i,ipad_1:/ipad;\scpu\sos\s([\d_]+)/i,ipad_2:/ipad([\d]+)?/i,windows:/windows\snt\s([\d.]+)/i,mac:/Macintosh.*mac\sos\sx\s([\d_.]+)/i,nintendo:/Nintendo Switch/i,tesla:/tesla/i,linux:/linux/i},p={weishi:/WEISHI_([\d.]+)/i,toutiao:/TTWebView\/([\d.]+)/i,wechat:/MicroMessenger\/([\d.]+)/i,ipadqq:/IPadQQ\/([\d.]+)/i,mqq:/qq\/([\d.]+)/i,qzone:/QZONEJSSDK\/([\d.]+)/i,mqqbrowser:/mqqbrowser\/([\d.]+)/i,qqbrowser:/[^m]QQBrowser\/([\d.]+)/i,x5:/tbs\/(\d+)/i,uc:/UCBrowser\/([\d.]+)/i,safari:/Version\/([\d.]+)( Mobile\S*)? Safari\/([\d.]+)/i,firefox:/Firefox\/([\d.]+)/i,opera:/OPR\/([\d.]+)/i,ie_1:/MSIE\s([\d.]+)/i,ie_2:/(trident\/\d\.\d)/i,ie_3:/(Edge)\/\d+\.\d+/i,weibo:/weibo__([\d.]+)/i,qqnewsAd:/TADChid\/([\d.]+)/i,qqnews:/qqnews\/([\d.]+)/i,tenvideo_1:/QQLiveBrowser\/([\d.]+)/i,tenvideo_2:/QQLiveHDBrowser\/([\d.]+)/i,kuaibao:/qnreading\/([\d.]+)/i,liebao:/LieBaoFast\/([\d.]+)/i,douban:/com\.douban\.frodo\/([\d.]+)/i,miuibrowser:/MiuiBrowser/i,baidu:/baiduboxapp/i,browser360:/360browser/i,oppobrowser:/OppoBrowser/i,chrome_1:/CriOS\/([\d.]+)/i,chrome_2:/Chrome\/([\d.]+)/i,qqdownloader:/qqdownloader\/([\d.]+)/i,nintendo:/NintendoBrowser\/([\d.]+)/i,tesla:/QtCarBrowser/i},f={"4.0":"8","5.0":"9","6.0":"10","7.0":"11"},h=function(){function e(){}return e.uaMatch=function(t){var n,r=t||(null===(n=null===window||void 0===window?void 0:window.navigator)||void 0===n?void 0:n.userAgent),o={};return o.os=e.getOS(r),o.browser=e.getBrowser(r),o.isMobile=e.isMobile(r),o},e.isMobile=function(e){var t,n=e||(null===(t=null===window||void 0===window?void 0:window.navigator)||void 0===t?void 0:t.userAgent);return/(mobile)/i.test(n)},e.getOS=function(e){var t,n={name:"",version:""},r=e||(null===(t=null===window||void 0===window?void 0:window.navigator)||void 0===t?void 0:t.userAgent);return Object.keys(d).every((function(e){var t=d[e].exec(r);if(!t)return!0;var o=e.replace(/_\d+/,"");return n[o]=!0,n.name=o,t[1]&&(n.version=t[1].replace(/_/g,".")),!1})),(n.iphone||n.ipad||n.ipod)&&(n.ios=!0),n},e.getBrowser=function(e){var t,n={},r=e||(null===(t=null===window||void 0===window?void 0:window.navigator)||void 0===t?void 0:t.userAgent);return Object.keys(p).forEach((function(e){var t,o=p[e].exec(r);if(o){var i=e.replace(/_\d+/,"");n[i]||(n[i]={version:(null===(t=o[1])||void 0===t?void 0:t.replace(/_/g,"."))||""})}})),n.ie&&/trident/i.test(r)&&(n.ie.version=f[n.ie.version]||"11"),n},e}();h.uaMatch,h.getOS,h.getBrowser,h.isMobile;function g(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function v(e,t){var n=[null,void 0,"",NaN].includes(e);if(t.isSkipEmpty&&n)return null;var r=!t.isSkipEmpty&&n?"":e;try{return t.encode?encodeURIComponent(r):r}catch(e){return null}}function A(e){var t=e.split("#"),n=t[0],r=t[1],o=void 0===r?"":r,i=n.split("?"),a=i[0],s=i[1],l=void 0===s?"":s,c=g(o),u=Object.create(null);return l.split("&").forEach((function(e){var t=e.split("="),n=t[0],r=t[1],o=void 0===r?"":r,i=g(n),a=g(o);null===i||null===a||""===i&&""===a||u[i]||(u[i]=a)})),{url:a,query:u,hash:c}}function y(e,t){void 0===t&&(t={encode:!0,isSkipEmpty:!1});var n=e.url,r=e.query,i=void 0===r?{}:r,a=e.hash,s=n.split("#"),l=s[0],c=s[1],u=void 0===c?"":c,d=l.split("?")[0],p=[],f=v(a||u,t),h=o(o({},A(n).query),i);return Object.keys(h).forEach((function(e){var n=v(e,t),r=v(h[e],t);null!==n&&null!==r&&p.push(n+"="+r)})),d+(p.length?"?"+p.join("&"):"")+(f?"#"+f:"")}function _(e,t){var n;if(!t||!document.querySelectorAll("style[data-tag="+t+"]").length){var r=document.createElement("style");r.textContent=e.trim(),t&&(r.dataset.tag=t),null===(n=document.getElementsByTagName("head")[0])||void 0===n||n.appendChild(r)}}function m(e,t){return new Promise((function(n,r){if(t&&document.querySelectorAll("script[data-tag="+t+"]").length)return n();var i=document.createElement("script"),a=o({type:"text/javascript",charset:"utf-8"},e);Object.keys(a).forEach((function(e){return E(i,e,a[e])})),t&&(i.dataset.tag=t),i.onload=function(){return n()},i.onreadystatechange=function(){var e=i.readyState;["complete","loaded"].includes(e)&&(i.onreadystatechange=null,n())},i.onerror=r,document.body.appendChild(i)}))}function E(e,t,n){if(e)return void 0===n?e.getAttribute(t):e.setAttribute(t,n)}function I(e,t){return!!(null==e?void 0:e.className)&&-1!==e.getAttribute("class").split(" ").indexOf(t)}function b(e,t){if(e&&!I(e,t)){var n=(e.className+" "+t).trim();e.setAttribute("class",n)}}function C(e,t){if(e){var n=e.className.split(" "),r=n.indexOf(t);-1!==r&&(n.splice(r,1),e.className=n.join(" "))}}function w(e,t,n){if(e&&t)if("string"!=typeof t||void 0===n){if("string"==typeof t&&void 0===n)return(e.currentStyle?e.currentStyle:getComputedStyle(e,null))[t];"object"==(0,r.Z)(t)&&Object.keys(t).forEach((function(n){return w(e,n,t[n])}))}else{var o=/width|height|left|right|top|bottom|padding|margin/i.test(t)&&"number"==typeof n;e.style[t]=o?n+"px":n}}function S(e){w(e,{display:"none"})}function x(e,t){void 0===t&&(t="block"),w(e,{display:t})}function P(e,t){if(e)return void 0===t?e.innerText:void(e.innerText=t)}function T(e,t){if(e)return void 0===t?e.innerHTML:void(e.innerHTML=t)}(u=c||(c={}))[u.equal=0]="equal",u[u.low=-1]="low",u[u.high=1]="high";var D=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z-]+(?:\.[\da-z-]+)*)?(?:\+[\da-z-]+(?:\.[\da-z-]+)*)?)?)?$/i;function O(e){var t,n=e.replace(/^v/,"").replace(/\+.*$/,""),r=("-",-1===(t=n).indexOf("-")?t.length:t.indexOf("-")),o=n.substring(0,r).split(".");return o.push(n.substring(r+1)),o}function N(e){return isNaN(Number(e))?e:Number(e)}function R(e){if("string"!=typeof e)throw new TypeError("Invalid argument expected string");if(!D.test(e))throw new Error("Invalid argument not valid semver ('"+e+"' received)")}function k(e,t){[e,t].forEach(R);for(var n=O(e),r=O(t),o=0;o<Math.max(n.length-1,r.length-1);o++){var i=parseInt(n[o]||"0",10),a=parseInt(r[o]||"0",10);if(i>a)return c.high;if(a>i)return c.low}var s=n[n.length-1],l=r[r.length-1];if(s&&l){var u=s.split(".").map(N),d=l.split(".").map(N);for(o=0;o<Math.max(u.length,d.length);o++){if(void 0===u[o]||"string"==typeof d[o]&&"number"==typeof u[o])return-1;if(void 0===d[o]||"string"==typeof u[o]&&"number"==typeof d[o])return 1;if(u[o]>d[o])return c.high;if(d[o]>u[o])return c.low}}else if(s||l)return s?c.low:c.high;return c.equal}var L=/</g,B=/>/g,M=/"/g,Q=/'/g,V=/&/g;function F(e){return e?(""+e).replace(V,"&amp;").replace(L,"&lt;").replace(B,"&gt;").replace(M,"&quot;").replace(Q,"&#39;"):""}new RegExp("((https?:)?//([-a-z0-9]+)?.?qq.com)","i")},5678:function(e,t,n){var r,o,i;e=n.nmd(e);var a,s=n(4614).default;n(1817),n(4916),n(5306),n(5837),n(3948),n(1703),n(7658),n(3210),n(8862),n(4603),n(8450),n(9070),n(2526),n(1817),n(1539),n(3680),n(3706),n(2703),n(4916),n(4723),n(1058),n(9714),n(5306),n(9653),n(2772),n(5743),n(8674),n(2165),n(6992),n(8783),n(3948),n(7042),n(3210),n(489),n(1249),n(8304),n(4603),n(4765),n(6699),"undefined"!=typeof self&&self,a=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==s(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAndroidScale=t.getCurrentFontScale=t.getGlobalDensityScale=t.isHippy=t.getVersion=t.isDarkMode=t.getThemeId=t.isOldMode=t.isStudyMode=t.isSimpleMode=t.getStatusBarHeight=t.compareVersion=t.formatQua=t.getQuaString=t.isTIM=t.isAndroid=t.isIOS=t.isMobile=t.getDevice=t.getPlatform=t.getClient=t.getUserAgent=t.isNode=t.Version=t.Device=t.Platform=t.Client=void 0;var r,o,i,a=n(1),s=n(3),l=n(7),c=n(6),u=n(2);!function(e){e.QQ="QQ",e.Qzone="Qzone",e.Wechat="Wechat",e.Other="Other"}(r=t.Client||(t.Client={})),function(e){e.iOS="iOS",e.Android="Android",e.PC="PC"}(o=t.Platform||(t.Platform={})),function(e){e.iPad="iPad",e.iPhone="iPhone",e.Android="Android",e.Unknown="Unknow"}(i=t.Device||(t.Device={}));var d=function(){function e(e,t,n){void 0===e&&(e="");var r=e.match(/^(\d+)\.(\d+)\.(\d+)$/);r&&4===r.length&&(this.major=parseInt(r[1],10),this.minor=parseInt(r[2],10),this.patch=parseInt(r[3],10)),t&&(this.platform=t),n&&(this.client=n)}return e.prototype.toString=function(){return this.major+"."+this.minor+"."+this.patch},e}();function p(){return(void 0===a.default.navigator||!a.default.navigator.testMock)&&void 0!==a.default.process&&null!==a.default.process.versions&&void 0!==a.default.process.versions.node}function f(){return u.hookMap.userAgentGetter?u.hookMap.userAgentGetter():p()?void 0===a.default.context?"":s.getValueByPath(a.default.context,"window.request.headers.user-agent",""):navigator.userAgent}function h(e){return void 0===e&&(e=f()),e.match(/MicroMessenger\/([\d.]+)/)?r.Wechat:e.match(/QQ\/([\d.]+)/)?r.QQ:e.match(/Qzone\//)?r.Qzone:r.Other}function g(e){return void 0===e&&(e=f()),e.match(/(iPad).*OS\s([\d_]+)/)||e.match(/(iPhone\sOS)\s([\d_]+)/)?o.iOS:e.match(/Android/)?o.Android:o.PC}function v(e){return void 0===e&&(e=f()),g(e)===o.iOS}function A(e){return void 0===e&&(e=f()),!!e.match(/TIM/)}function y(e){void 0===e&&(e=f());var t=e.match(/(V\S+_\S+_\S+_\S+_\S+_\S+_\S+)/);return A()&&(t=e.match(/TIM\/(\d[.\d]*)/i)),t?t[1]:""}function _(e){var t,n=e.split("_");if(7===n.length&&/^(AND|IOS|IPH)$/.test(n[1])&&/^(SQ|QZ)$/.test(n[2])&&/^\d+\.\d+\.\d+$/.test(n[3])&&/^\d+$/.test(n[4])){var r,o=c.get("fake_version");r=o&&/\d+\.\d+\.\d+/g.test(o)?o:n[3],t={os:n[1],version:r,subVersion:n[4],appType:n[5]}}else t={};return A()&&(t=4===(n=e.split(".")).length?{version:e.replace("."+n[3],""),subVersion:n[3]}:{}),t}function m(e){void 0===e&&(e=f());var t=l.getParam("qqtheme"),n=e.match(/QQTheme\/(\d+)/);return n&&(t=n[1]),t}function E(e){void 0===e&&(e=f());var t=e.match(/GlobalDensityScale\/(\d+\.\d+)/);if(!t)return 1;try{return Number(t[1])}catch(e){return 1}}function I(e){void 0===e&&(e=f());var t=e.match(/CurrentFontScale\/(\d+\.\d+)/);if(!t)return 1;try{return Number(t[1])}catch(e){return 1}}t.Version=d,t.isNode=p,t.getUserAgent=f,t.getClient=h,t.getPlatform=g,t.getDevice=function(e){switch(void 0===e&&(e=f()),g(e)){case o.iOS:return e.match(/(iPad).*OS\s([\d_]+)/)?i.iPad:i.iPhone;case o.Android:return i.Android;default:return i.Unknown}},t.isMobile=function(e){return void 0===e&&(e=f()),g(e)!==o.PC},t.isIOS=v,t.isAndroid=function(e){return void 0===e&&(e=f()),g(e)===o.Android},t.isTIM=A,t.getQuaString=y,t.formatQua=_,t.compareVersion=function(e,t){if(void 0===t&&(t=f()),!y(t))return-999;var n=function e(t,n,r){return t[r]||n[r]?t[r]===n[r]?e(t,n,r+1):Number(t[r])-Number(n[r]):0}((_(y(t)).version||"").split("."),String(e).split("."),0);return n<0?-1:n>0?1:0},t.getStatusBarHeight=function(e){void 0===e&&(e=f());var t=e.match(/StatusBarHeight\/(\d+)/);return t&&2===t.length?parseInt(t[1],10):0},t.isSimpleMode=function(e){return void 0===e&&(e=f()),e.indexOf("SimpleUISwitch/1")>-1},t.isStudyMode=function(e){return void 0===e&&(e=f()),e.indexOf("StudyMode/1")>-1},t.isOldMode=function(e){return void 0===e&&(e=f()),e.indexOf("CurrentMode/3")>-1},t.getThemeId=m,t.isDarkMode=function(e){void 0===e&&(e=f());var t=parseInt(m(e),10);return!!t&&[2920,1102,1103].indexOf(t)>-1},t.getVersion=function(e){void 0===e&&(e=f());var t,n=g(e),o=h(e),i="",a=c.get("fake_version");if(a&&/\d+\.\d+\.\d+/g.test(a))return new d(i=a,n,o);if(o===r.QQ){var s=/QQ\/(\d+\.\d+\.\d+)/;(t=e.match(s))&&2===t.length&&(i=t[1])}return o===r.Qzone&&(s=/Qzone\/V1_(AND|IPH)_QZ_(\d+\.\d+\.\d+)_\d+_\w+_\w+/,(t=e.match(s))&&3===t.length&&(i=t[2])),o===r.Wechat&&(s=/MicroMessenger\/(\d+\.\d+\.\d+)/,(t=e.match(s))&&2===t.length&&(i=t[1])),new d(i,n,o)},t.isHippy=function(){return!1},t.getGlobalDensityScale=E,t.getCurrentFontScale=I,t.getAndroidScale=function(e){return void 0===e&&(e=f()),v(e)?1:E(e)*I(e)}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=null;"undefined"!=typeof globalThis?n=globalThis:void 0!==e?n=e:"undefined"!=typeof window&&(n=window),t.default=n}).call(this,n(9))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCookieGetter=t.setUserAgentGetter=t.setUrlGetter=t.hookMap=void 0,t.hookMap={urlGetter:null,userAgentGetter:null,cookieGetter:null},t.setUrlGetter=function(e){t.hookMap.urlGetter=e},t.setUserAgentGetter=function(e){t.hookMap.userAgentGetter=e},t.setCookieGetter=function(e){t.hookMap.cookieGetter=e}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function i(e){if(null===e)return"null";var t=s(e);if("number"===t&&Number.isNaN(e))return"nan";if("object"!==t)return t;var n=function(e){try{return Object.prototype.toString.call(e).slice(8,-1)}catch(e){return"object"}}(e),r=n.toLowerCase();if("object"!==r)return"number"===r&&Number.isNaN(e)?"NaN":"number"===r||"boolean"===r||"string"===r?n:r;if(e.constructor===Object)return r;if(function(e){try{return null===Object.getPrototypeOf(e)||null===e.__proto__}catch(e){return!1}}(e))return"object";try{var o=e.constructor.name;if("string"==typeof o)return o}catch(e){return"unknown"}return"unknown"}Object.defineProperty(t,"__esModule",{value:!0}),t.tryCatch=t.cloneJSON=t.clone=t.type=t.getValueByPath=t.formatDate=void 0,t.formatDate=function(e,t){var n=t,r="";return n.replace(/yyyy|yy/,(function(t){return 4===t.length?String(e.getFullYear()):String(e.getFullYear()).slice(2,4)})).replace(/MM|M/,(function(t){return 2===t.length&&e.getMonth()<9?"0"+(e.getMonth()+1):String(e.getMonth()+1)})).replace(/dd|d/,(function(t){return 2===t.length&&e.getDate()<10?"0"+e.getDate():String(e.getDate())})).replace(/HH|H/,(function(t){return 2===t.length&&e.getHours()<10?"0"+e.getHours():String(e.getHours())})).replace(/hh|h/,(function(t){var n=e.getHours();return r=n>11?"PM":"AM",n=n>12?n-12:n,2===t.length&&n<10?r+" 0"+n:r+" "+n})).replace(/mm/,(function(){return e.getMinutes()<10?"0"+e.getMinutes():String(e.getMinutes())})).replace(/ss/,(function(){return e.getSeconds()<10?"0"+e.getSeconds():String(e.getSeconds())})).replace("tt",r)},t.getValueByPath=function(e,t,n){if(!t||!e)return n;for(var r=t.trim().replace(/^\.|\.$/g,"").split("."),o=e,i=0;i<r.length;++i){var a=r[i];if(void 0!==o[a]&&null!==o[a]){if(i===r.length-1)return o[a];o=o[a]}}return n},t.type=i,t.clone=function e(t){var n=i(t);if("object"!==n&&"array"!==n)return t;if("array"===n){var r=t.map((function(n){return n===t?r:e(n)}));return r}if("object"===n){var o={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(o[a]=t[a]===t?o:e(t[a]));return o}return t},t.cloneJSON=function(e){return JSON.parse(JSON.stringify(e))},t.tryCatch=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e];case 1:return[2,[t.sent(),null]];case 2:return[2,[null,t.sent()]];case 3:return[2]}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeHtml=t.encodeHtml=void 0,t.encodeHtml=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\x60/g,"&#96;").replace(/\x27/g,"&#39;").replace(/\x22/g,"&quot;")},t.decodeHtml=function(e){return String(e).replace(/&quot;/g,'"').replace(/&#0*39;/g,"'").replace(/&#0*96;/g,"`").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformNotSupportError=t.UnexpectedError=t.NotImplementedError=void 0;var i=function(e){function t(t){return void 0===t&&(t="\u65b9\u6cd5/\u7279\u6027\u5c1a\u672a\u5b9e\u73b0"),e.call(this,t)||this}return o(t,e),t}(Error);t.NotImplementedError=i;var a=function(e){function t(t){return void 0===t&&(t="\u4e0d\u662f\u9884\u6599\u4e2d\u7684\u7c7b\u578b/\u65b9\u6cd5"),e.call(this,t)||this}return o(t,e),t}(Error);t.UnexpectedError=a;var s=function(e){function t(t){return void 0===t&&(t="\u65b9\u6cd5\u4e0d\u652f\u6301\u5f53\u524d\u7684\u5e73\u53f0"),e.call(this,t)||this}return o(t,e),t}(Error);t.PlatformNotSupportError=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=t.clear=t.del=t.set=void 0;var r=n(0),o=n(5),i=n(1),a=n(2),s=n(3);function l(e,t,n){var i;if(void 0===n&&(n={}),r.isNode())throw new o.NotImplementedError;if((null===(i=n.ignoreDangerousSet)||void 0===i||!i)&&["uin","skey","p_uin","p_skey"].indexOf(e)>-1){var a="\u8b66\u544a\u4e0d\u5141\u8bb8\u8bbe\u7f6ekey\u4e3a"+e+"\u7684cookie\u3002\u5982\u679c\u4e00\u5b9a\u8981\u8bbe\u7f6e\uff0c\u8bf7\u786e\u4fdd\u4f60\u660e\u767d\u81ea\u5df1\u5728\u5e72\u4ec0\u4e48\uff0c\u5e76\u4e14\u5c06options.ignoreDangerousSet\u7684\u503c\u8bbe\u7f6e\u4e3atrue\u3002";throw console.warn(a),new Error(a)}var s=e+"="+encodeURIComponent(t)+";";if(n.domain&&(s+="domain="+n.domain+";"),n.path&&(s+="path="+n.path+";"),n.hour){var l=new Date;l.setTime(l.getTime()+36e5*n.hour),s+="expires="+l.toUTCString()+";"}window.document.cookie=s}function c(e,t,n){if(r.isNode())throw new o.NotImplementedError;l(e,"",{domain:t,path:n,hour:-999})}t.set=l,t.del=c,t.clear=function(e,t){if(r.isNode())throw new o.PlatformNotSupportError;var n=window.document.cookie.match(/\w+=[^;]*/g);if(n)for(var i=0,a=n.length;i<a;i++)c(n[i].split("=")[0],e,t)},t.get=function(e){if(a.hookMap.cookieGetter)return a.hookMap.cookieGetter(e);if(r.isNode())return void 0===i.default.context?"":s.getValueByPath(i.default.context,"window.request.cookies."+e,"");var t=new RegExp("(?:^|;\\s*)"+e+"=([^;]*)"),n=window.document.cookie.match(t);return n?decodeURIComponent(n[1]):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getParamsObj=t.parse=t.getParam=t.appendParam=t.toParamString=t.getCurrentLocation=void 0;var r=n(4),o=n(0),i=n(1),a=n(5),s=n(2);function l(){var e,t,n;if(s.hookMap.urlGetter)return s.hookMap.urlGetter();if(o.isNode()){var r=null===(n=null===(t=null===(e=null===i.default||void 0===i.default?void 0:i.default.context)||void 0===e?void 0:e.window)||void 0===t?void 0:t.request)||void 0===n?void 0:n.REQUEST;return r?r.protocol+"://"+r.host+r.href:""}return i.default.location.href}function c(e){if(!e)return"";var t=[];for(var n in e)("string"==typeof e[n]&&e[n]||"number"==typeof e[n])&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function u(e){if(o.isNode())throw new a.NotImplementedError;var t=document.createElement("a");return t.href=e,{href:e,protocol:t.protocol.replace(":",""),hostname:t.hostname,host:t.hostname,port:t.port,search:t.search,hash:t.hash,pathname:t.pathname.replace(/^([^/])/,"/$1"),params:function(){for(var e={},n=t.search.replace(/^\?/,"").split("&"),o=n.length,i=0;i<o;i++)if(n[i]){var a=n[i].indexOf("=");e[n[i].substr(0,a)]=r.encodeHtml(decodeURIComponent(escape(n[i].substr(a+1))))}return e}()}}t.getCurrentLocation=l,t.toParamString=c,t.appendParam=function(e,t,n){if(void 0===n&&(n=!1),!(t="string"==typeof t?t.replace(/^&/,""):c(t)))return e;if(n)-1===e.indexOf("#")?e+="#"+t:e+="&"+t;else if(-1===e.indexOf("#"))-1===e.indexOf("?")?e+="?"+t:e+="&"+t;else{var r=e.split("#");e=-1===r[0].indexOf("?")?r[0]+"?"+t+"#"+(r[1]||""):r[0]+"&"+t+"#"+(r[1]||"")}return e},t.getParam=function(e,t){void 0===t&&(t=l());var n=new RegExp("(\\?|#|&)"+e+"=(.*?)(&|#|$)"),r=t.match(n);return r?decodeURIComponent(r[2]):""},t.parse=u,t.getParamsObj=function(e){return void 0===e&&(e=l()),u(e).params}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hooks=t.globalThis=t.msg=t.string=t.xss=t.util=t.user=t.url=t.schema=t.browser=t.cookie=void 0;var r=n(0);t.browser=r;var o=n(6);t.cookie=o;var i=n(1);t.globalThis=i;var a=n(10);t.msg=a;var s=n(11);t.schema=s;var l=n(12);t.string=l;var c=n(7);t.url=c;var u=n(13);t.user=u;var d=n(3);t.util=d;var p=n(4);t.xss=p;var f=n(2);t.hooks=f},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":s(window))&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeHtml=t.hide=t.log=t.show=void 0;var r,o,i,a=n(0),s=n(4);Object.defineProperty(t,"encodeHtml",{enumerable:!0,get:function(){return s.encodeHtml}}),function(e){e.succ="hook",e.fail="cancel",e.info="info",e.loading="loading",e.noicon="noIcon"}(o||(o={})),function(e){e[e.succ=1]="succ",e[e.fail=2]="fail"}(i||(i={}));var l=['<style type="text/css" id="q_Msgbox_Style">',".gb-tips {position:fixed;width:100%;top:30%;text-align:center;z-index:9999;font-size:14px}",".gb-tips .gb-tips-layer {position:relative;display:inline-block;max-width:54%;padding:8px 10px 8px 38px;text-align:left;line-height:22px;background:rgba(0,0,0,.7);color:#fff;border-radius:5px;max-width:220px}",".gb-tips .gb-tips-layer.no-icon {padding:8px 10px}",".gb-tips .gb-tips-layer .icon-hook {position:absolute;top:12px;left:12px;width:17px;height:12px;background-image:url(//qzonestyle.gtimg.cn/qz-act/public/mobile/img/tick-white.png?max_age=19830212&d=20130918105242);background-size:17px 12px}",".gb-tips .gb-tips-layer .icon-info {position:absolute;top:7px;left:7px;width:24px;height:24px;background-image:url(//qzonestyle.gtimg.cn/qz-act/public/mobile/img/info-white.png?max_age=19830212&d=20130918105242);background-size:24px 24px}",".gb-tips .gb-tips-layer .icon-cancel {position:absolute;left:12px;top:11px;width:16px;height:16px;background-image:url(//qzonestyle.gtimg.cn/qz-act/public/mobile/img/close-white.png?max_age=19830212&d=20130918105242);background-size:16px 16px}",".gb-tips .gb-tips-layer .icon-loading {position:absolute;top:3px;left:3px;height:32px;width:32px;background:url(//qzonestyle.gtimg.cn/qz-proj/weishi-mobile/img/loading.gif?max_age=19830212&d=20130918105242) center center no-repeat;background-size:20px 20px;-webkit-animation:mask 600ms infinite step-start;-moz-animation:mask 600ms infinite step-start;-ms-animation:mask 600ms infinite step-start;-o-animation:mask 600ms infinite step-start;animation:mask 600ms infinite step-start}","</style>"].join("\n");function c(){var e=window.document.getElementById("q_Msgbox"),t=window.document.getElementById("q_Msgbox_Style");null==e||e.remove(),null==t||t.remove()}t.hide=c,t.show=function(e){var t,n,o,u,d,p=e.middle,f=e.vertical;if(r&&clearTimeout(r),c(),!e.delay&&!p&&!f&&"QQ"===a.getClient()&&window.mqq)return d="succ"===e.iconType?i.succ:"fail"===e.iconType?i.fail:i.succ,void(null===(n=null===(t=window.mqq)||void 0===t?void 0:t.ui)||void 0===n||n.showTips({text:null!==(o=e.content)&&void 0!==o?o:"",iconMode:d}));var h="200px",g=window.innerHeight;p&&(h=g/2-38+"px"),f&&(h="50%"),null===(u=window.document.querySelector("body"))||void 0===u||u.appendChild(function(e){var t,n=window.document.createElement("div");n.setAttribute("id","q_Msgbox"),n.setAttribute("class","gb-tips"),n.innerHTML='<div class="gb-tips-layer"><i></i>'+s.encodeHtml(null!==(t=e.content)&&void 0!==t?t:"")+"</div>";var r=n.querySelector(".gb-tips-layer");if("noIcon"===String(e.icon))r&&r.classList&&r.classList.add("no-icon");else{var o=n.querySelector("i");o&&o.classList&&o.classList.add("icon-"+e.icon)}return e.vertical&&(r.style.transform="rotateZ(90deg) translateY(-50%)"),e.top&&(n.style.top=e.top),window.document.createRange().createContextualFragment(l+n.outerHTML)}({icon:e.iconType||"info",content:e.content||"",vertical:f,top:h})),r=setTimeout(c,e.delay||2e3)},t.log=function(e){(new Image).src="//www.qq.com/log?log="+e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openPageInQQ=void 0;var r=n(0),o=n(5);t.openPageInQQ=function(e){if(void 0===e&&(e=window.location.href),r.isNode())throw new o.PlatformNotSupportError;r.getPlatform()===r.Platform.PC?window.location.href="https://cdn.vip.qq.com/club/themes/pc/qrcode/html/index.html?title=%E6%89%8B%E6%9C%BAQQ&qrcode_url="+encodeURIComponent(e):r.getClient()!==r.Client.QQ&&(window.location.href=window.location.protocol+"//imgcache.qq.com/club/themes/mobile/middle_page/index.html?url="+encodeURIComponent(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ubb2html=void 0;var r=n(0);t.ubb2html=function(e){void 0===e&&(e="");var t=r.getPlatform()===r.Platform.iOS;return e.replace(/\[em\]e(\d{3,10})\[\/em\]/g,(function(e,n){return'<img class="i-emoji-m" src="https://qzonestyle.gtimg.cn/qzone/em/e'+n+"@2x"+function(e,t){return e?".gif":parseInt(t,10)<200?".png":".gif"}(t,n)+'" alt="\u8868\u60c5" >'}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getToken=t.logout=t.isLogin=t.getUin=t.getAvatar=void 0;var r=n(6);t.getAvatar=function(e,t,n){return void 0===n&&(n="QQ"),"QQ"===n?"https://q.qlogo.cn/g?b=qq&nk="+e+"&s="+([40,100,140].includes(t)?t:100):"QQGroup"===n?(console.warn("QQGroup\u5934\u50cf\u76ee\u524d\u53ea\u6709100\u7684\u5c3a\u5bf8"),"https://p.qlogo.cn/gh/"+e+"/"+e+"/100"):"https://qlogo"+(e%4+1)+".store.qq.com/qzone/"+e+"/"+e+"/"+(t=[30,50,100].includes(t)?t:50)},t.getUin=function(){var e=(r.get("p_uin")||r.get("uin")||"").replace(/\D/g,""),t=Number(e);return t>1e4?t:0},t.isLogin=function(){return(r.get("p_skey")||r.get("skey")||"").length>0},t.logout=function(){r.clear(".qq.com","/"),r.clear(".qzone.qq.com","/"),r.clear(".vip.qq.com","/")},t.getToken=function(e){var t;if(""===(t=(t="p_skey"===e?r.get("p_skey"):"skey"===e?r.get("skey"):r.get("p_skey")||r.get("skey"))||""))return 0;for(var n=5381,o=0,i=t.length;o<i;++o)n+=(n<<5)+t.charCodeAt(o);return 2147483647&n}}])},"object"==s(t)&&"object"==s(e)?e.exports=a():(o=[],void 0===(i="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=i))},3862:function(e,t,n){var r,o,i;e=n.nmd(e);var a,s=n(4614).default;n(1817),n(1703),n(7658),n(2707),n(3948),n(4916),n(5306),n(8862),n(4603),n(8450),n(5827),n(6644),n(9575),n(3210),n(9070),n(2526),n(1817),n(1539),n(3680),n(3706),n(2703),n(9714),n(4747),n(7941),n(4553),n(2707),n(9653),n(2772),n(2222),n(2165),n(6992),n(8783),n(3948),n(3161),n(4916),n(5306),n(6210),n(4603),n(4723),n(1249),n(5827),n(5003),n(1038),n(6644),n(7327),n(7042),n(1058),n(3123),n(4986),n(1532),n(189),n(2479),n(6699),n(2023),n(561),n(9575),n(9601),n(3210),n(9826),window,a=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==s(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(4),i=["white","grey","black","blue","cyan","green","magenta","red","yellow"],a=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.level=t,this.levelStr=n,this.colour=r}var t,n,o;return t=e,o=[{key:"getLevel",value:function(t,n){return t?t instanceof e?t:(t instanceof Object&&t.levelStr&&(t=t.levelStr),e[t.toString().toUpperCase()]||n):n}},{key:"addLevels",value:function(t){t&&(Object.keys(t).forEach((function(n){var r=n.toUpperCase();e[r]=new e(t[n].value,r,t[n].colour);var o=e.levels.findIndex((function(e){return e.levelStr===r}));o>-1?e.levels[o]=e[r]:e.levels.push(e[r])})),e.levels.sort((function(e,t){return e.level-t.level})))}}],(n=[{key:"toString",value:function(){return this.levelStr}},{key:"isLessThanOrEqualTo",value:function(t){return"string"==typeof t&&(t=e.getLevel(t)),this.level<=t.level}},{key:"isGreaterThanOrEqualTo",value:function(t){return"string"==typeof t&&(t=e.getLevel(t)),this.level>=t.level}},{key:"isEqualTo",value:function(t){return"string"==typeof t&&(t=e.getLevel(t)),this.level===t.level}}])&&r(t.prototype,n),o&&r(t,o),e}();a.levels=[],a.addLevels({ALL:{value:Number.MIN_VALUE,colour:"grey"},TRACE:{value:5e3,colour:"blue"},DEBUG:{value:1e4,colour:"cyan"},INFO:{value:2e4,colour:"green"},WARN:{value:3e4,colour:"yellow"},ERROR:{value:4e4,colour:"red"},FATAL:{value:5e4,colour:"magenta"},MARK:{value:9007199254740992,colour:"grey"},OFF:{value:Number.MAX_VALUE,colour:"grey"}}),o.addListener((function(e){var t=e.levels;t&&(o.throwExceptionIf(e,o.not(o.anObject(t)),"levels must be an object"),Object.keys(t).forEach((function(n){o.throwExceptionIf(e,o.not(o.validIdentifier(n)),'level name "'.concat(n,'" is not a valid identifier (must start with a letter, only contain A-Z,a-z,0-9,_)')),o.throwExceptionIf(e,o.not(o.anObject(t[n])),'level "'.concat(n,'" must be an object')),o.throwExceptionIf(e,o.not(t[n].value),'level "'.concat(n,"\" must have a 'value' property")),o.throwExceptionIf(e,o.not(o.anInteger(t[n].value)),'level "'.concat(n,'".value must have an integer value')),o.throwExceptionIf(e,o.not(t[n].colour),'level "'.concat(n,"\" must have a 'colour' property")),o.throwExceptionIf(e,o.not(i.indexOf(t[n].colour)>-1),'level "'.concat(n,'".colour must be one of ').concat(i.join(", ")))})))})),o.addListener((function(e){a.addLevels(e.levels)})),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configure=void 0,t.configure=function(){throw new Error("this appender cannot run in browser")}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){e.exports=function(){return function(){}}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)})(e)}var o=n(5),i=n(3)("log4js:configuration"),a=[],l=[],c=function(e){return!e},u=function(e){return e&&"object"===r(e)&&!Array.isArray(e)},d=function(e,t,n){(Array.isArray(t)?t:[t]).forEach((function(t){if(t)throw new Error("Problem with log4js configuration: (".concat(o.inspect(e,{depth:5}),")")+" - ".concat(n))}))};e.exports={configure:function(e){i("New configuration to be validated: ",e),d(e,c(u(e)),"must be an object."),i("Calling pre-processing listeners (".concat(a.length,")")),a.forEach((function(t){return t(e)})),i("Configuration pre-processing finished."),i("Calling configuration listeners (".concat(l.length,")")),l.forEach((function(t){return t(e)})),i("Configuration finished.")},addListener:function(e){l.push(e),i("Added listener, now ".concat(l.length," listeners"))},addPreProcessingListener:function(e){a.push(e),i("Added pre-processing listener, now ".concat(a.length," listeners"))},throwExceptionIf:d,anObject:u,anInteger:function(e){return e&&"number"==typeof e&&Number.isInteger(e)},validIdentifier:function(e){return/^[A-Za-z][A-Za-z0-9_]*$/g.test(e)},not:c}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)})(e)}e.exports={inspect:o,format:function(e){if(!d(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,a=i.length,s=String(e).replace(r,(function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}})),l=i[n];n<a;l=i[++n])p(l)||!g(l)?s+=" "+l:s+=" "+o(l);return s}};var r=/%[sdj%]/g;function o(e,t){var n={seen:[],stylize:i};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),a(t)?n.showHidden=t:t&&I(n,t),l(n.showHidden)&&(n.showHidden=!1),l(n.depth)&&(n.depth=2),l(n.colors)&&(n.colors=!1),l(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),m(n,e,n.depth)}function i(e,t){return e}function a(e){return"boolean"==typeof e}function l(e){return void 0===e}function c(e,t){var n=o.styles[t];return n?"\x1b["+o.colors[n][0]+"m"+e+"\x1b["+o.colors[n][1]+"m":e}function u(e){return"function"==typeof e}function d(e){return"string"==typeof e}function p(e){return null===e}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e){return g(e)&&"[object RegExp]"===y(e)}function g(e){return"object"===n(e)&&null!==e}function v(e){return g(e)&&("[object Error]"===y(e)||e instanceof Error)}function A(e){return g(e)&&"[object Date]"===y(e)}function y(e){return Object.prototype.toString.call(e)}function _(e){return"["+Error.prototype.toString.call(e)+"]"}function m(e,t,n){if(e.customInspect&&t&&u(t.inspect)&&t.inspect!==o&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return d(r)||(r=m(e,r,n)),r}var i=function(e,t){if(l(t))return e.stylize("undefined","undefined");if(d(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return"number"==typeof t?e.stylize(""+t,"number"):a(t)?e.stylize(""+t,"boolean"):p(t)?e.stylize("null","null"):void 0}(e,t);if(i)return i;var s=Object.keys(t),c=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(s);try{e.showHidden&&Object.getOwnPropertyNames&&(s=Object.getOwnPropertyNames(t))}catch(e){}if(v(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return _(t);if(0===s.length){if(u(t)){var g=t.name?": "+t.name:"";return e.stylize("[Function"+g+"]","special")}if(h(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(A(t))return e.stylize(Date.prototype.toString.call(t),"date");if(v(t))return _(t)}var y,I="",b=!1,C=["{","}"];return Array.isArray(t)&&(b=!0,C=["[","]"]),u(t)&&(I=" [Function"+(t.name?": "+t.name:"")+"]"),h(t)&&(I=" "+RegExp.prototype.toString.call(t)),A(t)&&(I=" "+Date.prototype.toUTCString.call(t)),v(t)&&(I=" "+_(t)),0!==s.length||b&&0!=t.length?n<0?h(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),y=b?function(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)f(t,String(a))?i.push(E(e,t,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(E(e,t,n,r,o,!0))})),i}(e,t,n,c,s):s.map((function(r){return E(e,t,n,c,r,b)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(y,I,C)):C[0]+I+C[1]}function E(e,t,n,r,o,i){var a,s,c;c={value:void 0};try{c.value=t[o]}catch(e){}try{Object.getOwnPropertyDescriptor&&(c=Object.getOwnPropertyDescriptor(t,o)||c)}catch(e){}if(c.get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),f(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=p(n)?m(e,c.value,null):m(e,c.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),l(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function I(e,t){if(!t||!g(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onMessage=t.send=t.onlyOnMaster=t.isMaster=void 0;var r=[];t.isMaster=function(){return!0},t.onlyOnMaster=function(e){return e()},t.send=function(e){!function(e){r.forEach((function(t){return t(e)}))}(e)},t.onMessage=function(e){r.push(e)}},function(e,t){var n=console.log.bind(console);e.exports.configure=function(e,t){var r=t.colouredLayout;return e.layout&&(r=t.layout(e.layout.type,e.layout)),function(e,t){return function(r){n(e(r,t))}}(r,e.timezoneOffset)}},function(e,t,n){(function(t){var r=n(3)("log4js:main"),o=n(21),i=n(22)({proto:!0}),a=n(4),s=n(9),l=n(0),c=n(11),u=n(12),d=n(27),p=n(6),f=n(30),h=!1;function g(e){h&&(r("Received log event ",e),u.appendersForCategory(e.categoryName).forEach((function(t){t(e)})))}function v(e){var t=e;return"string"==typeof t&&(t=function(e){r("Loading configuration from ".concat(e));try{return JSON.parse(o.readFileSync(e,"utf8"))}catch(t){throw new Error('Problem reading config from file "'.concat(e,'". Error was ').concat(t.message),t)}}(e)),r("Configuration is ".concat(t)),a.configure(i(t)),p.onMessage(g),h=!0,A}var A={getLogger:function(e){return h||v(t.env.LOG4JS_CONFIG||{appenders:{out:{type:"stdout"}},categories:{default:{appenders:["out"],level:"OFF"}}}),new d(e||"default")},configure:v,shutdown:function(e){r("Shutdown called. Disabling all log writing."),h=!1;var t,n=Array.from(c.values()),o=n.reduceRight((function(e,t){return t.shutdown?e+1:e}),0),i=0;function a(n){t=t||n,r("Appender shutdowns complete: ".concat(i+=1," / ").concat(o)),i>=o&&(r("All shutdown functions completed."),e&&e(t))}return r("Found ".concat(o," appenders with shutdown functions.")),0===o?(r("No appenders with shutdown functions found."),void 0!==e&&e()):(n.filter((function(e){return e.shutdown})).forEach((function(e){return e.shutdown(a)})),null)},connectLogger:f,levels:l,addLayout:s.addLayout};e.exports=A}).call(this,n(2))},function(e,t,n){(function(t){function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=n(23),a=n(24),s=n(5),l=n(10),c={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[90,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[91,39],yellow:[33,39]};function u(e){return e?"\x1b[".concat(c[e][0],"m"):""}function d(e){return e?"\x1b[".concat(c[e][1],"m"):""}function p(e,t){return n=s.format("[%s] [%s] %s - ",i.asString(e.startTime),e.level.toString(),e.categoryName),u(r=t)+n+d(r);var n,r}function f(e){return p(e)+s.format.apply(s,r(e.data))}function h(e){return p(e,e.level.colour)+s.format.apply(s,r(e.data))}function g(e){return s.format.apply(s,r(e.data))}function v(e){return e.data[0]}function A(e,n){var o=/%(-?[0-9]+)?(\.?-?[0-9]+)?([[\]cdhmnprzxXyflos%])(\{([^}]+)\})?|([^%]+)/;function c(e){return e&&e.pid?e.pid.toString():t.pid.toString()}e=e||"%r %p %c - %m%n";var p={c:function(e,t){var n=e.categoryName;if(t){var r=parseInt(t,10),o=n.split(".");r<o.length&&(n=o.slice(o.length-r).join("."))}return n},d:function(e,t){var n=i.ISO8601_FORMAT;return t&&("ISO8601"===(n=t)?n=i.ISO8601_FORMAT:"ISO8601_WITH_TZ_OFFSET"===n?n=i.ISO8601_WITH_TZ_OFFSET_FORMAT:"ABSOLUTE"===n?n=i.ABSOLUTETIME_FORMAT:"DATE"===n&&(n=i.DATETIME_FORMAT)),i.asString(n,e.startTime)},h:function(){return a.hostname().toString()},m:function(e){return s.format.apply(s,r(e.data))},n:function(){return a.EOL},p:function(e){return e.level.toString()},r:function(e){return i.asString("hh:mm:ss",e.startTime)},"[":function(e){return u(e.level.colour)},"]":function(e){return d(e.level.colour)},y:function(){return c()},z:c,"%":function(){return"%"},x:function(e,t){return void 0!==n[t]?"function"==typeof n[t]?n[t](e):n[t]:null},X:function(e,t){var n=e.context[t];return void 0!==n?"function"==typeof n?n(e):n:null},f:function(e,t){var n=e.fileName||"";if(t){var r=parseInt(t,10),o=n.split(l.sep);o.length>r&&(n=o.slice(-r).join(l.sep))}return n},l:function(e){return e.lineNumber?"".concat(e.lineNumber):""},o:function(e){return e.columnNumber?"".concat(e.columnNumber):""},s:function(e){return e.callStack||""}};function f(e,t,n){return p[e](t,n)}function h(e,t,n){var r=e;return function(e,t){var n;if(e)if("-"===e.charAt(0))for(n=parseInt(e.substr(1),10);t.length<n;)t+=" ";else for(n=parseInt(e,10);t.length<n;)t=" ".concat(t);return t}(n,r=function(e,t){var n;return e?(n=parseInt(e.substr(1),10))>0?t.slice(0,n):t.slice(n):t}(t,r))}return function(t){for(var n,r="",i=e;null!==(n=o.exec(i));){var a=n[1],s=n[2],l=n[3],c=n[5],u=n[6];r+=u?u.toString():h(f(l,t,c),s,a),i=i.substr(n.index+n[0].length)}return r}}var y={messagePassThrough:function(){return g},basic:function(){return f},colored:function(){return h},coloured:function(){return h},pattern:function(e){return A(e&&e.pattern,e&&e.tokens)},dummy:function(){return v}};e.exports={basicLayout:f,messagePassThroughLayout:g,patternLayout:A,colouredLayout:h,coloredLayout:h,dummyLayout:v,addLayout:function(e,t){y[e]=t},layout:function(e,t){return y[e]&&y[e](t)}}}).call(this,n(2))},function(e,t,n){"use strict";(function(t){function n(e){return(n="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)})(e)}function r(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function o(e,t){for(var n,r="",o=0,i=-1,a=0,s=0;s<=e.length;++s){if(s<e.length)n=e.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(i===s-1||1===a);else if(i!==s-1&&2===a){if(r.length<2||2!==o||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){-1===l?(r="",o=0):o=(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),i=s,a=0;continue}}else if(2===r.length||1===r.length){r="",o=0,i=s,a=0;continue}t&&(r.length>0?r+="/..":r="..",o=2)}else r.length>0?r+="/"+e.slice(i+1,s):r=e.slice(i+1,s),o=s-i-1;i=s,a=0}else 46===n&&-1!==a?++a:a=-1}return r}var i={resolve:function(){for(var e,n="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var s;a>=0?s=arguments[a]:(void 0===e&&(e=t.cwd()),s=e),r(s),0!==s.length&&(n=s+"/"+n,i=47===s.charCodeAt(0))}return n=o(n,!i),i?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(r(e),0===e.length)return".";var t=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return 0!==(e=o(e,!t)).length||t||(e="."),e.length>0&&n&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return r(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];r(n),n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":i.normalize(e)},relative:function(e,t){if(r(e),r(t),e===t)return"";if((e=i.resolve(e))===(t=i.resolve(t)))return"";for(var n=1;n<e.length&&47===e.charCodeAt(n);++n);for(var o=e.length,a=o-n,s=1;s<t.length&&47===t.charCodeAt(s);++s);for(var l=t.length-s,c=a<l?a:l,u=-1,d=0;d<=c;++d){if(d===c){if(l>c){if(47===t.charCodeAt(s+d))return t.slice(s+d+1);if(0===d)return t.slice(s+d)}else a>c&&(47===e.charCodeAt(n+d)?u=d:0===d&&(u=0));break}var p=e.charCodeAt(n+d);if(p!==t.charCodeAt(s+d))break;47===p&&(u=d)}var f="";for(d=n+u+1;d<=o;++d)d!==o&&47!==e.charCodeAt(d)||(0===f.length?f+="..":f+="/..");return f.length>0?f+t.slice(s+u):(s+=u,47===t.charCodeAt(s)&&++s,t.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(r(e),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,o=-1,i=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!i){o=a;break}}else i=!1;return-1===o?n?"/":".":n&&1===o?"//":e.slice(0,o)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');r(e);var n,o=0,i=-1,a=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var s=t.length-1,l=-1;for(n=e.length-1;n>=0;--n){var c=e.charCodeAt(n);if(47===c){if(!a){o=n+1;break}}else-1===l&&(a=!1,l=n+1),s>=0&&(c===t.charCodeAt(s)?-1==--s&&(i=n):(s=-1,i=l))}return o===i?i=l:-1===i&&(i=e.length),e.slice(o,i)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!a){o=n+1;break}}else-1===i&&(a=!1,i=n+1);return-1===i?"":e.slice(o,i)},extname:function(e){r(e);for(var t=-1,n=0,o=-1,i=!0,a=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(47!==l)-1===o&&(i=!1,o=s+1),46===l?-1===t?t=s:1!==a&&(a=1):-1!==t&&(a=-1);else if(!i){n=s+1;break}}return-1===t||-1===o||0===a||1===a&&t===o-1&&t===n+1?"":e.slice(t,o)},format:function(e){if(null===e||"object"!==n(e))throw new TypeError('The "pathObject" argument must be of type Object. Received type '+n(e));return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+"/"+r:r}(0,e)},parse:function(e){r(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,o=e.charCodeAt(0),i=47===o;i?(t.root="/",n=1):n=0;for(var a=-1,s=0,l=-1,c=!0,u=e.length-1,d=0;u>=n;--u)if(47!==(o=e.charCodeAt(u)))-1===l&&(c=!1,l=u+1),46===o?-1===a?a=u:1!==d&&(d=1):-1!==a&&(d=-1);else if(!c){s=u+1;break}return-1===a||-1===l||0===d||1===d&&a===l-1&&a===s+1?-1!==l&&(t.base=t.name=0===s&&i?e.slice(1,l):e.slice(s,l)):(0===s&&i?(t.name=e.slice(1,a),t.base=e.slice(1,l)):(t.name=e.slice(s,a),t.base=e.slice(s,l)),t.ext=e.slice(a,l)),s>0?t.dir=e.slice(0,s-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,e.exports=i}).call(this,n(2))},function(e,t,n){(function(t){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=n(10),i=n(3)("log4js:appenders"),a=n(4),s=n(6),l=n(0),c=n(9),u=n(25),d=new Map;d.set("console",n(7)),d.set("stdout",n(7)),d.set("stderr",n(7)),d.set("logLevelFilter",n(1)),d.set("categoryFilter",n(1)),d.set("noLogFilter",n(1)),d.set("file",n(1)),d.set("dateFile",n(1)),d.set("fileSync",n(1));var p=new Map,f=function(e,t){i("Loading module from ",e);try{return n(26)(e)}catch(n){return void a.throwExceptionIf(t,"MODULE_NOT_FOUND"!==n.code,'appender "'.concat(e,'" could not be loaded (error was: ').concat(n,")"))}},h=new Set,g=function(e,t){if(p.has(e))return p.get(e);if(!t.appenders[e])return!1;if(h.has(e))throw new Error("Dependency loop detected for appender ".concat(e,"."));h.add(e),i("Creating appender ".concat(e));var n=v(e,t);return h.delete(e),p.set(e,n),n},v=function(e,r){var p=r.appenders[e],h=p.type.configure?p.type:function(e,r){return d.get(e)||f("./".concat(e),r)||f(e,r)||n.c[n.s]&&f(o.join(o.dirname(n.c[n.s].filename),e),r)||f(o.join(t.cwd(),e),r)}(p.type,r);return a.throwExceptionIf(r,a.not(h),'appender "'.concat(e,'" is not valid (type "').concat(p.type,'" could not be found)')),h.appender&&i("DEPRECATION: Appender ".concat(p.type," exports an appender function.")),h.shutdown&&i("DEPRECATION: Appender ".concat(p.type," exports a shutdown function.")),i("".concat(e,": clustering.isMaster ? ").concat(s.isMaster())),i("".concat(e,": appenderModule is ").concat(n(5).inspect(h))),s.onlyOnMaster((function(){return i("calling appenderModule.configure for ".concat(e," / ").concat(p.type)),h.configure(u.modifyConfig(p),c,(function(e){return g(e,r)}),l)}),(function(){}))},A=function(e){p.clear(),h.clear();var t=[];Object.values(e.categories).forEach((function(e){t.push.apply(t,function(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.appenders))})),Object.keys(e.appenders).forEach((function(n){(t.includes(n)||"tcp-server"===e.appenders[n].type)&&g(n,e)}))};A({appenders:{out:{type:"stdout"}},categories:{default:{appenders:["out"],level:"trace"}}}),a.addListener((function(e){a.throwExceptionIf(e,a.not(a.anObject(e.appenders)),'must have a property "appenders" of type object.');var t=Object.keys(e.appenders);a.throwExceptionIf(e,a.not(t.length),"must define at least one appender."),t.forEach((function(t){a.throwExceptionIf(e,a.not(e.appenders[t].type),'appender "'.concat(t,'" is not valid (must be an object with property "type")'))}))})),a.addListener(A),e.exports=p}).call(this,n(2))},function(e,t,n){var r=n(3)("log4js:categories"),o=n(4),i=n(0),a=n(11),s=new Map;o.addPreProcessingListener((function(e){return function(e){e.categories&&Object.keys(e.categories).forEach((function(t){var n=e.categories[t];!function e(t,n,r){if(!1!==n.inherit){var o=r.lastIndexOf(".");if(!(o<0)){var i=r.substring(0,o),a=t.categories[i];a||(a={inherit:!0,appenders:[]}),e(t,a,i),!t.categories[i]&&a.appenders&&a.appenders.length&&a.level&&(t.categories[i]=a),n.appenders=n.appenders||[],n.level=n.level||a.level,a.appenders.forEach((function(e){n.appenders.includes(e)||n.appenders.push(e)})),n.parent=a}}}(e,n,t)}))}(e)})),o.addListener((function(e){o.throwExceptionIf(e,o.not(o.anObject(e.categories)),'must have a property "categories" of type object.');var t=Object.keys(e.categories);o.throwExceptionIf(e,o.not(t.length),"must define at least one category."),t.forEach((function(t){var n=e.categories[t];o.throwExceptionIf(e,[o.not(n.appenders),o.not(n.level)],'category "'.concat(t,'" is not valid (must be an object with properties "appenders" and "level")')),o.throwExceptionIf(e,o.not(Array.isArray(n.appenders)),'category "'.concat(t,'" is not valid (appenders must be an array of appender names)')),o.throwExceptionIf(e,o.not(n.appenders.length),'category "'.concat(t,'" is not valid (appenders must contain at least one appender name)')),Object.prototype.hasOwnProperty.call(n,"enableCallStack")&&o.throwExceptionIf(e,"boolean"!=typeof n.enableCallStack,'category "'.concat(t,'" is not valid (enableCallStack must be boolean type)')),n.appenders.forEach((function(n){o.throwExceptionIf(e,o.not(a.get(n)),'category "'.concat(t,'" is not valid (appender "').concat(n,'" is not defined)'))})),o.throwExceptionIf(e,o.not(i.getLevel(n.level)),'category "'.concat(t,'" is not valid (level "').concat(n.level,'" not recognised;')+" valid levels are ".concat(i.levels.join(", "),")"))})),o.throwExceptionIf(e,o.not(e.categories.default),'must define a "default" category.')}));var l=function(e){s.clear(),Object.keys(e.categories).forEach((function(t){var n=e.categories[t],o=[];n.appenders.forEach((function(e){o.push(a.get(e)),r("Creating category ".concat(t)),s.set(t,{appenders:o,level:i.getLevel(n.level),enableCallStack:n.enableCallStack||!1})}))}))};l({categories:{default:{appenders:["out"],level:"OFF"}}}),o.addListener(l);var c=function e(t){return r("configForCategory: searching for config for ".concat(t)),s.has(t)?(r("configForCategory: ".concat(t," exists in config, returning it")),s.get(t)):t.indexOf(".")>0?(r("configForCategory: ".concat(t," has hierarchy, searching for parents")),e(t.substring(0,t.lastIndexOf(".")))):(r("configForCategory: returning config for default category"),e("default"))};e.exports={appendersForCategory:function(e){return c(e).appenders},getLevelForCategory:function(e){return c(e).level},setLevelForCategory:function(e,t){var n=s.get(e);if(r("setLevelForCategory: found ".concat(n," for ").concat(e)),!n){var o=c(e);r("setLevelForCategory: no config found for category, "+"found ".concat(o," for parents of ").concat(e)),n={appenders:o.appenders}}n.level=t,s.set(e,n)},getEnableCallStackForCategory:function(e){return!0===c(e).enableCallStack},setEnableCallStackForCategory:function(e,t){c(e).enableCallStack=t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(32),o=n(33),i=n(14).default.get(document.cookie,r.QLOG_ID_COOKIE_KEY)||o.randomId();t.default={id:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={get:function(e,t){var n,r=("; "+e).split("; "+t+"=");if(2===r.length)return null===(n=r.pop())||void 0===n?void 0:n.split(";").shift()}}},function(e,t,n){n(16),n(17),n(18),n(19),e.exports=n(20)},function(e,t){var n=function(){this.data={},this.size=0},r=function(e){return JSON.stringify(e)};n.prototype.set=function(e,t){this.data[r(e)]=t,this.size+=1},n.prototype.get=function(e){return this.data[r(e)]},n.prototype.has=function(e){return void 0!==this.data[r(e)]},n.prototype.delete=function(e){delete this.data[r(e)],this.size-=1},n.prototype.clear=function(){this.data={},this.size=0},n.prototype.values=function(){var e=[];for(var t in this.data)e.push(this.data[t]);return e},n.prototype.forEach=function(e){if(e)for(var t in this.data)e(t,this.data[t])},window.Map=window.Map||n},function(e,t){var n=function(){this.data=[],this.size=0};n.prototype.add=function(e){this.has(e)||(this.data.push(e),this.size=this.data.length)},n.prototype.has=function(e){for(var t=0;t<this.data.length;t++)if(this.data[t]===e)return!0;return!1},n.prototype.delete=function(e){for(var t=-1,n=0;n<this.data.length;n++)if(this.data[n]===e){t=n;break}-1!==t&&this.data.splice(t,1),this.size=this.data.length},n.prototype.clear=function(){this.data=[],this.size=0},n.prototype.keys=function(){return this.data},n.prototype.values=function(){return this.data},n.prototype.forEach=function(e){this.data.forEach(e)},window.Set=window.Set||n},function(e,t){Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],o=0;o<n;){var i=t[o];if(e.call(r,i,o,t))return o;o++}return-1}}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;for(var o,i,a=0|t,s=Math.max(a>=0?a:r-Math.abs(a),0);s<r;){if((o=n[s])===(i=e)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;s++}return!1}})},function(e,t){Object.values||(Object.values=function(e){if(e!==Object(e))throw new TypeError("Object.values called on a non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(e[t]);return n})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),a=n(31),s=n(34);i.configure({appenders:{console:{type:"console"},"qq-native":{type:a.default,key:"qlog"},atta:{type:s.default}},categories:{default:{appenders:["console"],level:"ALL"},"qq-native":{appenders:["qq-native"],level:"ALL"},"qlog-atta":{appenders:["atta"],level:"ALL"},qqweb:{appenders:["console","qq-native","atta"],level:"ALL"}}}),o(n(8),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readFileSync=void 0,t.readFileSync=function(){throw new Error("readFileSync is not defined in browser")}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)})(e)}function o(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}e.exports=function(e){return(e=e||{}).circles?function(e){var t=[],n=[];return e.proto?function e(a){if("object"!==r(a)||null===a)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return i(a,e);if(a instanceof Map)return new Map(i(Array.from(a),e));if(a instanceof Set)return new Set(i(Array.from(a),e));var s={};for(var l in t.push(a),n.push(s),a){var c=a[l];if("object"!==r(c)||null===c)s[l]=c;else if(c instanceof Date)s[l]=new Date(c);else if(c instanceof Map)s[l]=new Map(i(Array.from(c),e));else if(c instanceof Set)s[l]=new Set(i(Array.from(c),e));else if(ArrayBuffer.isView(c))s[l]=o(c);else{var u=t.indexOf(c);s[l]=-1!==u?n[u]:e(c)}}return t.pop(),n.pop(),s}:function e(a){if("object"!==r(a)||null===a)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return i(a,e);if(a instanceof Map)return new Map(i(Array.from(a),e));if(a instanceof Set)return new Set(i(Array.from(a),e));var s={};for(var l in t.push(a),n.push(s),a)if(!1!==Object.hasOwnProperty.call(a,l)){var c=a[l];if("object"!==r(c)||null===c)s[l]=c;else if(c instanceof Date)s[l]=new Date(c);else if(c instanceof Map)s[l]=new Map(i(Array.from(c),e));else if(c instanceof Set)s[l]=new Set(i(Array.from(c),e));else if(ArrayBuffer.isView(c))s[l]=o(c);else{var u=t.indexOf(c);s[l]=-1!==u?n[u]:e(c)}}return t.pop(),n.pop(),s};function i(e,i){for(var a=Object.keys(e),s=new Array(a.length),l=0;l<a.length;l++){var c=a[l],u=e[c];if("object"!==r(u)||null===u)s[c]=u;else if(u instanceof Date)s[c]=new Date(u);else if(ArrayBuffer.isView(u))s[c]=o(u);else{var d=t.indexOf(u);s[c]=-1!==d?n[d]:i(u)}}return s}}(e):e.proto?function e(n){if("object"!==r(n)||null===n)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return t(n,e);if(n instanceof Map)return new Map(t(Array.from(n),e));if(n instanceof Set)return new Set(t(Array.from(n),e));var i={};for(var a in n){var s=n[a];"object"!==r(s)||null===s?i[a]=s:s instanceof Date?i[a]=new Date(s):s instanceof Map?i[a]=new Map(t(Array.from(s),e)):s instanceof Set?i[a]=new Set(t(Array.from(s),e)):ArrayBuffer.isView(s)?i[a]=o(s):i[a]=e(s)}return i}:function e(n){if("object"!==r(n)||null===n)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return t(n,e);if(n instanceof Map)return new Map(t(Array.from(n),e));if(n instanceof Set)return new Set(t(Array.from(n),e));var i={};for(var a in n)if(!1!==Object.hasOwnProperty.call(n,a)){var s=n[a];"object"!==r(s)||null===s?i[a]=s:s instanceof Date?i[a]=new Date(s):s instanceof Map?i[a]=new Map(t(Array.from(s),e)):s instanceof Set?i[a]=new Set(t(Array.from(s),e)):ArrayBuffer.isView(s)?i[a]=o(s):i[a]=e(s)}return i};function t(e,t){for(var n=Object.keys(e),i=new Array(n.length),a=0;a<n.length;a++){var s=n[a],l=e[s];"object"!==r(l)||null===l?i[s]=l:l instanceof Date?i[s]=new Date(l):ArrayBuffer.isView(l)?i[s]=o(l):i[s]=t(l)}return i}}},function(e,t,n){"use strict";function r(e,t){for(var n=e.toString();n.length<t;)n="0"+n;return n}function o(e){return r(e,2)}function i(t,n){"string"!=typeof t&&(n=t,t=e.exports.ISO8601_FORMAT),n||(n=e.exports.now());var i,a,s,l,c=o(n.getDate()),u=o(n.getMonth()+1),d=o(n.getFullYear()),p=o(d.substring(2,4)),f=t.indexOf("yyyy")>-1?d:p,h=o(n.getHours()),g=o(n.getMinutes()),v=o(n.getSeconds()),A=r(n.getMilliseconds(),3),y=(i=n.getTimezoneOffset(),a=Math.abs(i),s=String(Math.floor(a/60)),l=String(a%60),1===s.length&&(s="0"+s),1===l.length&&(l="0"+l),i<0?"+"+s+l:"-"+s+l);return t.replace(/dd/g,c).replace(/MM/g,u).replace(/y{1,4}/g,f).replace(/hh/g,h).replace(/mm/g,g).replace(/ss/g,v).replace(/SSS/g,A).replace(/O/g,y)}function a(e,t,n,r){e["set"+(r?"":"UTC")+t](n)}e.exports=i,e.exports.asString=i,e.exports.parse=function(t,n,r){if(!t)throw new Error("pattern must be supplied");return function(t,n,r){var o=t.indexOf("O")<0,i=[{pattern:/y{1,4}/,regexp:"\\d{1,4}",fn:function(e,t){a(e,"FullYear",t,o)}},{pattern:/MM/,regexp:"\\d{1,2}",fn:function(e,t){a(e,"Month",t-1,o)}},{pattern:/dd/,regexp:"\\d{1,2}",fn:function(e,t){a(e,"Date",t,o)}},{pattern:/hh/,regexp:"\\d{1,2}",fn:function(e,t){a(e,"Hours",t,o)}},{pattern:/mm/,regexp:"\\d\\d",fn:function(e,t){a(e,"Minutes",t,o)}},{pattern:/ss/,regexp:"\\d\\d",fn:function(e,t){a(e,"Seconds",t,o)}},{pattern:/SSS/,regexp:"\\d\\d\\d",fn:function(e,t){a(e,"Milliseconds",t,o)}},{pattern:/O/,regexp:"[+-]\\d{3,4}|Z",fn:function(e,t){"Z"===t&&(t=0);var n=Math.abs(t),r=(t>0?-1:1)*(n%100+60*Math.floor(n/100));e.setUTCMinutes(e.getUTCMinutes()+r)}}],s=i.reduce((function(e,t){return t.pattern.test(e.regexp)?(t.index=e.regexp.match(t.pattern).index,e.regexp=e.regexp.replace(t.pattern,"("+t.regexp+")")):t.index=-1,e}),{regexp:t,index:[]}),l=i.filter((function(e){return e.index>-1}));l.sort((function(e,t){return e.index-t.index}));var c=new RegExp(s.regexp).exec(n);if(c){var u=r||e.exports.now();return l.forEach((function(e,t){e.fn(u,c[t+1])})),u}throw new Error("String '"+n+"' could not be parsed as '"+t+"'")}(t,n,r)},e.exports.now=function(){return new Date},e.exports.ISO8601_FORMAT="yyyy-MM-ddThh:mm:ss.SSS",e.exports.ISO8601_WITH_TZ_OFFSET_FORMAT="yyyy-MM-ddThh:mm:ss.SSSO",e.exports.DATETIME_FORMAT="dd MM yyyy hh:mm:ss.SSS",e.exports.ABSOLUTETIME_FORMAT="hh:mm:ss.SSS"},function(e,t){},function(e,t){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function r(e){if("number"==typeof e&&Number.isInteger(e))return e;var t={K:1024,M:1048576,G:1073741824},n=Object.keys(t),r=e.substr(e.length-1).toLocaleUpperCase(),o=e.substring(0,e.length-1).trim();if(n.indexOf(r)<0||!Number.isInteger(Number(o)))throw Error('maxLogSize: "'.concat(e,'" is invalid'));return o*t[r]}function o(e){return function(e,t){var r=n({},t);return Object.keys(e).forEach((function(n){r[n]&&(r[n]=e[n](t[n]))})),r}({maxLogSize:r},e)}var i={file:o,fileSync:o};e.exports.modifyConfig=function(e){return i[e.type]?i[e.type](e):e}},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=26},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(3)("log4js:logger"),i=n(28),a=n(0),s=n(6),l=n(12),c=n(4),u=/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/;function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=e.stack.split("\n").slice(t),r=u.exec(n[0]);return r&&6===r.length?{functionName:r[1],fileName:r[2],lineNumber:parseInt(r[3],10),columnNumber:parseInt(r[4],10),callStack:n.join("\n")}:null}var p=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("No category provided.");this.category=t,this.context={},this.parseCallStack=d,o("Logger created (".concat(this.category,", ").concat(this.level,")"))}var t,n;return t=e,(n=[{key:"level",get:function(){return a.getLevel(l.getLevelForCategory(this.category),a.TRACE)},set:function(e){l.setLevelForCategory(this.category,a.getLevel(e,this.level))}},{key:"useCallStack",get:function(){return l.getEnableCallStackForCategory(this.category)},set:function(e){l.setEnableCallStackForCategory(this.category,!0===e)}},{key:"log",value:function(e){var t=a.getLevel(e,a.INFO);if(this.isLevelEnabled(t)){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this._log(t,r)}}},{key:"isLevelEnabled",value:function(e){return this.level.isLessThanOrEqualTo(e)}},{key:"_log",value:function(e,t){o("sending log data (".concat(e,") to appenders"));var n=new i(this.category,e,t,this.context,this.useCallStack&&this.parseCallStack(new Error));s.send(n)}},{key:"addContext",value:function(e,t){this.context[e]=t}},{key:"removeContext",value:function(e){delete this.context[e]}},{key:"clearContext",value:function(){this.context={}}},{key:"setParseCallStackFunction",value:function(e){this.parseCallStack=e}}])&&r(t.prototype,n),e}();function f(e){var t=a.getLevel(e),n=t.toString().toLowerCase().replace(/_([a-z])/g,(function(e){return e[1].toUpperCase()})),r=n[0].toUpperCase()+n.slice(1);p.prototype["is".concat(r,"Enabled")]=function(){return this.isLevelEnabled(t)},p.prototype[n]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.log.apply(this,[t].concat(n))}}a.levels.forEach(f),c.addListener((function(){a.levels.forEach(f)})),e.exports=p},function(e,t,n){(function(t){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(29),a=n(0),s=function(){function e(n,o,i,a,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.startTime=new Date,this.categoryName=n,this.data=i,this.level=o,this.context=r({},a),this.pid=t.pid,s&&(this.functionName=s.functionName,this.fileName=s.fileName,this.lineNumber=s.lineNumber,this.columnNumber=s.columnNumber,this.callStack=s.callStack)}var n,s,l;return n=e,l=[{key:"deserialise",value:function(t){var n;try{var r=i.parse(t);r.data=r.data.map((function(e){if(e&&e.message&&e.stack){var t=new Error(e);Object.keys(e).forEach((function(n){t[n]=e[n]})),e=t}return e})),(n=new e(r.categoryName,a.getLevel(r.level.levelStr),r.data,r.context)).startTime=new Date(r.startTime),n.pid=r.pid,n.cluster=r.cluster}catch(r){n=new e("log4js",a.ERROR,["Unable to parse log:",t,"because: ",r])}return n}}],(s=[{key:"serialise",value:function(){var e=this.data.map((function(e){return e&&e.message&&e.stack&&(e=r({message:e.message,stack:e.stack},e)),e}));return this.data=e,i.stringify(this)}}])&&o(n.prototype,s),l&&o(n,l),e}();e.exports=s}).call(this,n(2))},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)})(e)}n.r(t),n.d(t,"parse",(function(){return i})),n.d(t,"stringify",(function(){return a}));var o=function(e,t){return{parse:function(t,o){var s=JSON.parse(t,a).map(i),l=s[0],c=o||n,u="object"===r(l)&&l?function t(n,o,i,a){return Object.keys(i).reduce((function(i,s){var l=i[s];if(l instanceof e){var c=n[l];"object"!==r(c)||o.has(c)?i[s]=a.call(i,s,c):(o.add(c),i[s]=a.call(i,s,t(n,o,c,a)))}else i[s]=a.call(i,s,l);return i}),i)}(s,new Set,l,c):l;return c.call({"":u},"",u)},stringify:function(e,t,i){for(var a,s=new Map,l=[],c=[],u=t&&r(t)===r(l)?function(e,n){if(""===e||-1<t.indexOf(e))return n}:t||n,d=+o(s,l,u.call({"":e},"",e)),p=function(e,t){if(a)return a=!a,t;var n=u.call(this,e,t);switch(r(n)){case"object":if(null===n)return n;case"string":return s.get(n)||o(s,l,n)}return n};d<l.length;d++)a=!0,c[d]=JSON.stringify(l[d],p,i);return"["+c.join(",")+"]"}};function n(e,t){return t}function o(t,n,r){var o=e(n.push(r)-1);return t.set(r,o),o}function i(t){return t instanceof e?e(t):t}function a(t,n){return"string"===r(n)?new e(n):n}}(String);t.default=o;var i=o.parse,a=o.stringify},function(e,t,n){var r=n(0);function o(e){return e.originalUrl||e.url}function i(e,t){for(var n=0;n<t.length;n++)e=e.replace(t[n].token,t[n].replacement);return e}e.exports=function(e,t){t="string"==typeof t||"function"==typeof t?{format:t}:t||{};var n=e,a=r.getLevel(t.level,r.INFO),s=t.format||':remote-addr - - ":method :url HTTP/:http-version" :status :content-length ":referrer" ":user-agent"',l=function(e){var t=null;if(e instanceof RegExp&&(t=e),"string"==typeof e&&(t=new RegExp(e)),Array.isArray(e)){var n=e.map((function(e){return e.source?e.source:e}));t=new RegExp(n.join("|"))}return t}(t.nolog);return function(e,c,u){if(e._logging)return u();if(l&&l.test(e.originalUrl))return u();if(n.isLevelEnabled(a)||"auto"===t.level){var d=new Date,p=c.writeHead;e._logging=!0,c.writeHead=function(e,t){c.writeHead=p,c.writeHead(e,t),c.__statusCode=e,c.__headers=t||{}},c.on("finish",(function(){c.responseTime=new Date-d,c.statusCode&&"auto"===t.level&&(a=r.INFO,c.statusCode>=300&&(a=r.WARN),c.statusCode>=400&&(a=r.ERROR)),a=function(e,t,n){var o=t;if(n){var i=n.find((function(t){return t.from&&t.to?e>=t.from&&e<=t.to:-1!==t.codes.indexOf(e)}));i&&(o=r.getLevel(i.level,o))}return o}(c.statusCode,a,t.statusRules);var l=function(e,t,n){var r=[];return r.push({token:":url",replacement:o(e)}),r.push({token:":protocol",replacement:e.protocol}),r.push({token:":hostname",replacement:e.hostname}),r.push({token:":method",replacement:e.method}),r.push({token:":status",replacement:t.__statusCode||t.statusCode}),r.push({token:":response-time",replacement:t.responseTime}),r.push({token:":date",replacement:(new Date).toUTCString()}),r.push({token:":referrer",replacement:e.headers.referer||e.headers.referrer||""}),r.push({token:":http-version",replacement:"".concat(e.httpVersionMajor,".").concat(e.httpVersionMinor)}),r.push({token:":remote-addr",replacement:e.headers["x-forwarded-for"]||e.ip||e._remoteAddress||e.socket&&(e.socket.remoteAddress||e.socket.socket&&e.socket.socket.remoteAddress)}),r.push({token:":user-agent",replacement:e.headers["user-agent"]}),r.push({token:":content-length",replacement:t.getHeader("content-length")||t.__headers&&t.__headers["Content-Length"]||"-"}),r.push({token:/:req\[([^\]]+)]/g,replacement:function(t,n){return e.headers[n.toLowerCase()]}}),r.push({token:/:res\[([^\]]+)]/g,replacement:function(e,n){return t.getHeader(n.toLowerCase())||t.__headers&&t.__headers[n]}}),function(e){for(var t=e.concat(),n=0;n<t.length;++n)for(var r=n+1;r<t.length;++r)t[n].token==t[r].token&&t.splice(r--,1);return t}(n.concat(r))}(e,c,t.tokens||[]);if(t.context&&n.addContext("res",c),"function"==typeof s){var u=s(e,c,(function(e){return i(e,l)}));u&&n.log(a,u)}else n.log(a,i(s,l));t.context&&n.removeContext("res")}))}return u()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),o=function(){return!window.MSStream&&/iPad|iPhone|iPod/.test(navigator.userAgent)},i=function(e,t,n){if(void 0===t&&(t="qlog"),navigator.userAgent.match(/QQ\/([\d.]+)/)){var i={id:"webviewDebugLog_"+t,subid:location.href,content:"info|["+r.default.id+"] "+n,isall:!0,level:"info"},a=document.createElement("iframe");a.style.display="none",a.style.width="0",a.style.height="0",o()&&(a.src="jsbridge://qw_debug/detailLog?p="+encodeURIComponent(JSON.stringify(i)));try{window.document&&(document.body||document.documentElement)&&(document.body||document.documentElement).appendChild&&(document.body||document.documentElement).appendChild(a)}catch(e){}o()||(a.src="jsbridge://qw_debug/detailLog?p="+encodeURIComponent(JSON.stringify(i))),setTimeout((function(){a&&a.parentNode&&a.parentNode.removeChild(a)}),500)}};t.default={configure:function(e,t){var n=t.basicLayout;return e.layout&&(n=t.layout(e.layout.type,e.layout)),function(t){var r=n(t);i(0,e.key,r)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONTEXT_KEY=t.QLOG_ID_COOKIE_KEY=void 0,t.QLOG_ID_COOKIE_KEY="qlogid",t.CONTEXT_KEY="context"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomId=void 0,t.randomId=function(){for(var e=[],t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t.length,r=0;r<6;r++)e.push(t.charAt(Math.floor(Math.random()*n)));return e.join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(35),o=n(36),i=n(13);t.default={configure:function(e,t){var n=t.basicLayout;return e.layout&&(n=t.layout(e.layout.type,e.layout)),function(e){!function(e,t){var n=e.categoryName,a=e.level.levelStr,s=r.parseUrl(location.href),l=""+s.hostname+s.pathname,c=location.href.replace(/^https?:\/\//,""),u=r.getAttaUrl({category:n,level:a,content:t,url:c,hostPath:l,uin:o.getUin(document.cookie),id:i.default.id,ua:navigator.userAgent,ip:"",platform:"browser",ext1:"",ext2:"",ext3:""});(new Image).src=u}(e,n(e))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUrl=t.getAttaUrl=void 0,t.getAttaUrl=function(e){var t="https://h.trace.qq.com/kv?attaid=03e00055666&token=6171919483&_dc="+Math.random();return Object.keys(e).forEach((function(n){t+="&"+n+"="+encodeURIComponent(e[n])})),t},t.parseUrl=function(e){var t=e.match(/^(https?:)\/\/(([^:/?#]*)(?::([0-9]+))?)([/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/)||[];return{href:e,protocol:t[1]||"",host:t[2]||"",hostname:t[3]||"",port:t[4]||"",pathname:t[5]||"",search:t[6]||"",hash:t[7]||""}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUin=void 0;var r=n(14);t.getUin=function(e){var t=(r.default.get(e,"p_uin")||r.default.get(e,"uin")||"").replace(/\D/g,""),n=Number(t);return n>1e4?String(n):"0"}}])},"object"==s(t)&&"object"==s(e)?e.exports=a():(o=[],void 0===(i="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=i))},8072:function(e,t,n){"use strict";n.d(t,{Zq:function(){return pi},B4:function(){return y},Ud:function(){return Hr},fO:function(){return S},uP:function(){return O},wY:function(){return E},ZP:function(){return rp}});var r={};n.r(r),n.d(r,{AUDIO_CODEC:function(){return k},AUDIO_TRACK_ERROR_MSG:function(){return j},BUILD_TIME:function(){return Y},BaseLivePlayer:function(){return Dr},BasePlayer:function(){return fr},BaseVideoNode:function(){return kn},CACHE_SIZE_KEY:function(){return V},CAN_PLAY_ALL:function(){return b},CDN_PATH_PREFIX:function(){return H},CHANNEL:function(){return G},CODEC:function(){return N},CONTAINER_FORMAT:function(){return L},DRM_TYPE:function(){return F},DrmKeySystems:function(){return tt},END_STATE:function(){return y},ERROR_CODE:function(){return I},ERROR_MSG:function(){return w},EvtEmitter:function(){return Je},HDR_CAPABILITY:function(){return B},KERNEL_NAME:function(){return K},KernelFactory:function(){return Zt},KernelProxy:function(){return Kt},LOCAL_DEV:function(){return z},LogMode:function(){return X},Logger:function(){return ue},LoopMode:function(){return lt},MultiPlayer:function(){return xr},OrgPlayer:function(){return Rr},OrgPreloader:function(){return Er},OrgVideoNode:function(){return Fn},PAUSE_TYPE:function(){return T},PLAYER_LOG_LEVEL:function(){return D},PLAY_EVENT:function(){return S},PLAY_MODE:function(){return A},PRELOAD_EVENT:function(){return x},PRELOAD_TYPE:function(){return O},ReferenceReport:function(){return Dt},ResizeObserver:function(){return bt},ResizeObserverPolyfilled:function(){return mt},SET_LEVEL_MODE:function(){return v},SimpleDefer:function(){return Ce},TaskLoop:function(){return _t},VERSION:function(){return W},VIDEO_CODEC:function(){return R},VIDEO_CONTAINER_CLASS:function(){return C},VIDEO_ELEMENT_ERROR:function(){return Q},VIDEO_ELEMENT_STATE:function(){return M},VIDEO_EVTS:function(){return m},VIDEO_NODE_EVENT:function(){return P},VIDEO_READY_STATE:function(){return _},VIDEO_STATE:function(){return E},VIDEO_TYPE:function(){return U},VideoInfo:function(){return rr},commonTool:function(){return J.Z},cookieTool:function(){return ye},defaultPlayerConfig:function(){return Ct},domTool:function(){return xe},dumpLog:function(){return pe},enableConsoleOutput:function(){return le},getEventEmitterBinder:function(){return Ue},getEventTargetBinder:function(){return Ke},jsonTool:function(){return te},kernelEvtBus:function(){return dn},logMethodCallDecoratorCreater:function(){return de},logMethodCallDecoratorCreator:function(){return de},logTool:function(){return ce},lsTool:function(){return _e},netTool:function(){return Fe},originDefaultConfig:function(){return gr},preloadEvtBus:function(){return pn},requireModule:function(){return ve},stringTool:function(){return At},uaTool:function(){return ee},urlTool:function(){return Ee},videoTool:function(){return vt}});var o={};n.r(o),n.d(o,{AUDIO_CODEC:function(){return k},AUDIO_TRACK_ERROR_MSG:function(){return j},BUILD_TIME:function(){return Y},BaseLivePlayer:function(){return Dr},BasePlayer:function(){return fr},BaseVideoNode:function(){return kn},CACHE_SIZE_KEY:function(){return V},CAN_PLAY_ALL:function(){return b},CDN_PATH_PREFIX:function(){return H},CHANNEL:function(){return G},CODEC:function(){return N},CONTAINER_FORMAT:function(){return L},DRM_TYPE:function(){return F},DrmKeySystems:function(){return tt},END_STATE:function(){return y},ERROR_CODE:function(){return I},ERROR_MSG:function(){return w},EvtEmitter:function(){return Je},HDR_CAPABILITY:function(){return B},KERNEL_NAME:function(){return K},KernelFactory:function(){return Zt},KernelProxy:function(){return Kt},LOCAL_DEV:function(){return z},LogMode:function(){return X},Logger:function(){return ue},LoopMode:function(){return lt},MultiPlayer:function(){return xr},OrgPlayer:function(){return Rr},OrgPreloader:function(){return Er},OrgVideoNode:function(){return Fn},PAUSE_TYPE:function(){return T},PLAYER_LOG_LEVEL:function(){return D},PLAY_EVENT:function(){return S},PLAY_MODE:function(){return A},PRELOAD_EVENT:function(){return x},PRELOAD_TYPE:function(){return O},ReferenceReport:function(){return Dt},ResizeObserver:function(){return bt},ResizeObserverPolyfilled:function(){return mt},SET_LEVEL_MODE:function(){return v},SimpleDefer:function(){return Ce},TaskLoop:function(){return _t},VERSION:function(){return W},VIDEO_CODEC:function(){return R},VIDEO_CONTAINER_CLASS:function(){return C},VIDEO_ELEMENT_ERROR:function(){return Q},VIDEO_ELEMENT_STATE:function(){return M},VIDEO_EVTS:function(){return m},VIDEO_NODE_EVENT:function(){return P},VIDEO_READY_STATE:function(){return _},VIDEO_STATE:function(){return E},VIDEO_TYPE:function(){return U},VideoInfo:function(){return rr},commonTool:function(){return J.Z},cookieTool:function(){return ye},defaultPlayerConfig:function(){return Ct},domTool:function(){return xe},dumpLog:function(){return pe},enableConsoleOutput:function(){return le},getEventEmitterBinder:function(){return Ue},getEventTargetBinder:function(){return Ke},jsonTool:function(){return te},kernelEvtBus:function(){return dn},logMethodCallDecoratorCreater:function(){return de},logMethodCallDecoratorCreator:function(){return de},logTool:function(){return ce},lsTool:function(){return _e},netTool:function(){return Fe},originDefaultConfig:function(){return gr},preloadEvtBus:function(){return pn},requireModule:function(){return ve},stringTool:function(){return At},uaTool:function(){return ee},urlTool:function(){return Ee},videoTool:function(){return vt}});var i={};n.r(i),n.d(i,{AD_TYPE:function(){return Qr},AUDIO_CODEC:function(){return k},AUTO_PLAY_POLICY:function(){return pi},AdPluginName:function(){return Vr},BUFFER_REASON:function(){return so},BUILD_TIME:function(){return Ki},BaseCheck:function(){return Ei},BaseFlowNode:function(){return Pi},BaseReporter:function(){return ei},BeaconRequest:function(){return ti},COMMON_DATA_KEY:function(){return go},CONTAINER_FORMAT:function(){return L},DATA_EVENTS:function(){return oo},DATA_STATE:function(){return io},DEFAULT_KEY:function(){return ho},DRM_TYPE:function(){return uo},DRM_VALUE:function(){return po},END_STATE:function(){return y},ErrorCode:function(){return Ur},ErrorMsg:function(){return Kr},EvtEmitter:function(){return Je},FLOW_NODE_EVENT:function(){return wi},FullScreenMode:function(){return mo},H5Player:function(){return Fi},H5_EXT_EVENT:function(){return jr},H5_PAUSE_TYPE:function(){return di},H5_PLAY_EVENT:function(){return Hr},ImageRequest:function(){return Zo},KERNEL_NAME:function(){return K},LOCAL_KEY:function(){return lo},LOG_TYPE:function(){return ao},OFFICIAL_PLUGIN:function(){return vi},PLAY_EVENT:function(){return S},PLAY_MODE:function(){return A},PLUGIN_MAP:function(){return Ai},PRELOAD_TYPE:function(){return O},PersistedUserSettings:function(){return co},PictureDirection:function(){return fi},Plugin:function(){return $r},VERSION:function(){return ji},VIDEO_CODEC:function(){return R},VIDEO_STATE:function(){return E},VideoReqInfoPluginName:function(){return qi},adEvents:function(){return Eo},autobind:function(){return Ci},createH5Player:function(){return Ui},createPluginFactory:function(){return to},definePlugins:function(){return bi},deregisterPlugin:function(){return Jr},getAdPlugin:function(){return Mr},getHookMethodName:function(){return no},getPlugin:function(){return Wr},getPlugins:function(){return Zr},isFunctionPlugin:function(){return eo},isPreOrPostAd:function(){return Fr},isVideoId:function(){return ro},kernelEvtBus:function(){return dn},logApiInvoke:function(){return Si},once:function(){return xi},pluginExists:function(){return Yr},preloadEvtBus:function(){return pn},registerPlugin:function(){return zr}});var a={};n.r(a),n.d(a,{AudioTrackController:function(){return Ls},COOKIE_NAME:function(){return ic},DRM_CODE_FROM_VINFO:function(){return Xl},DRM_REQUEST_VALUE:function(){return Zl},DefinitionController:function(){return qs},LOGIN_METHOD:function(){return oc},LiveGetInfo:function(){return Xc},PAID_FORMAT:function(){return Ns},TVK:function(){return _u},UnifiedLiveGetInfo:function(){return yu},VQQ_COOKIE_PREFIX:function(){return lc},VodGetInfo:function(){return Qc},commonSelectKernel:function(){return dc},enableTVK:function(){return mu},getRequestParamForDRM:function(){return sc},getRequestParamForPaidFormat:function(){return Bs},getUserCookies:function(){return cc}});n(7658),n(4916),n(1703),n(5827),n(8862),n(3210),n(5306),n(6699),n(9601),n(3371),n(7327),n(1539),n(4747),n(7941),n(2023),n(9826),n(8674),n(4723),n(2222),n(9653),n(9070),n(2772),n(7042),n(1058),n(4553),n(1249);var s=n(3336),l=(n(4678),n(6992),n(9575),n(9135),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(2974),n(5016),n(6755),n(8675),n(3408),n(2958),n(1299),n(2479),n(4819),n(3593),n(561),n(9720),n(4765),n(4986),n(1817),n(3948),n(2443),n(8304),n(2526),n(5003),n(2165),n(8783),function(e,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},l(e,t)});function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},u.apply(this,arguments)};function d(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,s.Z)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function p(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,s.Z)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(qe){i(qe)}}function s(e){try{l(r.throw(e))}catch(qe){i(qe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(qe){s=[6,qe],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}Object.create;function g(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var v,A;n(9783);!function(e){e.SOFT="soft",e.HARD="hard",e.SMOOTH="smooth"}(v||(v={})),function(e){e.VOD="vod",e.LIVE="live"}(A||(A={}));var y,_,m,E,I,b=null,C="txp_videos_container";!function(e){e.NORMAL="normal",e.INTERRUPT="interrupt",e.ERROR="error"}(y||(y={})),function(e){e[e.HAVE_NOTHING=0]="HAVE_NOTHING",e[e.HAVE_METADATA=1]="HAVE_METADATA",e[e.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",e[e.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",e[e.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA"}(_||(_={})),function(e){e.loadstart="loadstart",e.timeupdate="timeupdate",e.durationchange="durationchange",e.volumechange="volumechange",e.canplay="canplay",e.playing="playing",e.pause="pause",e.waiting="waiting",e.seeking="seeking",e.seeked="seeked",e.loadeddata="loadeddata",e.loadedmetadata="loadedmetadata",e.ended="ended",e.error="error",e.progress="progress",e.ratechange="ratechange",e.resize="resize",e.frameRender="videoFrameRender"}(m||(m={})),function(e){e.IDLE="idle",e.LOAD_START="loadStart",e.CANPLAY="canplay",e.PLAYING="playing",e.PAUSE="pause",e.SEEKING="seeking",e.SEEKED="seeked",e.BUFFERING="buffering",e.END="end"}(E||(E={})),function(e){e.UNKNOWN_ERR="70011000",e.MEDIA_ERR_ABORTED="70011100",e.MEDIA_ERR_NETWORK="70011101",e.MEDIA_ERR_DECODE="70011102",e.MEDIA_ERR_SRC_NOT_SUPPORTED="70011103",e.ORG_LOAD_TIMEOUT="70011104",e.STATE_STUCK="70011105",e.ORG_PLAY_STUCK_ERR="70011111",e.NULL_URL="70011112",e.MISSING_KERNEL="70011113",e.KERNEL_NOT_SPT="70011114"}(I||(I={}));var w,S,x,P,T,D,O,N,R,k,L,B,M,Q={1:{code:I.MEDIA_ERR_ABORTED,message:"\u89c6\u9891\u83b7\u53d6\u88ab\u7ec8\u6b62"},2:{code:I.MEDIA_ERR_NETWORK,message:"\u4e0b\u8f7d\u89c6\u9891\u53d1\u751f\u9519\u8bef"},3:{code:I.MEDIA_ERR_DECODE,message:"\u5c1d\u8bd5\u89e3\u7801\u51fa\u9519"},4:{code:I.MEDIA_ERR_SRC_NOT_SUPPORTED,message:"\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u8be5\u97f3\u89c6\u9891"}};!function(e){e.UNKNOWN="\u672a\u77e5\u9519\u8bef",e.XHR_NET="\u89c6\u9891\u83b7\u53d6\u9014\u4e2d\u51fa\u73b0\u95ee\u9898",e.PRELOAD_VIDEO_TIMEOUT="\u52a0\u8f7d\u89c6\u9891\u8d85\u65f6",e.PLAY_STUCK="\u89c6\u9891\u65e0\u6cd5\u7ee7\u7eed\u64ad\u653e",e.LOAD_STREAM_FAIL="\u89c6\u9891\u6d41\u83b7\u53d6\u9014\u4e2d\u51fa\u73b0\u95ee\u9898",e.INNER="\u5185\u90e8\u9519\u8bef",e.NULL_URL="\u4f20\u5165\u7684\u5730\u5740\u4e3a\u7a7a"}(w||(w={})),function(e){e.RESTART="restart",e.TIME_UPDATE="timeupdate",e.METADATA_CHANGE="metadataChange",e.RATE_CHANGE="rateChange",e.VOLUME_CHANGE="volumeChange",e.DURATION_CHANGE="durationChange",e.AUTOPLAY_BLOCKED="autoplayBlocked",e.LOAD_PROGRESS="loadProgress",e.STATE_CHANGE="stateChange",e.FIRST_PLAYING="firstPlaying",e.VIDEONODE_PLAY_OVER="videoNodePlayOver",e.VIDEONODE_START_PLAY="videoNodeStartPlay",e.VIDEONODE_FIRST_PLAYING="videoNodeFirstPlaying",e.VIDEONODE_CHANGE="videoNodeChange",e.LIST_CHANGE="listChange",e.SET_LOADING="setLoading",e.PRELOAD_START="preloadStart",e.PRELOAD_VIDEONODE_OVER="preloadVideonodeOver",e.PRELOAD_VIDEONODE_CLEAR="preloadVideonodeClear",e.PRELOAD_VIDEONODE_ERROR="preloadVideonodeError",e.VIDEO_BUFFER_CHANGE="videoBufferChange",e.SETLEVEL_START="setLevelStart",e.SETLEVEL_OVER="setLevelOver",e.SET_AUDIO_TRACK_START="setAudioTrackStart",e.SET_AUDIO_TRACK_OVER="setAudioTrackOver",e.RESIZE="resize",e.STOPED="stoped",e.ERROR="error",e.RETRY_BACKURL="retryBackUrl",e.VIDEO_FRAME_RENDER="videoFrameRender",e.ELEMENT_EVTS="elementEvts",e.VIDEO_RESIZE="videoResize",e.FULLSCREEN_CHANGE="fullscreenChange",e.CONTAINER_RESIZE="containerResize",e.ENTER_INSERT_STREAM="enterInsertStream",e.EXIT_INSERT_STREAM="exitInsertStream"}(S||(S={})),function(e){e.START="START_PRELOAD",e.STOP="STOP_PRELOAD",e.UPDATE="UPDATE_PRELOAD_INFO"}(x||(x={})),function(e){e.TIME_UPDATE="vn_timeupdate",e.METADATA_CHANGE="vn_metadataChange",e.VOLUME_CHANGE="vn_volumeChange",e.DURATION_CHANGE="vn_durationChange",e.PLAY_PROMISE_CATCHED="vn_playPromiseCatched",e.LOAD_PROGRESS="vn_loadProgress",e.RATE_CHANGE="vn_rateChange",e.BUFFER_APPENDED="vn_bufferAppended",e.STATE_CHANGE="vn_stateChange",e.ERROR="vn_error",e.RETRY="vn_retry",e.SET_LOADING="vn_setLoading",e.VIDEO_BUFFER_CHANGE="vn_videoBufferChange",e.SETLEVEL_START="vn_setLevelStart",e.SETLEVEL_OVER="vn_setLevelOver",e.SET_AUDIO_TRACK_START="vn_setAudioTrackStart",e.SET_AUDIO_TRACK_OVER="vn_setAudioTrackOver",e.URL_CHANGE="vn_urlChange",e.FIRST_PLAYING="vn_firstPlaying",e.ELEMENT_EVTS="vn_elementEvts",e.PLAY_OVER="vn_playOver",e.VIDEO_RESIZE="vn_videoResize",e.VIDEO_FRAME_RENDER="vn_videoFrameRender",e.ENTER_INSERT_STREAM="enterInsertStream",e.EXIT_INSERT_STREAM="exitInsertStream"}(P||(P={})),function(e){e.USER="user",e.INNER="inner",e.SYS="sys"}(T||(T={})),function(e){e[e.NONE=0]="NONE",e[e.CORE=1]="CORE",e[e.KERNEL=2]="KERNEL"}(D||(D={})),function(e){e.META_DATA="metadata",e.AUTO="auto",e.AUTO_LOAD="autoLoad"}(O||(O={})),function(e){e[e.H264=0]="H264",e[e.H265=1]="H265",e[e.AV1=2]="AV1"}(N||(N={})),function(e){e.UNKNOWN="unknown",e.H264="h264",e.H265="h265",e.H266="h266",e.VP8="vp8",e.VP9="vp9",e.AV1="av1",e.DOLBY_VISION="dolbyVision"}(R||(R={})),function(e){e.AAC="aac",e.OPUS="opus"}(k||(k={})),function(e){e.MPEG_TS="mpegts",e.FMP4="fmp4",e.MP4="mp4"}(L||(L={})),function(e){e[e.NOT_SUPPORTED=0]="NOT_SUPPORTED",e[e.WCG_DISPLAY_BUT_NO_HDR=1]="WCG_DISPLAY_BUT_NO_HDR",e[e.SUPPORTED=2]="SUPPORTED"}(B||(B={})),function(e){e.FREE="0",e.USED="1"}(M||(M={}));var V,F,U,K,j,H="//vm.gtimg.cn/thumbplayer/";!function(e){e.DEMUX="demux_cache_size"}(V||(V={})),function(e){e.FAIRPLAY="fairplay",e.WIDEVINE="widevine",e.PLAYREADY="playready",e.CHACHA="chacha",e.NONE="none"}(F||(F={})),function(e){e.HLS="hls",e.MP4="mp4",e.MOV="mov",e.FLV="flv",e.WEBRTC="webrtc",e.AVI="avi",e.MPEG="mpeg",e.WEBM="webm",e.OGG="ogg",e.OTHER="other"}(U||(U={})),function(e){e.ORIGIN="origin",e.DEMUX_2_FMP4="demux2fmp4",e.FLV_JS="flv.js",e.HLS_JS="hls.js",e.WASM="wasm",e.WEBRTC="webrtc",e.ELECTRON="electron"}(K||(K={})),function(e){e.KERNEL_NOT_EXISTS="kernel not exists",e.NOT_SUPPORT="not support",e.STATE_INVALID="state invalid"}(j||(j={}));var q=function(){var e="npm";try{e="npm"}catch(q){}var t="";try{t="1.15.2"}catch(o){}var n="";try{n=1675660009273}catch(i){}var r=!1;try{r=!1}catch(a){}return{CHANNEL:e,VERSION:t,BUILD_TIME:n,LOCAL_DEV:r}}(),G=q.CHANNEL,Y=q.BUILD_TIME,W=q.VERSION,z=q.LOCAL_DEV,J=n(3219),Z=/android|iPod|ipad|iPhone|mobile/i;var X,$=function(e){var t,n,r;e=(e=e||navigator.userAgent).toLowerCase(),this.browser={},this.os={},this.mobile=!1,this.spider=!1,Z.test(e)&&(this.mobile=!0),/(googlebot|bingbot|yandex|twitterbot|facebookexternalhit|rogerbot|linkedinbot|embedly|quora link preview|showyoubot|outbrain|pinterest\/0\.|pinterestbot|slackbot|vkShare|W3C_Validator|whatsapp|petalbot|applebot|mpcrawler|spider)/i.test(e)&&(this.spider=!0);for(var o,i,a={android_1:/android[\s\/]([\d\.]+)/i,android_2:/android/i,android_3:/MIDP-/i,ipod_1:/iPod\stouch;\sCPU\siPhone\sos\s([\d_]+)/i,ipod_100:/iPod.*os\s?([\d_\.]+)/i,iphone:/iPhone;\sCPU\siPhone\sos\s([\d_]+)/i,iphone_100:/iPhone.*os\s?([\d_\.]+)/i,ipad_1:/ipad;\scpu\sos\s([\d_]+)/i,ipad_2:/ipad([\d]+)?/i,windows:/windows\snt\s([\d\.]+)/i,mac:/Macintosh.*mac\sos\sx\s([\d_\.]+)/i,linux:/Linux/i},s=Object.keys(a),l=0,c=s.length;l<c;l++){var u=s[l];if(o=a[u].exec(e)){i=u.replace(/_\d+/,""),this.os[i]=!0,this.os.osName=i,o[1]&&(this.os.version=o[1].replace(/_/g,"."));break}}(this.os.iphone||this.os.ipad||this.os.ipod)&&(this.os.ios=!0);var d,p,f={wechat:/MicroMessenger\/([\d\.]+)/i,ipadqq:/IPadQQ\/([\d\.]+)/i,mqq:/qq\/([\d\.]+)/i,qzone:/QZONEJSSDK\/([\d\.]+)/i,mqqbrowser:/mqqbrowser\/([\d\.]+)/i,qqbrowser:/[^m]QQBrowser\/([\d\.]+)/i,x5:/tbs\/(\d+)/i,uc:/UCBrowser\/([\d\.]+)/i,safari_1:/Version\/(([\d\.]+))\sSafari\/[\d\.]+/i,safari_2:/Safari\/([\d\.]+)/i,chrome_1:/CriOS\/([\d\.]+)/i,chrome_2:/Chrome\/([\d\.]+)/i,firefox:/Firefox\/([\d\.]+)/i,ie_1:/MSIE\s([\d\.]+)/i,ie_2:/(trident\/\d\.\d)/i,ie_3:/(Edge)\/\d+\.\d+/i,weibo:/weibo__([\d\.]+)/i,qqnews:/qqnews\/([\d\.]+)/i,qqlive_1:/QQLiveBrowser\/([\d\.]+)/i,qqlive_2:/QQLiveHDBrowser\/([\d\.]+)/i,kuaibao:/qnreading\/([\d\.]+)/i,liebao:/LieBaoFast\/([\d\.]+)/i,douban:/com\.douban\.frodo\/([\d\.]+)/i,miuibrowser:/MiuiBrowser/i,baidu:/baiduboxapp/i,browser360:/360browser/i,oppobrowser:/OppoBrowser/i,qqdownloader:/qqdownloader\/([\d\.]+)/i},h=Object.keys(f),g=0;for(c=h.length;g<c;g++){var v=h[g];if(d=f[v].exec(e)){if(p=v.replace(/_\d+/,""),this.browser[p])return this;this.browser[p]={version:d[1]},this.browser.browserName=p,this.browser.version=d[1]}}return this.os.android&&this.browser.safari&&(this.browser.safari=null),this.browser.chrome&&this.browser.safari&&(this.browser.safari=null),(null===(r=null===(n=null===(t=this.browser)||void 0===t?void 0:t.ie)||void 0===n?void 0:n.version)||void 0===r?void 0:r.indexOf("trident"))>-1&&(this.browser.ie.version.indexOf("6.0")>-1?this.browser.ie.version="10":this.browser.ie.version.indexOf("5.0")>-1?this.browser.ie.version="9":this.browser.ie.version.indexOf("4.0")>-1?this.browser.ie.version="8":this.browser.ie.version="11"),this}.call({},navigator.userAgent),ee=$,te={safelyStringify:function(e){try{return JSON.stringify(e)}catch(qe){return"{}"}}},ne=function(){return ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ne.apply(this,arguments)},re=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},oe=4e3,ie=function(){},ae={trace:ie,debug:ie,info:ie,log:ie,warn:ie,error:ie},se=Object.assign({},ae);function le(e){(e||Object.keys(ae)).forEach((function(e){var t;se[e]=(null===(t=self.console)||void 0===t?void 0:t[e])||ie}));try{se.log()}catch(qe){se=ae}}function ce(e){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}}!function(e){e[e.console=1]="console",e[e.cache=2]="cache"}(X||(X={}));var ue=function(){function e(t,n,r){if(this.playerId=t,this.scopeName=n,!this.playerId)throw new Error("Missing logger id");e.cache[t]||(e.cache[t]=[]),this.logModeConfig=ne({trace:X.console,debug:X.console,info:X.console,log:X.cache|X.console,warn:X.cache|X.console,error:X.cache|X.console},r)}return e.prototype.trace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.callApi.apply(this,re(["trace"],e,!1))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.callApi.apply(this,re(["debug"],e,!1))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.callApi.apply(this,re(["info"],e,!1))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.callApi.apply(this,re(["log"],e,!1))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.callApi.apply(this,re(["warn"],e,!1))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.callApi.apply(this,re(["error"],e,!1))},e.prototype.callApi=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this,i=o.playerId,a=o.scopeName,s="[".concat(i.slice(-8),"][").concat(fe(),"]").concat(a?"[".concat(a,"]"):"");if(this.logModeConfig[t]&X.cache){var l="[".concat(t,"]").concat(s," ").concat(n.join(","));l.length>=oe&&(se.warn("Logger cache limit exceeded: ".concat(l.length)),l="".concat(l.slice(0,oe),"...")),e.cache[i].push(l)}this.logModeConfig[t]&X.console&&se[t].apply(se,re([s],n,!1))},e.level=0,e.cache={},e}(),de=function(e){void 0===e&&(e="");return function(t,n,r){var o=r.value;r.value=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=this._logger||this.logger;return"function"==typeof(null==i?void 0:i.log)&&i.log("@".concat(e,".").concat(n,"()"),te.safelyStringify(t)),o.apply(this,t)}}};function pe(e){var t=document.createElement("a"),n=e.join("\n\n");t.setAttribute("href","data:text/plain;charset=utf-8,".concat(encodeURIComponent(n))),t.setAttribute("download","tp-log-".concat(Date.now(),".txt")),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}function fe(){var e=new Date;return"".concat(e.getHours(),":").concat(e.getMinutes(),":").concat(e.getSeconds())+".".concat("0000".concat(e.getMilliseconds()).slice(-3))}var he=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(qe){i(qe)}}function s(e){try{l(r.throw(e))}catch(qe){i(qe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},ge=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(qe){i=[6,qe],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function ve(e,t){var n;return he(this,void 0,void 0,(function(){var r;return ge(this,(function(o){r=self;try{if("object"===(0,s.Z)(null===(n=r.module)||void 0===n?void 0:n.export))return[2,r.module.export[e]];if("function"==typeof r.define&&r.define.amd&&"function"==typeof r.require)return[2,new Promise((function(t){r.require([e],(function(e){t(e)}))}))]}catch(i){}return[2,r[t||e]]}))}))}var Ae=n(7434),ye={set:function(e,t,n,r,o){var i={domain:n,path:r};return o&&(i.expires=(new Date).getTime()+3600*o*1e3),Ae.LJ.setCookie(e,t,i),!0},get:function(e){return Ae.LJ.getCookie(e)||""},del:Ae.LJ.clearCookie},_e={getData:function(e){var t="";try{window.localStorage&&(t=window.localStorage[e])}catch(qe){window.console.log(qe)}return t},setData:function(e,t){if("undefined"!==e&&void 0!==e)try{window.localStorage&&(window.localStorage[e]=t)}catch(qe){window.console.log(qe)}},delData:function(e){try{window.localStorage&&window.localStorage.removeItem(e)}catch(qe){window.console.log(qe)}}},me=(n(285),n(1637),{object2string:function(e,t){return void 0===t&&(t="&"),this.convertUrlParam(e,t,!1)},convertUrlParam:function(e,t,n){if(void 0===t&&(t="&"),void 0===n&&(n=!0),!e)return"";var r=Object.keys(e);if(r.length<=0)return"";var o=[];return r.forEach((function(t){var r="";r=n?"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t])):"".concat(t,"=").concat(e[t]),o.push(r)})),o.join(t)},getRootDomain:function(){var e=window.location.hostname||window.location.host,t=window.location.host.split(".");return t.length>1&&(e=t.slice(t.length-2).join(".")),e},getTopFrameUrl:function(){var e="";if(window.top!==window)try{e=window.top.location.href}catch(qe){e=document.referrer}else e=window.location.href;return e},getDomainOfURL:function(e){if(null==e||""===e)return"";try{return new URL(e).hostname}catch(q){return""}},getUrlParamByKey:function(e,t){return(0,Ae.en)(e||location.href).query[t]||""},getUrlParams:function(e){return(0,Ae.en)(e||location.href).query},updateUrlParam:function(e,t,n){var r=e,o=this.getUrlParamByKey(r,t),i="".concat(t,"=").concat(n);return r=o?r.replace("".concat(t,"=").concat(o),i):r+(-1!==r.indexOf("?")?"&":"?")+i},getFileName:function(e){if(!e)return null;var t=e,n=t.indexOf("?");n>0&&(t=t.slice(0,n));var r=t.lastIndexOf("/");r>0&&(t=t.slice(r+1,t.length));var o=t.lastIndexOf("#");return o>0&&(t=t.slice(0,o)),t},getFileExtension:function(e){if(!e)return null;if(this.isWebRTCLink(e))return"webrtc";var t=me.getFileName(e);if(t){var n=t.split(".");if(n&&n.length>1)return n[n.length-1]}return null},isWebRTCLink:function(e){return/^webrtc:\/\//.test(e)}}),Ee=me,Ie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),be=function(){var e=this;this.state="pending",this.promise=new Promise((function(t,n){e.resolve=function(n){e.state="fulfilled",t(n)},e.reject=function(t){e.state="rejected",n(t)}}))},Ce=be,we=function(e){function t(t){var n=e.call(this)||this;return t.timeoutMS>0&&setTimeout((function(){return n.reject()}),t.timeoutMS),n}return Ie(t,e),t}(be),Se=function(){return Se=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Se.apply(this,arguments)},xe={insertStyle:Ae.CQ,loadScript:function(e,t,n,r){var o=new we({timeoutMS:n});return Ae.ve(Se(Se({},r),{src:e}),t).then(o.resolve).catch(o.reject),o.promise},attr:Ae.jn,removeAttr:function(e,t){e&&t&&("src"===t?delete e.src:e.removeAttribute(t))},css:Ae.oV,append:function(e,t){e&&e.appendChild(t)},prepend:function(e,t){e.children[0]?e.insertBefore(t,e.children[0]):e.appendChild(t)},addClass:Ae.cn,removeClass:Ae.IV,hasClass:Ae.pv,hide:Ae.e6,show:Ae.V_,text:Ae.uT,html:Ae.ns,creatDom:function(e){return this.createDom(e)},createDom:function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild},getDomSize:function(e){if(!e)return{width:0,height:0};var t=e.currentStyle?e.currentStyle:window.getComputedStyle(e,null);return{width:parseFloat(t.width),height:parseFloat(t.height)}},createVideoDom:function(e){var t=e||{},n=t.attrOpts,r=void 0===n?{}:n,o=t.cssOpts,i=void 0===o?{}:o,a=document.createElement("video");return Object.keys(r).forEach((function(e){a.setAttribute(e,r[e])})),Ae.oV(a,i),a},getElementFromConfig:function(e){return"string"==typeof e?document.querySelector(e):e}},Pe=(n(6644),n(489),function(){return(Pe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)});function Te(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function De(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var Oe=function(){function e(){this.interceptors=[]}return e.prototype.use=function(e,t){return this.interceptors.push({resolved:e,rejected:t}),this.interceptors.length-1},e.prototype.traverse=function(e,t){void 0===t&&(t=!1);var n=Promise.resolve(e);return(t?Array.prototype.reduceRight:Array.prototype.reduce).call(this.interceptors,(function(e,t){if(t){var r=t.resolved,o=t.rejected;n=n.then(r,o)}return e}),""),n},e.prototype.eject=function(e){this.interceptors[e]&&(this.interceptors[e]=null)},e}(),Ne={defaults:{timeout:0,method:"GET",mode:"cors",redirect:"follow",credentials:"same-origin"},headers:{common:{Accept:"application/json, text/plain, */*"},POST:{"Content-Type":"application/x-www-form-urlencoded"},PUT:{"Content-Type":"application/x-www-form-urlencoded"},PATCH:{"Content-Type":"application/x-www-form-urlencoded"}},baseURL:"",polyfillUrl:"https://vm.gtimg.cn/comps/script/fetch.min.js",interceptors:{request:new Oe,response:new Oe}},Re=/^([a-z][a-z\d+\-.]*:)?\/\//i,ke=Object.prototype.toString;function Le(e){return Te(this,void 0,void 0,(function(){var t;return De(this,(function(n){switch(n.label){case 0:if(window.fetch)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,(0,Ae.ve)({src:e})];case 2:return n.sent(),[3,4];case 3:throw t=n.sent(),new Error("\u52a0\u8f7d polyfill "+e+" \u5931\u8d25: "+t.message);case 4:return[2]}}))}))}function Be(e){return["Accept","Content-Type"].forEach((function(t){return n=t,void((r=e.headers)&&Object.keys(r).forEach((function(e){e!==n&&e.toUpperCase()===n.toUpperCase()&&(r[n]=r[e],delete r[e])})));var n,r})),function(e){if("[object Object]"!==ke.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}(e.body)&&(e.body=JSON.stringify(e.body),e.headers&&(e.headers["Content-Type"]="application/json;charset=utf-8")),e}!function(){function e(){this.element=null,this.isAborted=!1}e.prototype.abort=function(){var e,t;if(this.element){var n=new Event("abort");null===(t=(e=this.element).onerror)||void 0===t||t.call(e,n),this.isAborted=!0,this.element=null}}}();var Me=function(){},Qe=1;function Ve(e){return Te(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,l,c,u,d,p,f,h,g,v,A;return De(this,(function(y){switch(y.label){case 0:return t=Ne.baseURL,n=Ne.defaults,r=Ne.interceptors,[4,Le(Ne.polyfillUrl)];case 1:return y.sent(),(o=Pe(Pe({},n),e)).headers||(o.headers=function(e){void 0===e&&(e="GET");var t=Ne.headers[e]||{};return Pe(Pe({},Ne.headers.common),t)}(o.method)),Be(o),[4,r.request.traverse(o,!0)];case 2:if((i=y.sent())instanceof Error)throw i;return i.url=function(e,t){return!e||Re.test(t)?t:e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,"")}(t,i.url),a=i.url,s=i.timeout,l=i.params,c=i.method,u=["GET","DELETE","OPTIONS","HEAD"].includes(void 0===c?"GET":c)&&!!l,d=u?(0,Ae.Nv)({url:a,query:l}):a,p=[],s&&!i.signal&&(g=new Promise((function(e){f=setTimeout((function(){e(new Error("timeout"))}),s)})),p.push(g),h=new AbortController,i.signal=h.signal),p.push(fetch(d,i).catch((function(e){return e}))),[4,Promise.race(p)];case 3:return v=y.sent(),f&&clearTimeout(f),[4,r.response.traverse(v)];case 4:if((A=y.sent())instanceof Error)throw null==h||h.abort(),A;return[2,A]}}))}))}var Fe={jsonp:function(e,t){return void 0===t&&(t={}),new Promise((function(n,r){var o,i=t.name,a=t.query,s=void 0===a?{}:a,l=t.param,c=void 0===l?"callback":l,u=t.timeout,d=void 0===u?6e4:u,p=t.prefix,f=void 0===p?"jsonp_":p,h=t.controller,g=t.charset,v=i||""+f+Qe++,A=document.createElement("script"),y=d?setTimeout((function(){_(!0),r(new Error("jsonp timeout"))}),d):null,_=function(e){var t;void 0===e&&(e=!1),null===(t=A.parentNode)||void 0===t||t.removeChild(A),y&&clearTimeout(y),h&&(h.element=null),window[v]=e?Me:null},m=(0,Ae.Nv)({url:e,query:Pe(Pe({},s),(o={},o[c]=v,o))});A.src=m,g&&(A.charset=g),h&&(h.element=A),A.onerror=function(e){_(),r(e)},window[v]=function(e){_(),n(e)},document.body.appendChild(A)}))},img:function(e){return new window.Promise((function(t,n){(new Image).src=e,t()}))},fetch:function(e,t){return void 0===t&&(t={}),Ve({url:e,method:t.method,body:t.body}).then((function(e){return e.json()}))},xhr:function(e){var t=e.retryCount||0,n=+new Date,r=0,o=function o(i,a){var s=function(e){void 0===e&&(e="xhrNetworkError"),r<t?(r++,o(i,a)):a({error:e,target:l})},l=new XMLHttpRequest;l.open(e.method||"get",e.url),e.timeout&&(l.timeout=e.timeout),e.responseType&&(l.responseType=e.responseType),l.withCredentials=!!e.withCredentials,l.ontimeout=e.ontimeout,e.range&&l.setRequestHeader("Range","bytes=".concat(e.range[0],"-").concat(e.range[1])),e.headers&&Object.keys(e.headers).forEach((function(t){l.setRequestHeader(t,e.headers[t])})),l.onload=function(){200!==l.status&&206!==l.status?s("xhrStatusCodeError"):i({data:l.response,target:l,startTimestamp:n})},l.onerror=function(e){s()},l.onabort=function(){},l.ontimeout=function(){s("xhrTimeoutError")},e.body?l.send(e.body):l.send()};return new Promise((function(e,t){o(e,t)}))}};function Ue(e,t){return t?e.on.bind(e):e.off.bind(e)}function Ke(e,t){return t?e.addEventListener.bind(e):e.removeEventListener.bind(e)}var je;n(2472),n(541),n(6210);function He(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function qe(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function Ge(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}!function(e){e[e.sync=1]="sync",e[e.async=0]="async"}(je||(je={}));var Ye,We=function(){function e(){this._hasPriority=!1,this._array=[]}return e.prototype.insert=function(e,t){if(void 0===t&&(t=!1),0!==e.priority&&(this._hasPriority=!0),!this._hasPriority)return t?(this._array.unshift(e),0):(this._array.push(e),this._array.length-1);var n=this._array.findIndex((function(n){return n.priority===e.priority?t:n.priority<e.priority}));return-1===n?(this._array.push(e),this._array.length-1):(this._array.splice(n,0,e),n)},e.prototype.clone=function(){return Ge([],this._array,!0)},e.prototype.getListener=function(e){return this._array[e]},e.prototype.getListeners=function(){return this._array.map((function(e){return e.listener}))},e.prototype.remove=function(e){var t=this._array.findIndex((function(t){return t.listener===e}));-1!==t&&(this._array[t].isRemove=!0,this._array.splice(t,1))},e.prototype.findIdx=function(e){return this._array.findIndex((function(t){return t.listener===e}))},e.prototype.size=function(){return this._array.length},e}(),ze=function(){function e(e){void 0===e&&(e={}),this._events=Object.create(null),this._cacheEvents=Object.create(null);var t=e.maxListeners,n=void 0===t?10:t,r=e.replayType,o=void 0===r?je.sync:r,i=e.isCache,a=void 0!==i&&i;this._isCache=a,this._replayType=o,this._maxListeners=n}return e.prototype.setCacheStatus=function(e){this._isCache=e},e.prototype.setReplayType=function(e){this._replayType=e},e.prototype.getCacheStatus=function(){return this._isCache},e.prototype.clearCache=function(){this._isCache=!1,this._cacheEvents=Object.create(null)},e.prototype.setMaxListeners=function(e){return this._maxListeners=e,this},e.prototype.getMaxListeners=function(){return this._maxListeners},e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this._emit.apply(this,Ge([!1,e],t,!1))},e.prototype.asyncEmit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this._emit.apply(this,Ge([!0,e],t,!1))},e.prototype.addListener=function(e,t){return this._addListener(e,{listener:t,priority:0,isOnce:!1})},e.prototype.on=function(e,t,n){return void 0===n&&(n=0),this._addListener(e,{listener:t,priority:n,isOnce:!1})},e.prototype.listeners=function(e){var t=this._events[e];return t?t.getListeners():[]},e.prototype.prependListener=function(e,t){return this._addListener(e,{listener:t,priority:0,isOnce:!1},!0)},e.prototype.once=function(e,t,n){return void 0===n&&(n=0),this._addListener(e,{listener:t,priority:n,isOnce:!0})},e.prototype.removeListener=function(e,t){var n=this._events[e];return n?(n.remove(t),this):this},e.prototype.off=function(e,t){return this.removeListener(e,t)},e.prototype.removeAllListeners=function(e){return void 0===e?(this._events=Object.create(null),this):(this._events[e]&&delete this._events[e],this)},e.prototype.listenerCount=function(e){var t;return(null===(t=this._events[e])||void 0===t?void 0:t.size())||0},e.prototype.eventNames=function(){return Object.getOwnPropertyNames(this._events)},e.prototype._emit=function(t,n){var r=this;void 0===t&&(t=!1);for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];var a=[{type:n,target:this,data:1===o.length?o[0]:o}],s=this._events[n],l={stopIndex:-1,onceCount:0,emitData:a};if(this._addCacheEvent(n,l,t),!s)return!!t&&Promise.resolve(!1);var c=Promise.resolve();return s.clone().some((function(n,o){return(n.isOnce||n.isRemove)&&(l.onceCount+=1),!n.isRemove&&(t?(c=c.then((function(){return He(r,void 0,void 0,(function(){return qe(this,(function(t){switch(t.label){case 0:return l.stopIndex>=0||n.isRemove?[2]:(n.isOnce&&s.remove(n.listener),[4,n.listener.apply(this,a)]);case 1:return t.sent()===e.STOP_IMMEDIATE_PROPAGATION&&(l.stopIndex=Math.max(o-l.onceCount,0)),[2]}}))}))})),!1):(n.isOnce&&s.remove(n.listener),n.listener.apply(r,a)===e.STOP_IMMEDIATE_PROPAGATION&&(l.stopIndex=Math.max(o-l.onceCount,0),!0)))})),!t||c.then((function(){return!0}))},e.prototype._addCacheEvent=function(e,t,n){if(this._isCache){var r=n?Promise.resolve(t):t;this._cacheEvents[e]?this._cacheEvents[e].push(r):this._cacheEvents[e]=[r]}},e.prototype._replayCacheEvent=function(t,n,r,o){var i=this,a=o||this._cacheEvents[t];if(this._isCache&&a){var s=n.isOnce?1:0;a.some((function(o,l){return o instanceof Promise?(a[l]=o.then((function(o){return He(i,void 0,void 0,(function(){var i;return qe(this,(function(a){switch(a.label){case 0:return o.stopIndex>=0&&r>o.stopIndex?[2,o]:[4,n.listener.apply(this,o.emitData)];case 1:return i=a.sent(),n.isOnce&&this.off(t,n.listener),i===e.STOP_IMMEDIATE_PROPAGATION?o.stopIndex=Math.max(r-s,0):o.stopIndex>=0&&r<=o.stopIndex&&(o.stopIndex=o.stopIndex-s+1),[2,o]}}))}))})),n.isOnce):(o.stopIndex>=0&&r>o.stopIndex||(n.isOnce&&i.off(t,n.listener),n.listener.apply(i,o.emitData)===e.STOP_IMMEDIATE_PROPAGATION?o.stopIndex=Math.max(r-s,0):o.stopIndex>=0&&r<=o.stopIndex&&(o.stopIndex=o.stopIndex-s+1)),n.isOnce)}))}},e.prototype._addListener=function(e,t,n){var r=this;void 0===n&&(n=!1),this._events[e]||(this._events[e]=new We);var o=this._events[e].insert(t,n);if(this._maxListeners>0&&this._events[e].size()===this._maxListeners&&console.warn("Possible EventEmitter memory leak detected. ".concat(this._events[e].size()," ").concat(String(e)," listeners ")+"added. Use emitter.setMaxListeners() to increase limit"),this._replayType===je.async){var i=this._cacheEvents[e]?Ge([],this._cacheEvents[e],!0):null;if(!i)return this;setTimeout((function(){var n=r._events[e].findIdx(t.listener);-1!==n&&r._replayCacheEvent(e,t,n,i)}))}else this._replayCacheEvent(e,t,o);return this},e.STOP_IMMEDIATE_PROPAGATION="EventEmitter.STOP_IMMEDIATE_PROPAGATION",e}(),Je=ze;!function(e){e.UNKNOWN="70090000",e.KEY_SYS_ACCESS_FAILED="70090001",e.KEY_SESSION_CREATION_FAILED="70090002",e.KEY_SYS_NOT_SUPPORTED="70090003",e.KEY_SYS_NOT_REQUESTED="70090004",e.KEY_SESSION_NOT_EXIST="70090005",e.KEY_NOT_EXIST="70090006",e.INIT_DATA_EMPTY="70090007",e.FPS_SET_KEY_FAILED="70090008",e.FPS_CERTIFICATE_NOT_EXIST="7009009",e.HDCP_ERROR="70090010",e.LICENSE_REQUEST_FAILED="70090011",e.LICENSE_NOT_EXIST="70090012",e.KEY_SESSION_REQUEST_FAILED="70090013",e.KEY_SESSION_UPDATE_FAILED="70090014",e.KEY_EXPIRED="70090015",e.KEY_RELEASED="70090016",e.KEY_INTERNAL_ERROR="70090017",e.MEDIA_KEYS_SET_FAILED="70090018"}(Ye||(Ye={}));n(8255);function Ze(e,t,n){var r=At.stringToArray(t),o=e.byteLength+4+r.byteLength+4+n.byteLength,i=0,a=new ArrayBuffer(o),s=new DataView(a),l=new Uint8Array(a,i,e.byteLength);l.set(e),i+=l.byteLength,s.setUint32(i,r.byteLength,!0),i+=4;var c=new Uint16Array(a,i,r.length);return c.set(r),i+=c.byteLength,s.setUint32(i,n.byteLength,!0),i+=4,new Uint8Array(a,i,n.byteLength).set(n),new Uint8Array(a,0,a.byteLength)}function Xe(e){var t,n,r;return null===(r=null===(n=null===(t=At.arrayToString(e).split("skd://"))||void 0===t?void 0:t[1])||void 0===n?void 0:n.split("?"))||void 0===r?void 0:r[0]}n(2801);function $e(e){var t=e.getElementsByTagName("Challenge")[0];try{return atob(t.childNodes[0].nodeValue)}catch(qe){throw"cannot parse <Challenge> from init message"}}function et(e){var t={},n=e.getElementsByTagName("name"),r=e.getElementsByTagName("value");if(n.length!==r.length)throw"header names and values are not match";for(var o=0;o<n.length;o++)t[n[o].childNodes[0].nodeValue]=r[o].childNodes[0].nodeValue;return t}var tt,nt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rt=function(){return rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},rt.apply(this,arguments)},ot=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(qe){i(qe)}}function s(e){try{l(r.throw(e))}catch(qe){i(qe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},it=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(qe){i=[6,qe],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function at(e){switch(e){case tt.FairPlayWebKit:return null;case tt.Widevine:return{initDataTypes:["cenc"],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"',robustness:"SW_SECURE_CRYPTO"}]};case tt.FairPlay:return{initDataTypes:["skd","cenc"],videoCapabilities:[{contentType:"application/vnd.apple.mpegurl",robustness:""}]};case tt.PlayReady:case tt.PlayReadyHardware:return{initDataTypes:["keyids","cenc"],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"'}],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]};default:return null}}!function(e){e.FairPlayWebKit="com.apple.fps.1_0",e.Widevine="com.widevine.alpha",e.FairPlay="com.apple.fps",e.Chacha="com.tencent.chacha",e.PlayReady="com.microsoft.playready",e.PlayReadyHardware="com.microsoft.playready.hardware"}(tt||(tt={}));var st,lt,ct="error",ut=function(e){function t(n,r,o){var i=e.call(this)||this;return i.started=!1,i.mediaKeyDescriptor=null,i.mediaKeyPromise=null,i.onVideoEncrypted=function(e){i.logger.log("media encrypted",e),i.mediaKeyPromise?i.mediaKeyPromise.then((function(t){i.mediaKeyDescriptor?i.mediaKeyDescriptor.hasInitialized?i.logger.warn("Media key-session has been initialized but requested again"):i.mediaKeyDescriptor.mediaKeys?i.mediaKeyDescriptor.mediaKeySession?e.initData?(i.mediaKeyDescriptor.mediaKeySession.generateRequest(e.initDataType,e.initData).catch((function(e){i.emit(ct,{code:Ye.KEY_SESSION_REQUEST_FAILED,message:"\u89c6\u9891\u8d44\u6e90\u5df2\u52a0\u5bc6\uff0c\u4f46CDM Session\u8bf7\u6c42\u5931\u8d25"})})),i.mediaKeyDescriptor.initData=e.initData,i.mediaKeyDescriptor.hasInitialized=!0):i.emit(ct,{code:Ye.INIT_DATA_EMPTY,message:"\u89c6\u9891\u8d44\u6e90\u5df2\u52a0\u5bc6\uff0c\u4f46\u4e8b\u4ef6\u4fe1\u606f\u4e2d\u6ca1\u6709\u7528\u4e8e\u521b\u5efa\u8bf7\u6c42\u7684initData"}):i.emit(ct,{code:Ye.KEY_SESSION_NOT_EXIST,message:"\u89c6\u9891\u8d44\u6e90\u5df2\u52a0\u5bc6\uff0c\u4f46CDM Session\u672a\u521b\u5efa"}):i.emit(ct,{code:Ye.KEY_NOT_EXIST,message:"\u89c6\u9891\u8d44\u6e90\u5df2\u52a0\u5bc6\uff0c\u4f46\u5c1a\u672a\u83b7\u53d6\u5230MediaKey"}):i.emit(ct,{code:Ye.KEY_NOT_EXIST,message:"\u89c6\u9891\u8d44\u6e90\u5df2\u52a0\u5bc6\uff0c\u4f46\u5c1a\u672a\u83b7\u53d6\u5230MediaKey"})})):i.emit(ct,{code:Ye.KEY_SYS_NOT_REQUESTED,message:"\u89c6\u9891\u8d44\u6e90\u5df2\u52a0\u5bc6\uff0c\u4f46\u5c1a\u672a\u8bf7\u6c42CDM"})},i.onVideoWebkitneedkey=function(e){var n=i.config.fpsCustomContentId(e.initData),r=t.serverCertificate[tt.FairPlayWebKit];if(r){var o=i.config.fpsCustomTransformInitData(e.initData,n,r);i.mediaKeyDescriptor.initData=o,i.mediaKeyDescriptor.mediaKeySession?i.logger.warn("Media key-session has already been initialized"):(i.mediaKeyDescriptor.mediaKeySession=i.createSessionWithMediaKey(i.mediaKeyDescriptor.mediaKeys,o),i.mediaKeyDescriptor.assetID=n,i.mediaKeyDescriptor.mediaKeySession.onwebkitkeyadded=i.onFPSKeySessionKeyAdded,i.mediaKeyDescriptor.mediaKeySession.onwebkitkeyerror=i.onFPSKeySessionKeyError,i.mediaKeyDescriptor.mediaKeySession.onwebkitkeymessage=function(e){i.onMediaKeySessionMessage(i.mediaKeyDescriptor.mediaKeySession,e)})}else i.emit(ct,{code:Ye.FPS_CERTIFICATE_NOT_EXIST,message:"\u89c6\u9891\u8d44\u6e90\u5df2\u52a0\u5bc6\uff0c\u4f46 Fairplay \u670d\u52a1\u7aef\u8bc1\u4e66\u672a\u914d\u7f6e"})},i.onFPSKeySessionKeyAdded=function(e){},i.onFPSKeySessionKeyError=function(e){var t=i.mediaKeyDescriptor.mediaKeySession.error;if(t.systemCode){var n={1212433232:[Ye.HDCP_ERROR,"\u4f60\u53ef\u80fd\u94fe\u63a5\u4e86\u4e0d\u652f\u6301HDCP\u6807\u51c6\u7684\u663e\u793a\u5668"]};n[t.systemCode]&&i.emit(ct,{code:n[t.systemCode][0],message:n[t.systemCode][1]})}else i.emit(ct,{code:Ye.UNKNOWN,message:"\u672a\u77e5\u9519\u8bef"})},i.media=n,i.logger=o,i.config=rt({keySystem:null,fpsCustomContentId:Xe,fpsCustomTransformInitData:Ze},r),i}return nt(t,e),Object.defineProperty(t.prototype,"isFairPlay",{get:function(){var e=this.config.keySystem;return e===tt.FairPlay||e===tt.FairPlayWebKit},enumerable:!1,configurable:!0}),t.isKeySystemSupported=function(e){var t,n,r;return null===(r=((t={})[tt.FairPlayWebKit]=[null===(n=self.WebKitMediaKeys)||void 0===n?void 0:n.isTypeSupported(e,"video/mp4")],t[tt.FairPlay]=[ee.browser.safari,self.MediaKeys,self.navigator.requestMediaKeySystemAccess],t[tt.Widevine]=[self.MediaKeys,self.navigator.requestMediaKeySystemAccess],t[tt.PlayReady]=[self.MediaKeys,self.navigator.requestMediaKeySystemAccess],t[tt.PlayReadyHardware]=[self.MediaKeys,self.navigator.requestMediaKeySystemAccess],t)[e])||void 0===r?void 0:r.every(Boolean)},t.prototype.destroy=function(){this.removeAllListeners(),this.logger=null},t.prototype.configure=function(e){var n=this;this.config=rt(rt({},this.config),e),this.config.certificate&&Object.keys(this.config.certificate).forEach((function(e){t.serverCertificate[e]=n.config.certificate[e]}))},t.prototype.hasStarted=function(){return this.started},t.prototype.init=function(e){return ot(this,void 0,void 0,(function(){return it(this,(function(n){switch(n.label){case 0:return[4,this.reset()];case 1:return n.sent(),e&&this.configure(e),"string"!=typeof t.serverCertificate[this.config.keySystem]?[3,3]:[4,this.requestServerCertificate(this.config.keySystem,t.serverCertificate[this.config.keySystem])];case 2:n.sent(),n.label=3;case 3:return this.bind(),this.logger.log("drm module initialized",this.config),[2]}}))}))},t.prototype.reset=function(){return ot(this,void 0,void 0,(function(){var e,t,n;return it(this,(function(r){switch(r.label){case 0:if(this.started=!1,!this.config.keySystem||!this.mediaKeyDescriptor)return[2];if((n={})[tt.FairPlayWebKit]=this.cleanupFPSSession,n[tt.FairPlay]=this.cleanupMediaKeySession,n[tt.Widevine]=this.cleanupMediaKeySession,n[tt.PlayReady]=this.cleanupMediaKeySession,n[tt.PlayReadyHardware]=this.cleanupMediaKeySession,e=n,this.videoEncryptedEventPicker(!1),!e[this.config.keySystem])return[3,4];t=this.mediaKeyDescriptor.mediaKeySession,this.mediaKeyPromise=null,this.mediaKeyDescriptor=null,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e[this.config.keySystem].call(this,t)];case 2:return r.sent(),[3,4];case 3:return r.sent(),[3,4];case 4:return[2]}}))}))},t.prototype.bind=function(){var e=this.config.keySystem;e&&(t.isKeySystemSupported(e)?(this.started=!0,this.mediaKeyPromise=this.createKeySystemAccess(e),this.videoEncryptedEventPicker(!0)):this.logger.warn("\u5f53\u524d\u73af\u5883\u4e0d\u652f\u6301 ".concat(e)))},t.prototype.cleanupMediaKeySession=function(e){return this.media&&e?(e.onmessage=null,e.onkeystatuseschange=null,e.close().catch((function(){})),this.media.setMediaKeys(null)):Promise.resolve()},t.prototype.videoEncryptedEventPicker=function(e){var t;void 0===e&&(e=!0);var n=((t={})[tt.FairPlayWebKit]=["webkitneedkey",this.onVideoWebkitneedkey],t[tt.Widevine]=["encrypted",this.onVideoEncrypted],t[tt.FairPlay]=["encrypted",this.onVideoEncrypted],t[tt.PlayReady]=["encrypted",this.onVideoEncrypted],t[tt.PlayReadyHardware]=["encrypted",this.onVideoEncrypted],t)[this.config.keySystem],r=n[0],o=n[1];e?this.media.addEventListener(r,o):this.media.removeEventListener(r,o)},t.prototype.createSessionWithMediaKey=function(e,t){var n;return((n={})[tt.FairPlayWebKit]=this.createFPSWebkitSession,n[tt.Widevine]=this.createMediaKeySession,n[tt.FairPlay]=this.createMediaKeySession,n[tt.PlayReady]=this.createMediaKeySession,n[tt.PlayReadyHardware]=this.createMediaKeySession,n)[this.config.keySystem].call(this,e,t)},t.prototype.createKeySystemAccess=function(e){var t;return((t={})[tt.Widevine]=this.requestKeySystemAccess,t[tt.FairPlay]=this.requestKeySystemAccess,t[tt.FairPlayWebKit]=this.requestFPSMediaKeys,t[tt.PlayReady]=this.requestKeySystemAccess,t[tt.PlayReadyHardware]=this.requestKeySystemAccess,t)[this.config.keySystem].call(this,e)},t.prototype.requestLicense=function(e,t){var n;if(this.config.licenseUrl)return((n={})[tt.FairPlayWebKit]=this.createFPSLicenseRequest,n[tt.Widevine]=this.createWidevineLicenseRequest,n[tt.PlayReady]=this.createPlayReadyLicenseRequest,n[tt.FairPlay]=this.createFPSLicenseRequest,n[tt.PlayReadyHardware]=this.createPlayReadyLicenseRequest,n)[this.config.keySystem].call(this,e,t);this.emit(ct,{code:Ye.LICENSE_NOT_EXIST,message:"\u89c6\u9891\u8d44\u6e90\u5df2\u52a0\u5bc6\uff0c\u4f46\u672a\u914d\u7f6e\u89e3\u5bc6\u8bc1\u4e66\u5730\u5740"})},t.prototype.requestServerCertificate=function(e,n){return ot(this,void 0,void 0,(function(){var r;return it(this,(function(o){switch(o.label){case 0:return[4,Fe.xhr({method:"GET",responseType:"arraybuffer",url:n})];case 1:return r=o.sent().data,t.serverCertificate[e]=new Uint8Array(r),[2]}}))}))},t.prototype.requestKeySystemAccess=function(e){return ot(this,void 0,void 0,(function(){var t,n;return it(this,(function(r){switch(r.label){case 0:if(!(t=at(e)))return this.emit(ct,{code:Ye.KEY_SYS_NOT_SUPPORTED,message:"".concat(e," \u4e0d\u652f\u6301")}),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,self.navigator.requestMediaKeySystemAccess(e,[t])];case 2:return n=r.sent(),[2,this.onMediaKeySystemObtained(e,n)];case 3:return r.sent(),this.emit(ct,{code:Ye.KEY_SYS_ACCESS_FAILED,message:"\u8bbf\u95eeCDM\u5931\u8d25, keySystem ".concat(e)}),[2];case 4:return[2]}}))}))},t.prototype.onMediaKeySystemObtained=function(e,n){return ot(this,void 0,void 0,(function(){var r;return it(this,(function(o){switch(o.label){case 0:return[4,n.createMediaKeys()];case 1:r=o.sent(),this.mediaKeyDescriptor={hasInitialized:!1,mediaKeySession:null,mediaKeySystemAccess:n,mediaKeys:r},o.label=2;case 2:return o.trys.push([2,5,,6]),e!==tt.FairPlay?[3,4]:[4,r.setServerCertificate(t.serverCertificate[tt.FairPlay])];case 3:o.sent(),o.label=4;case 4:return this.createSessionWithMediaKey(r),[2,r];case 5:return o.sent(),this.emit(ct,{code:Ye.KEY_SESSION_CREATION_FAILED,message:"CDM Session\u521d\u59cb\u5316\u5931\u8d25"}),[2];case 6:return[2]}}))}))},t.prototype.createMediaKeySession=function(e){var t=this;if(this.mediaKeyDescriptor.mediaKeySession)this.logger.warn("Media key-session has already been initialized");else{var n={"output-restricted":[Ye.HDCP_ERROR,"\u4f60\u53ef\u80fd\u94fe\u63a5\u4e86\u4e0d\u652f\u6301HDCP\u6807\u51c6\u7684\u663e\u793a\u5668"],"output-downscaled":[Ye.HDCP_ERROR,"\u4f60\u53ef\u80fd\u94fe\u63a5\u4e86\u4e0d\u652f\u6301HDCP\u6807\u51c6\u7684\u663e\u793a\u5668"],"status-pending":null,"internal-error":[Ye.KEY_INTERNAL_ERROR,"\u5185\u90e8\u9519\u8bef"],usable:null,expired:[Ye.KEY_EXPIRED,"MediaKey\u5df2\u8fc7\u671f"],released:[Ye.KEY_RELEASED,"MediaKey\u5df2\u4eceCDM\u4e2d\u6ce8\u9500"]};this.mediaKeyDescriptor.mediaKeySession=e.createSession(),this.mediaKeyDescriptor.mediaKeySession.onkeystatuseschange=function(e){var r,o,i;null===(i=null===(o=null===(r=e.target)||void 0===r?void 0:r.keyStatuses)||void 0===o?void 0:o.forEach)||void 0===i||i.call(o,(function(e,r){if(t.mediaKeyDescriptor&&n[e]){var o=n[e],i=o[0],a=o[1];t.emit(ct,{code:i,message:a})}}))},this.mediaKeyDescriptor.mediaKeySession.onmessage=function(e){t.onMediaKeySessionMessage(t.mediaKeyDescriptor.mediaKeySession,e)},this.media.setMediaKeys(e).then((function(){t.logger.log("media keys set")})).catch((function(e){t.logger.error("media keys set failed",e),t.emit(ct,{code:Ye.MEDIA_KEYS_SET_FAILED,message:"failed to set media keys"})}))}},t.prototype.onMediaKeySessionMessage=function(e,t){var n=this;this.logger.log("received media key session message",t),this.requestLicense(t,(function(t){var r=t.data;if(n.config.licenseResponseSetup&&(r=n.config.licenseResponseSetup(r)||r),r){var o=e.update(r);null==o||o.catch((function(e){n.emit(ct,{code:Ye.KEY_SESSION_UPDATE_FAILED,message:"CDM Session\u66f4\u65b0\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u8bc1\u4e66\u89e3\u6790"})}))}else n.emit(ct,{code:Ye.KEY_SESSION_UPDATE_FAILED,message:"CDM Session\u66f4\u65b0\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u8bc1\u4e66\u89e3\u6790"})}))},t.prototype.createWidevineLicenseRequest=function(e,t){var n=this,r={method:"POST",responseType:"arraybuffer",body:e.message,url:this.config.licenseUrl,headers:{"Content-Type":"application/x-www-form-urlencoded"}};this.config.licenseRequestSetup&&(r=this.config.licenseRequestSetup(r)),Fe.xhr(r).then((function(e){t(e)})).catch((function(e){var t=e||{},r=t.code,o=t.message,i="".concat(Ye.LICENSE_REQUEST_FAILED,".").concat(null!=r?r:"0");n.emit(ct,{code:i,message:"\u8bc1\u4e66\u8bf7\u6c42\u5931\u8d25 [code: ".concat(r,"] ").concat(o)})}))},t.prototype.createPlayReadyLicenseRequest=function(e,t){var n=this,r=function(e){return(new DOMParser).parseFromString(String.fromCharCode.apply(null,new Uint16Array(e)),"application/xml")}(e.message),o={method:"POST",responseType:"arraybuffer",body:$e(r),url:this.config.licenseUrl,headers:et(r)};this.config.licenseRequestSetup&&(o=this.config.licenseRequestSetup(o)),Fe.xhr(o).then((function(e){t(e)})).catch((function(e){n.logger.warn("failed to get license",e),n.emit(ct,{code:Ye.LICENSE_REQUEST_FAILED,message:"\u8bc1\u4e66\u8bf7\u6c42\u5931\u8d25 ".concat(null==e?void 0:e.message)})}))},t.prototype.createFPSLicenseRequest=function(e,t){var n=this,r=e.message,o=encodeURIComponent(At.arrayBufferToBase64(r)),i={method:"POST",responseType:"arraybuffer",body:"spc=".concat(o,"&assetId=").concat(this.mediaKeyDescriptor.assetID),url:this.config.licenseUrl,headers:{"Content-Type":"application/x-www-form-urlencoded"}};this.config.licenseRequestSetup&&(i=this.config.licenseRequestSetup(i)),Fe.xhr(i).then((function(e){t(e)})).catch((function(e){n.logger.warn("license request error",e),n.emit(ct,{code:Ye.LICENSE_REQUEST_FAILED,message:"\u8bc1\u4e66\u8bf7\u6c42\u5931\u8d25"})}))},t.prototype.requestFPSMediaKeys=function(){var e=new window.WebKitMediaKeys(tt.FairPlayWebKit);return this.media.webkitSetMediaKeys(e),this.mediaKeyDescriptor={mediaKeySession:null,initData:null,hasInitialized:!1,mediaKeySystemAccess:null,mediaKeys:this.media.webkitKeys},Promise.resolve(e)},t.prototype.createFPSWebkitSession=function(e,t){if(e){var n=e.createSession("video/mp4",t);if(n)return n;this.emit(ct,{code:Ye.KEY_SESSION_CREATION_FAILED,message:"Webkit CDM Session\u521b\u5efa\u5931\u8d25"})}else this.emit(ct,{code:Ye.FPS_SET_KEY_FAILED,message:"Webkit MediaKey\u521b\u5efa\u5931\u8d25"})},t.prototype.cleanupFPSSession=function(e){return e?(this.media.webkitSetMediaKeys(null),e.onwebkitkeyadded=null,e.onwebkitkeyerror=null,e.onwebkitkeymessage=null,Promise.resolve()):Promise.resolve()},t.serverCertificate={},t}(Je),dt=ut,pt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(qe){i(qe)}}function s(e){try{l(r.throw(e))}catch(qe){i(qe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},ft=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(qe){i=[6,qe],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},ht=document.createElement("video"),gt={getBuffered:function(e){for(var t=[],n=e.buffered.length,r=0;r<n;r++)t.push({start:e.buffered.start(r),end:e.buffered.end(r)});return t},checkTimeInBuffer:function(e,t){for(var n=!1,r=t.length,o=0;o<r;o++){var i=t[o].start,a=t[o].end;if(e>=i&&e<=a){n=!0;break}}return n},clear:function(e){e&&(e instanceof HTMLVideoElement?(e.removeAttribute("src"),e.srcObject=null):(e.srcConfig=null,e.src=null),e.load())},destroyElement:function(e){var t;e&&(null===(t=e.destroy)||void 0===t||t.call(e),gt.clear(e),gt.removeElement(e,null))},captureVideo:function(e,t){var n=t.dx,r=t.dy,o=t.dw,i=t.dh,a=e.videoWidth,s=e.videoHeight,l=document.createElement("canvas");l.width=a,l.height=s;var c=l.getContext("2d");return c.drawImage(e,0,0,a,s),{captureHeight:i,captureWidth:o,captureX:n,captureY:r,playtime:e.currentTime,data:c.getImageData(n,r,o,i)}},resizeElement:function(e,t){var n;if(t&&e)if(e instanceof HTMLElement)xe.css(e,t);else{var r=t.width,o=t.height;"number"==typeof r&&"number"==typeof o&&(null===(n=e.resize)||void 0===n||n.call(e,r,o))}},appendElement:function(e,t){var n;e instanceof HTMLElement?xe.append(t,e):null===(n=e.appendToParent)||void 0===n||n.call(e,t)},removeElement:function(e,t){var n;e instanceof HTMLElement?(null==e?void 0:e.parentNode)&&e.remove():null===(n=e.removeFromParent)||void 0===n||n.call(e,t)},setElementFitType:function(e,t){e&&e instanceof HTMLElement&&xe.css(e,{"object-fit":t})},getDefaultMaxBufferTime:function(){var e=navigator.connection;return e&&"wifi"===e.type?180:e&&"4g"===e.type?120:180},isAutoPlayBlockedMessage:function(e){return e&&/interact|not allowed|user gesture/.test(e)},supportSameTimePlay:function(){return(!ee.browser.x5||-1===["45031","45032"].indexOf("".concat(ee.browser.x5.version)))&&(!(ee.browser.mqqbrowser&&!(ee.browser.qqlive||ee.browser.wechat||ee.browser.mqq))&&!(ee.os.ios&&ee.os.version&&J.Z.compareVersion(ee.os.version,"11.0")<0))},cannotDetectAutoPlayBlock:function(){return ee.browser.chrome&&J.Z.compareVersion(ee.browser.chrome.version,"66.0")<0},supportMediaFragmentsURISpec:function(e){return void 0!==e?!!e:-1===window.navigator.userAgent.indexOf("jsdom")&&(!ee.mobile||!!ee.os.ios)},getVideoPlaybackQuality:function(e){var t=0,n=0;if(null==e?void 0:e.getVideoPlaybackQuality){var r=e.getVideoPlaybackQuality();n=r.droppedVideoFrames||0,t=r.totalVideoFrames||0}else e&&e.webkitDecodedFrameCount&&(t=e.webkitDecodedFrameCount,n=e.webkitDroppedFrameCount);return{totalVideoFrames:t,droppedVideoFrames:n}},supportMSE:function(){var e=gt.getMediaSource();if(!e)return!1;var t=window.SourceBuffer||window.WebKitSourceBuffer,n=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!n&&!!r},supportVideoFormat:function(){var e={mp4:"video/mp4",mov:"video/mp4",hls:"application/x-mpegURL",avi:"video/x-msvideo",mpeg:"video/mpeg",webm:"video/webm",ogg:"video/ogg"},t=[];return Object.keys(e).forEach((function(n){var r=e[n],o=ht.canPlayType(r);-1!==["maybe","probably"].indexOf(o)&&t.push(n)})),t},supportAV1:function(){return gt.isMediaSourceTypeSupported("video/mp4;codecs=av01.0.12M.08")},supportHevc:function(){return gt.isMediaSourceTypeSupported('video/mp4;codecs="hev1.1.6.L120.90"')},supportHEVCMain10:function(){return gt.isMediaSourceTypeSupported('video/mp4;codecs="hev1.2.4.L120.90"')},isVideoCanPlayType:function(e){return ht.canPlayType(e)},isMediaSourceTypeSupported:function(e){var t;try{return null===(t=gt.getMediaSource())||void 0===t?void 0:t.isTypeSupported(e)}catch(qe){return!1}},isMediaCapabilitiesTypeSupported:function(e){return pt(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,l,c,u,d,p;return ft(this,(function(f){switch(f.label){case 0:t=e.type,n=e.mimeType,r=e.resolution,o=void 0===r?"860x480":r,i=e.bitrate,a=void 0===i?800:i,s=e.framerate,l=void 0===s?30:s,f.label=1;case 1:switch(f.trys.push([1,3,,4]),c={type:"media-source"},t){case"audio":c.audio={contentType:n};break;case"audio-spatial":c.audio={contentType:n,spatialRendering:!0};break;case"video":u=o.toLowerCase().split("x"),d=u[0],p=u[1],c.video={contentType:n,bitrate:a,framerate:l,height:+d,width:+p}}return[4,navigator.mediaCapabilities.decodingInfo(c)];case 2:return[2,f.sent().supported];case 3:return f.sent(),[2,!1];case 4:return[2]}}))}))},isHDRSupported:function(){try{return window.matchMedia("(dynamic-range: high)").matches?B.SUPPORTED:window.matchMedia("(color-gamut: p3)").matches?B.WCG_DISPLAY_BUT_NO_HDR:B.NOT_SUPPORTED}catch(q){return B.NOT_SUPPORTED}},isDolbyVisionSupported:function(){return gt.isMediaSourceTypeSupported('video/mp4; codecs="dvhe"')},isDolbyAtomsSupported:function(e){return void 0===e&&(e=!1),gt.isMediaSourceTypeSupported('audio/mp4; codecs="ec-3"')},getMediaSource:function(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource},isEncryptionSupported:function(e,t){return pt(this,void 0,void 0,(function(){var n,r;return ft(this,(function(o){switch(o.label){case 0:if(n=t||at(e),r=[window.MediaKeys,window.WebKitMediaKeys].some((function(e){return e})),!r)return[2,!1];if(!(void 0!==window.navigator.requestMediaKeySystemAccess))return[2,!1];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,window.navigator.requestMediaKeySystemAccess(e,[n])];case 2:return[2,!!o.sent()];case 3:return o.sent(),[2,!1];case 4:return[2]}}))}))},supportWidevine:function(){return pt(this,void 0,void 0,(function(){return ft(this,(function(e){return[2,gt.isEncryptionSupported(tt.Widevine)]}))}))},supportFairplay:function(){var e=tt.FairPlayWebKit;return!!window.WebKitMediaKeys&&window.WebKitMediaKeys.isTypeSupported(e,"video/mp4")},supportWebGL:function(){var e,t=document.createElement("canvas");try{e=t.getContext("webgl")}catch(qe){return!1}return!!e},isWebRTCSupported:function(){var e=Boolean(ee.os.ios),t=Boolean(ee.browser.uc),n=Boolean(ee.browser.safari);return!t&&(!(e&&n&&J.Z.compareVersion(ee.os.version,"11.1.2")<0)&&("RTCPeerConnection"in window||"webkitRTCPeerConnection"in window))},isWasmSupported:function(){return!!window.WebAssembly&&!!window.customElements&&J.Z.supportES6()&&gt.supportWebGL()},commonErrorParse:function(e){if(e){var t=e.code,n=e.message;return{code:t||I.UNKNOWN_ERR,message:n||w.UNKNOWN}}return{code:I.UNKNOWN_ERR,message:w.UNKNOWN}}},vt=gt,At=(n(2481),{arrayToString:function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},base64ToUint8Array:function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r},arrayBufferToBase64:function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return window.btoa(t)},stringToArray:function(e){for(var t=e.length,n=new ArrayBuffer(2*t),r=new Uint16Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return r}});!function(e){e[e.Timer=0]="Timer",e[e.RAF=1]="RAF"}(lt||(lt={}));var yt=((st={})[lt.RAF]=[window.requestAnimationFrame.bind(window),window.cancelAnimationFrame.bind(window)],st[lt.Timer]=[window.setTimeout.bind(window),window.clearTimeout.bind(window)],st),_t=function(){function e(e,t){this.running=!1,this.callback=e,t===lt.RAF&&yt[t][0]?this.mode=lt.RAF:this.mode=lt.Timer,this.runner=yt[this.mode][0]}return e.prototype.start=function(e){var t=this;if(void 0===e&&(e=0),!this.running){this.running=!0;this.loopId=this.runner((function n(){var r;t.running&&(null===(r=t.callback)||void 0===r||r.call(t),t.loopId=t.runner(n,e))}),e)}},e.prototype.stop=function(){this.running&&(this.running=!1,this.loopId&&yt[this.mode][1](this.loopId),this.loopId=null)},e.prototype.destroy=function(){this.stop(),this.callback=null,this.loopId=null},e}(),mt=(n(1532),function(){function e(e){var t=this;this.targetOptionMap=new Map,this.pollTimer=null,this.lastRectMap=new Map,this.pollTimeout=Et,this.onPollTimeout=function(){var e=[];t.removeDisconnectedElements(),t.targetOptionMap.forEach((function(n,r){var o=r.getBoundingClientRect(),i=t.lastRectMap.get(r);t.diffRect(i,o,null==n?void 0:n.box)&&e.push(t.assembleEntries(r,o)),t.lastRectMap.set(r,o)})),e.length&&t.callback(e,t)},this.callback=e}return e.prototype.disconnect=function(){this.targetOptionMap.clear(),this.setPoll(!1)},e.prototype.observe=function(e,t){this.targetOptionMap.set(e,t),this.setPoll(!0)},e.prototype.unobserve=function(e){this.targetOptionMap.delete(e)},e.prototype.setPoll=function(e){void 0===e&&(e=!0),this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null),e&&(this.pollTimer=setInterval(this.onPollTimeout,this.pollTimeout))},e.prototype.removeDisconnectedElements=function(){var e=this;this.targetOptionMap.forEach((function(t,n){n.isConnected||(e.targetOptionMap.delete(n),e.lastRectMap.delete(n))}))},e.prototype.assembleEntries=function(e,t){return{target:e,borderBoxSize:[],contentBoxSize:[],contentRect:t,devicePixelContentBoxSize:[]}},e.prototype.diffRect=function(e,t,n){return void 0===n&&(n="content-box"),!e||It[n].some((function(n){return e[n]!==t[n]}))},e}()),Et=200,It={"border-box":["height","width","left","right","top","bottom"],"content-box":["height","width"],"device-pixel-content-box":["height","width"]},bt=window.ResizeObserver||mt,Ct={type:A.VOD,interruptPlayNextMinTime:1,backupUrlsMaxRetryCount:5,maxPreloadTimeout:3e4,maxBufferingTimeout:3e4,maxStateStalledTime:3e4,maxPlaytimeStalledTime:1e4,isPlayList:!1,preloadType:O.AUTO_LOAD,maxVideoNodeCount:1,minFillBlackBorder:10,minFragmentCountForSmoothLevelSwitching:3,ignoreEndedWhenLive:!0},wt=function(){return wt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},wt.apply(this,arguments)};var St,xt=function(){return xt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},xt.apply(this,arguments)};!function(e){e[e.npm=0]="npm",e[e.cdn=1]="cdn"}(St||(St={}));var Pt,Tt,Dt=function(){function e(){this.isCollected=!1,this.attaid="05700050920",this.token="3619167286",this.timeout=3e3}return e.getReporter=function(){return this.reporter||(this.reporter=new e),this.reporter},e.prototype.collectUsage=function(e,t,n){if(void 0===e&&(e=0),void 0===t&&(t=G),void 0===n&&(n=""),!this.isCollected){this.isCollected=!0;var r=Ee.getTopFrameUrl(),o=null==r?void 0:r.split("?")[0],i=Ee.getDomainOfURL(r),a={attaid:this.attaid,token:this.token,topUrl:"".concat(encodeURIComponent(r)),pageUrl:"".concat(encodeURIComponent(o)),domain:"".concat(encodeURIComponent(i)),channel:"".concat(St[t]||0),from:"".concat(e),version:W,platform:n,kernel:Object.keys(Zt.kernelMap).join("$"),_dc:"".concat(Math.random())};this.send(a)}},e.prototype.send=function(e){setTimeout((function(){(new Image).src="https://h.trace.qq.com/kv?".concat(Ee.object2string(xt({},e),"&"))}),this.timeout)},e}(),Ot=function(){function e(e,t){this._logger=new ue(t.instanceId,"AutoPlayPolicy"),this._videoElement=e}return e.prototype.userTrigger=function(){var e,t=this;this._triggerDefer=new Ce,this._logger.log("userTrigger(), start");var n=this._videoElement.play();if(this._videoElement.pause(),0===this._videoElement.readyState)n&&n.catch((function(n){e>0&&(clearTimeout(e),e=0),t._logger.log("userTrigger(), catch: ",n.name,n.message),vt.isAutoPlayBlockedMessage(n.message)?t._triggerDefer.reject(n):(t._logger.log("userTrigger() over, catched."),t._triggerDefer.resolve())})),e=window.setTimeout((function(){t._logger.log("userTrigger() over, timeout."),t._triggerDefer.resolve()}),300);else{this._logger.log("userTrigger() over, sync.");var r=ee.browser.safari&&!ee.mobile?400:0;window.setTimeout((function(){t._triggerDefer.resolve()}),r)}return this._triggerDefer.promise},e.prototype.destroy=function(){this._videoElement=null},e}(),Nt=Ot,Rt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kt=function(){return kt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},kt.apply(this,arguments)},Lt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,s.Z)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Bt=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,s.Z)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Mt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(qe){i(qe)}}function s(e){try{l(r.throw(e))}catch(qe){i(qe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Qt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(qe){i=[6,qe],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Vt=de("KernelProxy"),Ft={},Ut=function(e){function t(t){var n=e.call(this)||this;return n.volumeInner=1,n.videoElementsInner=[],n.addedEvts=[],n.playerConfig=function(e){var t,n,r;return wt(wt(wt({instanceId:J.Z.createGUID()},Ct),e),{maxVideoNodeCount:null!==(r=null!==(t=e.maxVideoNodeCount)&&void 0!==t?t:null===(n=e.originKernelConfig)||void 0===n?void 0:n.maxVideoNodeCount)&&void 0!==r?r:Ct.maxVideoNodeCount})}(t),n.logger=new ue(n.playerConfig.instanceId,"KernelProxy"),t.logLevel>D.NONE&&le(),n.playerConfig.videoElements||(n.playerConfig.videoElements=n.createVideoElements()),n.createVideoElementsContainer(),n.kernelEvtFuncs=n.kernelEvtHandler.bind(n),Dt.getReporter().collectUsage(),n}return Rt(t,e),Object.defineProperty(t.prototype,"config",{get:function(){var e;return(null===(e=this.kernel)||void 0===e?void 0:e.config)||this.playerConfig},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useWorker",{get:function(){var e;return!!(null===(e=this.kernel)||void 0===e?void 0:e.useWorker)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"kernelName",{get:function(){var e;return null===(e=this.kernel)||void 0===e?void 0:e.kernelName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoElements",{get:function(){var e;return(null===(e=this.kernel)||void 0===e?void 0:e.videoElements)||[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentVideoElement",{get:function(){var e;return null===(e=this.kernel)||void 0===e?void 0:e.currentVideoElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportPreload",{get:function(){var e;return!!(null===(e=this.kernel)||void 0===e?void 0:e.supportPreload)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){var e;return(null===(e=this.kernel)||void 0===e?void 0:e.duration)||0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playtime",{get:function(){var e;return(null===(e=this.kernel)||void 0===e?void 0:e.playtime)||0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoInfos",{get:function(){var e;return(null===(e=this.kernel)||void 0===e?void 0:e.videoInfos)||[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"preloadVideoInfos",{get:function(){var e;return null===(e=this.kernel)||void 0===e?void 0:e.preloadVideoInfos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentVideoInfo",{get:function(){var e;return null===(e=this.kernel)||void 0===e?void 0:e.currentVideoInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentVideoInfoIdx",{get:function(){var e;return(null===(e=this.kernel)||void 0===e?void 0:e.currentVideoInfoIdx)||0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalVideoInfoCount",{get:function(){var e;return(null===(e=this.kernel)||void 0===e?void 0:e.totalVideoInfoCount)||0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportPlaybackRate",{get:function(){var e;return!!(null===(e=this.kernel)||void 0===e?void 0:e.supportPlaybackRate)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"played",{get:function(){var e;return!!(null===(e=this.kernel)||void 0===e?void 0:e.played)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){var e;return(null===(e=this.kernel)||void 0===e?void 0:e.state)||E.IDLE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoSize",{get:function(){var e;return(null===(e=this.kernel)||void 0===e?void 0:e.videoSize)||{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoBuffered",{get:function(){var e;return(null===(e=this.kernel)||void 0===e?void 0:e.videoBuffered)||[]},enumerable:!1,configurable:!0}),t.prototype.captureVideo=function(e,t,n,r,o){var i;return null===(i=this.kernel)||void 0===i?void 0:i.captureVideo(e,t,n,r,o)},t.prototype.log=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===(e=this.logger)||void 0===e||e.log.apply(e,t)},t.prototype.warn=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===(e=this.logger)||void 0===e||e.warn.apply(e,t)},t.prototype.error=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===(e=this.logger)||void 0===e||e.error.apply(e,t)},t.prototype.hasAppended=function(e){var t;return!!(null===(t=this.kernel)||void 0===t?void 0:t.hasAppended(e))},t.prototype.hasPreloaded=function(e){var t;return!!(null===(t=this.kernel)||void 0===t?void 0:t.hasPreloaded(e))},Object.defineProperty(t.prototype,"volume",{get:function(){var e;return(null===(e=this.kernel)||void 0===e?void 0:e.volume)||this.volumeInner},set:function(e){this.volumeInner=e,this.kernel?this.kernel.volume=e:this.emit(S.VOLUME_CHANGE,{volume:e})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playbackRate",{get:function(){var e;return(null===(e=this.kernel)||void 0===e?void 0:e.playbackRate)||this.playbackRateInner},set:function(e){this.playbackRateInner=e,this.kernel?this.kernel.playbackRate=e:this.emit(S.RATE_CHANGE,{playbackRate:e})},enumerable:!1,configurable:!0}),t.prototype.resizeVideoElements=function(e){var t;null===(t=this.kernel)||void 0===t||t.resizeVideoElements(e)},t.prototype.resize=function(e){var t;null===(t=this.kernel)||void 0===t||t.resize(e)},t.prototype.seek=function(e){var t;return null===(t=this.kernel)||void 0===t?void 0:t.seek(e)},t.prototype.play=function(e,t){var n;return Mt(this,void 0,void 0,(function(){return Qt(this,(function(r){switch(r.label){case 0:return[4,this.checkConfigBeforeLoad(e,t)];case 1:return r.sent(),[2,null===(n=this.kernel)||void 0===n?void 0:n.play(e,t)]}}))}))},t.prototype.load=function(e,t){var n;return Mt(this,void 0,void 0,(function(){return Qt(this,(function(r){switch(r.label){case 0:return[4,this.checkConfigBeforeLoad(e,t)];case 1:return r.sent(),[2,null===(n=this.kernel)||void 0===n?void 0:n.load(e,t)]}}))}))},t.prototype.playNext=function(e){var t;null===(t=this.kernel)||void 0===t||t.playNext(e)},t.prototype.pause=function(e){var t;null===(t=this.kernel)||void 0===t||t.pause(e)},t.prototype.stop=function(e){var t;null===(t=this.kernel)||void 0===t||t.stop(e)},t.prototype.appendNext=function(e){var t;return!!(null===(t=this.kernel)||void 0===t?void 0:t.appendNext(e))},t.prototype.preloadNext=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return null===(e=this.kernel)||void 0===e?void 0:e.preloadNext.apply(e,t)},t.prototype.clearAllPreload=function(){var e;null===(e=this.kernel)||void 0===e||e.clearAllPreload()},t.prototype.triggerAutoplay=function(){var e,t=this;if(!this.kernel){this.logger.log("triggerAutoplay(), start");var n=this.videoElementsInner.map((function(e){return new Nt(e,{instanceId:t.playerConfig.instanceId}).userTrigger()}));return Promise.all(n)}return null===(e=this.kernel)||void 0===e?void 0:e.triggerAutoplay()},t.prototype.setAudioTrack=function(e){return this.kernel?this.kernel.setAudioTrack(e):Promise.reject(new Error(j.KERNEL_NOT_EXISTS))},t.prototype.getAudioTrackList=function(){return this.currentVideoInfo?this.currentVideoInfo.audioTracks:[]},t.prototype.getCurrentAudioTrack=function(){return this.currentVideoInfo?this.currentVideoInfo.currentAudioTrack:NaN},t.prototype.setLevel=function(e,t,n){return Mt(this,void 0,void 0,(function(){var r,o,i,a,s;return Qt(this,(function(l){switch(l.label){case 0:return this.kernel?(r="string"==typeof e?kt(kt({},n),{url:e}):e,o=this.currentVideoInfo,[4,this.checkWhetherNeedToSwitchKernel(r,null,!1)]):[2,Promise.reject("\u5207\u6362\u6e05\u6670\u5ea6\u65f6\u627e\u4e0d\u5230\u5bf9\u5e94\u5185\u6838")];case 1:return i=l.sent(),a=i.isKernelSwitched,(null==(s=i.error)?void 0:s.message)?[2,Promise.reject(null==s?void 0:s.message)]:a?[2,this.setLevelWhenKernelSwitched(kt(kt(kt({},r),{backupUrls:t}),n),o)]:"string"==typeof e?[2,this.kernel.setLevel(e,t,n)]:[2,this.kernel.setLevel(e)]}}))}))},t.prototype.on=function(t,n,r){return e.prototype.on.call(this,t,n,r),this.proxyEvent(t),this},t.prototype.once=function(t,n,r){return e.prototype.once.call(this,t,n,r),this.proxyEvent(t,!0),this},t.prototype.destroy=function(){var e;this.videoElementsInner&&(this.videoElementsInner.forEach((function(e){vt.destroyElement(e)})),this.videoElementsInner=null),(null===(e=this.videoElementsContainer)||void 0===e?void 0:e.parentNode)&&this.videoElementsContainer.remove(),this.destroyKernel(),this.removeAllListeners(),this.kernelEvtFuncs=null,this.playerConfig=null},t.prototype.checkWhetherNeedToSwitchKernel=function(e,t,n){return void 0===n&&(n=!0),Mt(this,void 0,void 0,(function(){var r,o,i,a;return Qt(this,(function(s){switch(s.label){case 0:return r=e instanceof Array?e[0]:e,o=(null==t?void 0:t.kernelName)||r.kernelName,"string"!=typeof(i=Zt.selectKernel(e,o,this.playerConfig.kernelPriority))?[2,{isKernelSwitched:!1,error:i}]:(this.logger.log("kernel select:",i),!i||Zt.kernelMap[i]?[3,2]:[4,this.loadKernel(i)]);case 1:s.sent(),s.label=2;case 2:return a=Zt.kernelMap[i]?i:K.ORIGIN,this.kernel&&this.kernel.kernelName!==a&&(this.kernel.played&&n&&this.emit(S.STOPED,{videoInfo:this.kernel.currentVideoInfo,endState:y.INTERRUPT}),this.destroyKernel()),this.kernel?[3,4]:[4,this.createKernel(a)];case 3:return s.sent(),[2,{isKernelSwitched:!0}];case 4:return[2,{isKernelSwitched:!1}]}}))}))},t.prototype.loadKernel=function(e,t){return void 0===t&&(t=3),Mt(this,void 0,void 0,(function(){var n,r,o,i;return Qt(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n;void 0===t&&(t={});var r=z?"latest":t[e]||W,o="core/".concat(r);return((n={})[K.HLS_JS]="".concat(o,"/txhlsjs-kernel.js"),n[K.FLV_JS]="".concat(o,"/flvjs-kernel.js"),n[K.DEMUX_2_FMP4]="".concat(o,"/demux2fmp4-kernel.js"),n[K.WASM]="".concat(o,"/wasm-kernel.js"),n[K.WEBRTC]="".concat(o,"/webrtc-kernel.js"),n)[e]}(e,this.playerConfig.autoLoadKernelVerMap),n?Ft[e]?(this.logger.log("auto download kernel [".concat(n,"] has been started!")),[4,Ft[e].promise]):[3,2]:[2,!1];case 1:return r=a.sent(),this.logger.log("auto download kernel [".concat(n,"] succ=").concat(r)),[2,r];case 2:Ft[e]=new Ce,this.logger.log("auto download kernel [".concat(n,"]")),o=!1,i=0,a.label=3;case 3:if(!(i<t))return[3,9];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,xe.loadScript("".concat(H+n,"?max_age=86400"),null,1e4)];case 5:return a.sent(),this.logger.log("auto download kernel [".concat(n,"] succ=true")),o=!0,[3,7];case 6:return a.sent(),o=!1,this.logger.error("auto download kernel [".concat(n,"] failed")),[3,7];case 7:if(o)return[3,9];a.label=8;case 8:return i++,[3,3];case 9:return Ft[e].resolve(o),[2,o]}}))}))},t.prototype.createKernel=function(e){this.kernel=Zt.createKernel(e,this.playerConfig),void 0!==this.volumeInner&&(this.kernel.volume=this.volumeInner),void 0!==this.playbackRateInner&&(this.kernel.playbackRate=this.playbackRateInner),this.setKernelEvts(!0)},t.prototype.createVideoElements=function(){for(var e=this.playerConfig,t=e.instanceId,n=e.videoElementConfig,r=e.maxVideoNodeCount,o=function(e){var t={position:"absolute",width:"100%",height:"100%",top:0,left:0,objectFit:"contain"},n=Object.keys(t),r={playsinline:{playsinline:"isiPhoneShowPlaysinline","webkit-playsinline":"isiPhoneShowPlaysinline"},airplay:{airplay:"allow","x-webkit-airplay":"allow"},crossorigin:{crossOrigin:"anonymous"},"h5-page":{"x5-video-player-type":"h5-page"}},o={playsinline:!0,"h5-page":!0};Object.keys(e).forEach((function(t){-1===n.indexOf(t)&&(o[t]=e[t])}));var i=Object.keys(o).reduce((function(e,t){return r[t]&&"boolean"==typeof o[t]?e=wt(wt({},e),o[t]?r[t]:{}):e[t]=o[t],e}),{}),a=n.reduce((function(n,r){var o;return n[r]=null!==(o=e[r])&&void 0!==o?o:t[r],n}),{});return{attrOpts:i,cssOpts:a}}(kt(kt({preload:this.playerConfig.preloadType===O.META_DATA?"metadata":"auto"},n),{playerid:t})),i=0;i<r;i++){var a=xe.createVideoDom(o);this.videoElementsInner.push(a)}return this.videoElementsInner},t.prototype.createVideoElementsContainer=function(){var e=this.playerConfig.container,t=xe.getElementFromConfig(e);this.videoElementsContainer=xe.createDom('\n      <div class="'.concat(C,'" style="position:absolute;left:0;top:0;width:100%;height:100%;z-index:0;">\n      </div>\n    ').trim()),xe.append(t,this.videoElementsContainer)},t.prototype.setKernelEvts=function(e){var t=this;if(this.kernel){e&&this.setKernelEvts(!1);var n=e?this.kernel.on:this.kernel.off;this.addedEvts.forEach((function(e){n.apply(t.kernel,[e,t.kernelEvtFuncs])}))}},t.prototype.kernelEvtHandler=function(e){this.setLevelWhenKernelSwitchedDefer?this.checkSetLevelOverWhenKernelSwitched(e)&&(this.setLevelWhenKernelSwitchedDefer=null):this.emit(e.type,e.data)},t.prototype.setLevelWhenKernelSwitched=function(e,t){return this.emit(S.SETLEVEL_START,{videoInfo:t,mode:v.HARD}),this.kernel.play(e,{startTime:(null==t?void 0:t.playtime)||0}),this.setLevelWhenKernelSwitchedDefer=new Ce,this.setLevelWhenKernelSwitchedDefer.promise},t.prototype.checkSetLevelOverWhenKernelSwitched=function(e){var t;return e.type===S.STATE_CHANGE&&e.data.new===E.PLAYING?(this.setLevelWhenKernelSwitchedDefer.resolve(),this.emit(S.SETLEVEL_OVER,{videoInfo:this.currentVideoInfo}),!0):e.type===S.ERROR&&(this.setLevelWhenKernelSwitchedDefer.reject(null===(t=e.data.videoInfo)||void 0===t?void 0:t.error),this.emit(S.SETLEVEL_OVER,{videoInfo:this.currentVideoInfo,fail:!0}),!0)},t.prototype.proxyEvent=function(e,t){void 0===t&&(t=!1),this.addedEvts.includes(e)||(this.addedEvts.push(e),this.kernel&&(t?this.kernel.once(e,this.kernelEvtFuncs):this.kernel.on(e,this.kernelEvtFuncs)))},t.prototype.checkConfigBeforeLoad=function(e,t){return Mt(this,void 0,void 0,(function(){var n;return Qt(this,(function(r){switch(r.label){case 0:return e?[4,this.checkWhetherNeedToSwitchKernel(e,t)]:[2];case 1:if(n=r.sent().error)throw this.emit(S.ERROR,{videoInfo:{error:n}}),n;return[2]}}))}))},t.prototype.destroyKernel=function(){var e;this.kernel&&(this.setKernelEvts(!1),null===(e=this.kernel)||void 0===e||e.destroy(),this.kernel=null)},Lt([Vt,Bt("design:type",Function),Bt("design:paramtypes",[Object,Object]),Bt("design:returntype",Promise)],t.prototype,"play",null),Lt([Vt,Bt("design:type",Function),Bt("design:paramtypes",[Object,Object]),Bt("design:returntype",Promise)],t.prototype,"load",null),Lt([Vt,Bt("design:type",Function),Bt("design:paramtypes",[Object]),Bt("design:returntype",void 0)],t.prototype,"setAudioTrack",null),Lt([Vt,Bt("design:type",Function),Bt("design:paramtypes",[Object,Array,Object]),Bt("design:returntype",Promise)],t.prototype,"setLevel",null),Lt([Vt,Bt("design:type",Function),Bt("design:paramtypes",[]),Bt("design:returntype",void 0)],t.prototype,"destroy",null),Lt([Vt,Bt("design:type",Function),Bt("design:paramtypes",[Object,Object,Object]),Bt("design:returntype",Promise)],t.prototype,"checkWhetherNeedToSwitchKernel",null),Lt([Vt,Bt("design:type",Function),Bt("design:paramtypes",[String]),Bt("design:returntype",void 0)],t.prototype,"createKernel",null),t}(Je),Kt=Ut,jt={isHlsjsAvailable:function(e){return!!e&&(e.videoType===U.HLS&&e.drmType!==F.FAIRPLAY&&(!(e.vcodec===N.H265&&!vt.supportHevc())&&(!(e.vcodec===N.AV1&&!vt.supportAV1())&&vt.supportMSE())))},isFlvjsAvailable:function(e){return!(!e||ee.mobile)&&(e.videoType===U.FLV&&e.drmType===F.NONE&&vt.supportMSE())},isDemux2fmp4Available:function(e){return!!e&&((e.videoType===U.MP4||e.videoType===U.MOV)&&((void 0===e.vcodec||e.vcodec===N.H264)&&vt.supportMSE()))},isWebrtcplayerAvailable:function(e){return!!e&&(e.videoType===U.WEBRTC&&vt.isWebRTCSupported())},isWasmplayerAvailble:function(e){return!(!e||ee.mobile)&&vt.isWasmSupported()},isElectronPlayerAailble:function(){return/electron\//i.test(navigator.userAgent)}};function Ht(e){return{urlConfig:e,videoType:tn(e),drmType:qt(e),vcodec:null==e?void 0:e.vcodec}}function qt(e){var t;if(null==e?void 0:e.chachaParam)return F.CHACHA;var n=null===(t=null==e?void 0:e.drmConfig)||void 0===t?void 0:t.keySystem;return[tt.FairPlay,tt.FairPlayWebKit].includes(n)?F.FAIRPLAY:tt.Widevine===n?F.WIDEVINE:F.NONE}!function(e){e.forceKernel="__forceKernel"}(Tt||(Tt={}));var Gt,Yt=[K.HLS_JS,K.FLV_JS,K.WEBRTC,K.ORIGIN],Wt=((Pt={})[K.HLS_JS]=jt.isHlsjsAvailable,Pt[K.FLV_JS]=jt.isFlvjsAvailable,Pt[K.WEBRTC]=jt.isWebrtcplayerAvailable,Pt[K.DEMUX_2_FMP4]=jt.isDemux2fmp4Available,Pt[K.ORIGIN]=function(){return!0},Pt[K.WASM]=jt.isWasmplayerAvailble,Pt[K.ELECTRON]=jt.isElectronPlayerAailble,Pt),zt=(K.FLV_JS,K.HLS_JS,K.WEBRTC,function(){function e(){}return e.getSelector=function(){return this.selector||(this.selector=new e),this.selector},e.prototype.selectByURLConfig=function(e,t,n){var r=Ht(e);return this.selectKernelWithAssign(r,t)||this.selectKernelInPresetMap(r,n)},e.prototype.selectKernelWithAssign=function(e,t){var n,r=t,o=Ee.getUrlParamByKey(location.href,Tt.forceKernel);if(o&&Object.keys(Wt).includes(o)&&(r=o),!r)return null;if(null===(n=Wt[r])||void 0===n?void 0:n.call(Wt,e))return r;var i=this.suggestKernelNameByMetadata(e,Yt),a="".concat(r!==K.ORIGIN?"".concat(r,"\u5185\u6838"):"","\u65e0\u6cd5\u64ad\u653e\u5f53\u524d\u683c\u5f0f")+"".concat(i&&i!==K.ORIGIN?"\uff0c\u8bf7\u5c1d\u8bd5\u4f7f\u7528".concat(i,"\u5185\u6838\u64ad\u653e"):"");return{code:I.MISSING_KERNEL,message:a}},e.prototype.selectKernelInPresetMap=function(e,t){var n;if(t){n=t;for(var r=0;r<Yt.length;r++)-1===t.indexOf(Yt[r])&&n.push(Yt[r])}else n=Yt;return this.suggestKernelNameByMetadata(e,n)},e.prototype.suggestKernelNameByMetadata=function(e,t){var n;if(!e)return null;for(var r=0;r<t.length;r++){var o=t[r];if(null===(n=Wt[o])||void 0===n?void 0:n.call(Wt,e))return o}return null},e.prototype.isKernelSupportByUrlConfig=function(e,t){var n=Wt[e];return!!n&&n(Ht(t))},e}()),Jt=function(){function e(){}return e.registerKernel=function(e,t){var n,r,o;this.kernelMap[e]?null===(r=(n=this.kernelMap[e]).unregister)||void 0===r||r.call(n):!this.kernelMap[e]&&t&&(null===(o=t.register)||void 0===o||o.call(t)),this.kernelMap[e]=t},e.createKernel=function(t,n){if(t){var r=e.kernelMap[t];if(!r)throw new Error("Can't find [".concat(t,"] kernel"));if(r.isEnvSupport){var o=new r(n);return r.exportApis&&J.Z.assignApiToPrototype(o,Kt.prototype,r.exportApis),o}window.console.log("Browser does not support kernelName[".concat(t,"]"))}return new e.kernelMap.origin(n)},e.create=function(e){return new Kt(e)},e.getKernelByName=function(t){return e.kernelMap[t]},e.isKernelSupportByUrlConfig=function(e,t){return zt.getSelector().isKernelSupportByUrlConfig(e,t)},e.selectKernel=function(e,t,n){var r=e instanceof Array?e[0]:e;return zt.getSelector().selectByURLConfig(r,t,n)},e.kernelMap={},e}(),Zt=Jt;function Xt(e,t){return!(!e||!t)&&(!(!e.uid||!t.uid||e.uid!==t.uid)||e===t)}function $t(e){switch(null==e?void 0:e.toLocaleLowerCase()){case"m3u8":case"m3u":return U.HLS;case"mp4":case"mov":return U.MP4;case"flv":case"f4v":return U.FLV;case"avi":return U.AVI;case"mpeg":return U.MPEG;case"webm":return U.WEBM;case"ogg":return U.OGG}return U.OTHER}function en(e,t){var n;if(!e)return{code:I.NULL_URL,message:w.NULL_URL,fatal:!0};null===(n=Zt.getKernelByName(t))||void 0===n||n.canPlayType;var r=function(e,t){if(!e.url)return{code:I.NULL_URL,message:w.NULL_URL,fatal:!0}};if(!(e instanceof Array))return r(e);for(var o=0,i=e.length;o<i;o++){var a=r(e[o]);if(a)return a}}function tn(e){var t=(e||{}).url;return!t||t.startsWith("blob:")?U.OTHER:t.startsWith("webrtc:")?U.WEBRTC:$t(Ee.getFileExtension(t))}var nn,rn=((Gt={})[P.DURATION_CHANGE]=S.DURATION_CHANGE,Gt[P.VOLUME_CHANGE]=S.VOLUME_CHANGE,Gt[P.ERROR]=S.ERROR,Gt[P.METADATA_CHANGE]=S.METADATA_CHANGE,Gt[P.SETLEVEL_OVER]=S.SETLEVEL_OVER,Gt[P.SETLEVEL_START]=S.SETLEVEL_START,Gt[P.SET_LOADING]=S.SET_LOADING,Gt[P.STATE_CHANGE]=S.STATE_CHANGE,Gt[P.TIME_UPDATE]=S.TIME_UPDATE,Gt[P.VIDEO_BUFFER_CHANGE]=S.VIDEO_BUFFER_CHANGE,Gt[P.LOAD_PROGRESS]=S.LOAD_PROGRESS,Gt[P.FIRST_PLAYING]=S.VIDEONODE_FIRST_PLAYING,Gt[P.RATE_CHANGE]=S.RATE_CHANGE,Gt[P.RETRY]=S.RETRY_BACKURL,Gt[P.ELEMENT_EVTS]=S.ELEMENT_EVTS,Gt[P.PLAY_OVER]=S.STOPED,Gt[P.VIDEO_RESIZE]=S.VIDEO_RESIZE,Gt[P.VIDEO_FRAME_RENDER]=S.VIDEO_FRAME_RENDER,Gt[P.SET_AUDIO_TRACK_OVER]=S.SET_AUDIO_TRACK_OVER,Gt[P.SET_AUDIO_TRACK_START]=S.SET_AUDIO_TRACK_START,Gt[P.ENTER_INSERT_STREAM]=S.ENTER_INSERT_STREAM,Gt[P.EXIT_INSERT_STREAM]=S.EXIT_INSERT_STREAM,Gt),on=[P.TIME_UPDATE,P.VIDEO_BUFFER_CHANGE,P.VIDEO_FRAME_RENDER],an=[m.timeupdate,m.progress,m.frameRender],sn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ln=function(e){function t(t){var n=e.call(this)||this;return n.stateStartTimeStamp=0,n.preFramePlaytime=0,n.playtimeStalledFrameCount=0,n.videoNode=t,n.setVideoNodeEvts(!0),n}return sn(t,e),t.prototype.loop=function(){var e=+new Date;this.checkStateStalled(e),this.checkPlaytimeStalled()},t.prototype.destroy=function(){this.setVideoNodeEvts(!1),this.removeAllListeners(),this.stateStartTimeStamp=0,this.videoNode=null,this.videoNodeEvtMap=null,this.preFramePlaytime=0,this.playtimeStalledFrameCount=0},t.prototype.setVideoNodeEvts=function(e){var t,n=this;this.videoNode&&(this.videoNodeEvtMap||(this.videoNodeEvtMap=((t={})[P.STATE_CHANGE]=this.videoNodeStateChange.bind(this),t)),Object.keys(this.videoNodeEvtMap).forEach((function(t){e?n.videoNode.on(t,n.videoNodeEvtMap[t]):n.videoNode.off(t,n.videoNodeEvtMap[t])})))},t.prototype.videoNodeStateChange=function(e){this.stateStartTimeStamp=+new Date},t.prototype.checkStateStalled=function(e){var t=this.videoNode,n=t.config,r=t.state;-1!==[E.BUFFERING,E.SEEKING].indexOf(r)&&(this.stateStartTimeStamp<=0||n.maxStateStalledTime<=0||e-this.stateStartTimeStamp>n.maxStateStalledTime&&(this.stateStartTimeStamp=0,this.emit(nn.STATE_STUCK,{code:I.STATE_STUCK,message:w.PLAY_STUCK,state:r})))},t.prototype.checkPlaytimeStalled=function(){var e=this.videoNode,t=e.config,n=e.state,r=e.videoElement;n!==E.PLAYING||r.duration<=0||r.currentTime<=0||t.maxPlaytimeStalledTime<=0||(this.preFramePlaytime>0&&(this.preFramePlaytime!==r.currentTime?this.playtimeStalledFrameCount=0:(this.playtimeStalledFrameCount++,16.7*this.playtimeStalledFrameCount>t.maxPlaytimeStalledTime&&(this.playtimeStalledFrameCount=0,this.emit(nn.PLAYTIME_STUCK,{code:I.ORG_PLAY_STUCK_ERR,message:w.PLAY_STUCK,state:n})))),this.preFramePlaytime=r.currentTime)},t}(Je);!function(e){e.STATE_STUCK="state-stuck",e.PLAYTIME_STUCK="playtime-stuck"}(nn||(nn={}));var cn=function(){function e(e){this.videoNode=e}return e.prototype.checkIsSetLevelOver=function(e,t){if(void 0===e&&(e=m.playing),void 0===t&&(t=0),!this.videoNode||!this.videoNode.videoElement)throw new Error("Target VideoNode is null!");if(!this.videoNode.getLevelSwitching())return null;var n=!1,r=!1,o=!1;if(this.videoNode.config.type===A.LIVE)n=e===m.playing,o=e===m.timeupdate;else{var i=vt.supportMediaFragmentsURISpec(this.videoNode.config.enableMediaFragmentsURI);n=e===m.playing&&i,r=e===m.seeked&&!i;var a=this.videoNode.videoElement.currentTime-t>=.3;o=e===m.timeupdate&&a}return n||r||o?{succInPlaying:n,succInSeeked:r,succInTimeupdate:o}:null},e.prototype.checkCanSetLevel=function(){return this.videoNode?this.videoNode.played?this.videoNode.getLevelSwitching()?{canSetLevel:!1,message:"setLevel(), in progress."}:!this.videoNode.currentVideoInfo||this.videoNode.currentVideoInfo.playtime<=0?{canSetLevel:!1,message:"setLevel(), setLevel can't start."}:this.videoNode.config.type===A.VOD&&this.videoNode.currentVideoInfo.playtime+1>=this.videoNode.currentVideoInfo.duration?{canSetLevel:!1,message:"setLevel(), video is about to end."}:{canSetLevel:!0,message:"setLevel(), can set level now"}:{canSetLevel:!1,message:"setLevel(), play is not triggered."}:{canSetLevel:!1,message:"videoNode is null"}},e.prototype.checkCanSeek=function(e){if(!this.videoNode||!this.videoNode.currentVideoInfo)return{canSeek:!1,message:"seek(), because videonode or videoInfo is null"};if(this.videoNode.videoElement.duration<=0)return{canSeek:!1,message:"seek(), cannot seek when the duration is 0"};var t=e||{},n=t.seektime,r=void 0===n?NaN:n,o=t.userActivation,i=void 0!==o&&o,a=t.setLevelMode,s=void 0===a?v.HARD:a;return Number.isNaN(r)?{canSeek:!1,message:"target time is NaN"}:r-this.videoNode.currentVideoInfo.duration>=1?{canSeek:!1,message:"seek(), return because too large time, uid=".concat(this.videoNode.currentVideoInfo.uid,"/idx=").concat(this.videoNode.idx,"/time=").concat(r)+"/duration=".concat(this.videoNode.currentVideoInfo.duration)}:void 0!==s&&s!==v.SMOOTH&&this.videoNode.getLevelSwitching()&&i?{canSeek:!1,message:"seek(), cannot seek when hard/soft level switching"}:{canSeek:!0,message:"seek(), can seek now"}},e.prototype.checkCanSetAudioTrack=function(e){return e?{canSetAudioTrack:!1,message:"setAudioTrack(), in progress"}:this.videoNode?this.videoNode.hasAltAudio?this.videoNode.played?{canSetAudioTrack:!0,message:"setAudioTrack(), can set audio track now"}:{canSetAudioTrack:!1,message:"setAudioTrack(), can only be invoked after content plays"}:{canSetAudioTrack:!1,message:"setAudioTrack(), current content does not contain alternative audio track"}:{canSetAudioTrack:!1,message:"setAudioTrack(), because videonode is null"}},e.prototype.destroy=function(){this.videoNode=null},e}(),un=cn,dn=new Je,pn=new Je,fn=function(){return fn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fn.apply(this,arguments)},hn=function(){function e(e,t,n,r,o){var i=this;this.onLatencyExceeded=function(){},this.onLatencyDropped=function(){},this.latencyCalculationMethod=vn,this.setupEvents=function(){i.media.addEventListener("timeupdate",i.onTimeUpdate)},this.onTimeUpdate=function(){var e=i.media,t=e.buffered,n=e.currentTime;if(!e.paused){var r=i.latencyCalculationMethod(n,t);r<0||isNaN(r)||(r>i.config.expectedLatency&&1!==i.state?(i.onLatencyExceeded(n,r,i.media),i.state=1):r<=i.config.minLatency&&0!==i.state&&(i.onLatencyDropped(n,r,i.media),i.state=0))}},this.media=e,this.config=fn(fn({},gn),t),this.state=0,"function"==typeof n&&(this.onLatencyExceeded=n),"function"==typeof r&&(this.onLatencyDropped=r),"function"==typeof o&&(this.latencyCalculationMethod=o),this.setupEvents()}return e.prototype.destroy=function(){this.media.removeEventListener("timeupdate",this.onTimeUpdate)},e}(),gn={expectedLatency:5,minLatency:2,syncSpeed:1.75};function vn(e,t){if(!(t.length>0&&e>0))return-1;for(var n=0;n<t.length;n++){var r=t.start(n),o=t.end(n);if(e>=r&&e<=o)return o-e}}var An,yn,_n=function(){function e(e){this.delayTimeoutId=0,this.evtEmiter=e}return e.prototype.show=function(e){var t=this;void 0===e&&(e=0),this.evtEmiter&&(this.clearDelay(),0!==e?this.delayTimeoutId=window.setTimeout((function(){t.evtEmiter.emit(P.SET_LOADING,{show:!0})}),e):this.evtEmiter.emit(P.SET_LOADING,{show:!0}))},e.prototype.hide=function(){this.evtEmiter&&(this.clearDelay(),this.evtEmiter.emit(P.SET_LOADING,{show:!1}))},e.prototype.clearDelay=function(){this.delayTimeoutId>0&&(window.clearTimeout(this.delayTimeoutId),this.delayTimeoutId=0)},e}(),mn=function(){function e(e){this.totalVideoFrames=0,this.droppedVideoFrames=0,this.totalDecodeTimeInMs=0,this.presentedVideoFrames=0,this.preTotalVideoFrames=-1,this.preDroppedVideoFrames=-1,this.calcIntervalFrameDroppedTickCount=0,this.video=e}return e.prototype.calcIntervalFrameDropped=function(){if(this.calcIntervalFrameDroppedTickCount++,!(this.calcIntervalFrameDroppedTickCount<5)){if(this.calcIntervalFrameDroppedTickCount=0,this.preVisiblityState!==document.visibilityState)this.reset();else if("visible"===this.preVisiblityState){var e=vt.getVideoPlaybackQuality(this.video),t=e.totalVideoFrames,n=e.droppedVideoFrames;-1===this.preTotalVideoFrames&&(this.preTotalVideoFrames=t),-1===this.preDroppedVideoFrames&&(this.preDroppedVideoFrames=n);var r=t-this.preTotalVideoFrames,o=n-this.preDroppedVideoFrames;if(this.preTotalVideoFrames=t,this.preDroppedVideoFrames=n,r>0)return o/r}return 0}},e.prototype.reset=function(){this.preTotalVideoFrames=-1,this.preDroppedVideoFrames=-1,this.preVisiblityState=document.visibilityState},e.prototype.report=function(){var e=vt.getVideoPlaybackQuality(this.video),t=e.totalVideoFrames,n=e.droppedVideoFrames;this.totalVideoFrames=t,this.droppedVideoFrames=n;var r=this.totalDecodeTimeInMs/this.presentedVideoFrames;isNaN(r)&&(r=-1);var o=this.droppedVideoFrames/this.totalVideoFrames*100;return isNaN(o)&&(o=-1),{totalDecodeTimeInMs:this.totalDecodeTimeInMs,droppedVideoFrames:this.droppedVideoFrames,presentedVideoFrames:this.presentedVideoFrames,totalVideoFrames:this.totalVideoFrames,averageDecodeTimeInMs:r,frameDroppedInPercentage:o}},e}(),En=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,s.Z)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},In=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,s.Z)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},bn=((An={})[E.LOAD_START]=[E.IDLE],An[E.CANPLAY]=[E.LOAD_START],An[E.PLAYING]=[E.CANPLAY,E.SEEKED,E.PAUSE,E.BUFFERING],An[E.BUFFERING]=[E.PLAYING],An[E.PAUSE]=[E.PLAYING,E.BUFFERING],An[E.SEEKING]=[E.CANPLAY,E.PLAYING,E.PAUSE,E.BUFFERING,E.SEEKING],An[E.SEEKED]=[E.SEEKING],An[E.END]=[E.LOAD_START,E.CANPLAY,E.SEEKING,E.SEEKED,E.BUFFERING,E.PLAYING,E.PAUSE],An[E.IDLE]=[E.END],An),Cn=[E.PAUSE,E.PLAYING,E.END,E.IDLE],wn=de("StateMgr"),Sn=function(){function e(e){var t;this.videoEvtHandler=((t={})[m.canplay]=this.onCanplayEvt.bind(this),t[m.playing]=this.setPlaying.bind(this),t[m.waiting]=this.setWaiting.bind(this),t[m.pause]=this.onPauseEvt.bind(this),t[m.seeking]=this.onSeekingEvt.bind(this),t[m.seeked]=this.onSeekedEvt.bind(this),t),this.videoNode=e,this.logger=new ue(e.config.instanceId,"StateMgr")}return e.prototype.destroy=function(){this.videoNode=null},e.prototype.validCallState=function(e){var t;return null===(t=bn[e])||void 0===t?void 0:t.includes(this.videoNode.state)},e.prototype.setEnded=function(){this.setVideoNodeState(E.END),this.setVideoNodeState(E.IDLE)},e.prototype.setLoadStart=function(){this.setVideoNodeState(E.LOAD_START)},e.prototype.setCanplay=function(){this.setVideoNodeState(E.CANPLAY)},e.prototype.setWaiting=function(){this.setVideoNodeState(E.BUFFERING)},e.prototype.setPlaying=function(){this.setVideoNodeState(E.PLAYING)},e.prototype.onSetLevelOver=function(){this.videoNode.state===E.PAUSE&&this.setVideoNodeState(E.PLAYING)},e.prototype.receiveVideoEvt=function(e){var t,n;null===(n=(t=this.videoEvtHandler)[e])||void 0===n||n.call(t)},e.prototype.setVideoNodeState=function(e){!this.videoNode.getLevelSwitching()||Cn.includes(e)?bn[e].includes(this.videoNode.state)?this.videoNode.state=e:this.logger.log("can not set state from ".concat(this.videoNode.state," to ").concat(e)):this.logger.log("can not set state 2 ".concat(e," when level switching"))},e.prototype.onCanplayEvt=function(){(ee.os.ios||ee.browser.safari)&&this.isVideoElementPlaying()&&this.videoNode.state===E.BUFFERING?this.setVideoNodeState(E.PLAYING):this.setVideoNodeState(E.CANPLAY)},e.prototype.onPauseEvt=function(){this.setVideoNodeState(E.PAUSE)},e.prototype.onSeekingEvt=function(){this.setVideoNodeState(E.SEEKING)},e.prototype.onSeekedEvt=function(){this.setVideoNodeState(E.SEEKED),(ee.os.ios||ee.browser.safari)&&this.isVideoElementPlaying()&&this.setVideoNodeState(E.PLAYING)},e.prototype.isVideoElementPlaying=function(){return!this.videoNode.videoElement.paused&&!this.videoNode.videoElement.ended},En([wn,In("design:type",Function),In("design:paramtypes",[]),In("design:returntype",void 0)],e.prototype,"destroy",null),En([wn,In("design:type",Function),In("design:paramtypes",[String]),In("design:returntype",void 0)],e.prototype,"validCallState",null),En([wn,In("design:type",Function),In("design:paramtypes",[]),In("design:returntype",void 0)],e.prototype,"setEnded",null),En([wn,In("design:type",Function),In("design:paramtypes",[]),In("design:returntype",void 0)],e.prototype,"setLoadStart",null),En([wn,In("design:type",Function),In("design:paramtypes",[]),In("design:returntype",void 0)],e.prototype,"setCanplay",null),En([wn,In("design:type",Function),In("design:paramtypes",[]),In("design:returntype",void 0)],e.prototype,"setWaiting",null),En([wn,In("design:type",Function),In("design:paramtypes",[]),In("design:returntype",void 0)],e.prototype,"setPlaying",null),e}();!function(e){e.COVER="cover",e.CONTAIN="contain"}(yn||(yn={}));var xn=function(){function e(e,t){void 0===t&&(t=10),this.minFillBlackBorder=10,this.videoElement=e,this.minFillBlackBorder=t,this.addToObserver()}return e.prototype.resizeAutoFill=function(){if(this.videoElement instanceof HTMLVideoElement&&!(this.minFillBlackBorder<=0)&&0!==this.videoElement.videoWidth&&0!==this.videoElement.videoHeight){var e=xe.getDomSize(this.videoElement),t=e.width,n=e.height,r=this.videoElement.videoWidth*(n/this.videoElement.videoHeight),o=this.videoElement.videoHeight*(t/this.videoElement.videoWidth);r<t&&r>=t-this.minFillBlackBorder||o<n&&o>=n-this.minFillBlackBorder?vt.setElementFitType(this.videoElement,yn.COVER):vt.setElementFitType(this.videoElement,yn.CONTAIN)}},e.prototype.destroy=function(){this.videoElement&&this.videoElement instanceof HTMLVideoElement&&this.videoResizeObserver&&(this.videoResizeObserver.disconnect(),this.videoResizeObserver.unobserve(this.videoElement),this.videoResizeObserver=null,this.videoElement=null)},e.prototype.addToObserver=function(){var e=this;this.videoElement&&this.videoElement instanceof HTMLVideoElement&&(this.videoResizeObserver=new bt((function(){e.resizeAutoFill()})),this.videoResizeObserver.observe(this.videoElement))},e}(),Pn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tn=function(){return Tn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Tn.apply(this,arguments)},Dn=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,s.Z)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},On=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,s.Z)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Nn=de("BaseVideoNode"),Rn=function(e){function t(t){var n,r=e.call(this)||this;r._played=!1,r._evtBlocking=!1,r._pauseCloseToEndStateCheckTimeoutId=0,r._targetSeekTime=-1,r._userStartTime=0,r._isUserSeek=!1,r.isUserSwitchAudioTrack=!1,r.loadTimeoutId=0,r.levelSwitchTargetPlaytime=-1,r.setLevelMode=v.SOFT,r.altAudio=!1,r.latencyController=null,r._logger=new ue(t.instanceId,"BaseVideoNode"),r._config=t,r.stateMgr=new Sn(r),r.checkPlayHealth=new ln(r),r.loading=new _n(r),r.setHealthEvents(),r.mainTaskLoop=new _t(r.mainLoopInProcess.bind(r),lt.RAF);var o=r._config.container;return r._video=r.findFreeVideoElement(),r._autoPlayPolicy=new Nt(r._video,{instanceId:t.instanceId}),r._state=E.IDLE,r._playbackRate=1,r._idx=0,r._videoInfo=null,r._pauseType=void 0,r._videoEventMap=((n={})[m.loadstart]=r.onVideoEventLoadStart.bind(r),n[m.timeupdate]=r.onVideoEventTimeUpdate.bind(r),n[m.durationchange]=r.onVideoEventDurationChange.bind(r),n[m.volumechange]=r.onVideoEventVolumeChange.bind(r),n[m.canplay]=r.onVideoEventCanplay.bind(r),n[m.playing]=r.onVideoEventPlaying.bind(r),n[m.pause]=r.onVideoEventPause.bind(r),n[m.waiting]=r.onVideoEventWaiting.bind(r),n[m.seeking]=r.onVideoEventSeeking.bind(r),n[m.seeked]=r.onVideoEventSeeked.bind(r),n[m.loadeddata]=r.onVideoEventLoadeddata.bind(r),n[m.loadedmetadata]=r.onVideoEventLoadedmetadata.bind(r),n[m.ended]=r.onVideoEventEnded.bind(r),n[m.error]=r.onVideoEventError.bind(r),n[m.progress]=r.onVideoEventProgress.bind(r),n[m.ratechange]=r.onVideoEventRateChange.bind(r),n[m.resize]=r.onVideoEventResize.bind(r),n),r._drm=new dt(r._video,t.drmConfig,new ue(t.instanceId,"DRM")),r._drm.on("error",r.onDrmError.bind(r)),r._eventMap={video:r.onVideoEvents.bind(r)},r._eventAddedMap={},r._videoElementContainer=xe.getElementFromConfig(o).querySelector(".".concat(C)),vt.appendElement(r._video,r._videoElementContainer),r.performanceMonitor=new mn(r._video),r.videoResizeAutoFill=new xn(r._video,r._config.minFillBlackBorder),r.vnStatusChecker=new un(r),t.type===A.LIVE&&(r.latencyController=new hn(r._video,t.latencyConfig,r.onLatencyExceeded.bind(r),r.onLatencyDropped.bind(r),r.latencyCalculationMethod.bind(r))),r}return Pn(t,e),t.prototype.triggerAutoplay=function(){var e=this;return this._evtBlocking=!0,this._autoPlayPolicy.userTrigger().then((function(){return e._evtBlocking=!1})).catch((function(t){throw e._evtBlocking=!1,t}))},t.prototype.videoplay=function(){var e,t=this;this._logger.log("videoplay(), uid=".concat(null===(e=this._videoInfo)||void 0===e?void 0:e.uid,"/state=").concat(this.state,"/idx=").concat(this.idx));var n=this._video.play();return n?n.catch((function(e){t._logger.warn("".concat(t.idx," play() catch: ").concat(e.name,", ").concat(e.message));var n=vt.isAutoPlayBlockedMessage(e.message);n&&t.loading.hide(),t.emit(P.PLAY_PROMISE_CATCHED,{videoInfo:t._videoInfo,isAutoPlayBlocked:n})})):n=Promise.resolve(),this._video.playbackRate=this._playbackRate,n},t.prototype.pause=function(e){void 0===e&&(e=T.USER),this._played?this.stateMgr.validCallState(E.PAUSE)?this.pauseInner(e):this._logger.log("call pause in invaild state ".concat(this._state)):this._logger.warn("pause(), VideoNode has not been played")},t.prototype.resume=function(){throw new Error("not implements")},t.prototype.stop=function(){this.stopInner()},t.prototype.destroy=function(){var e,t,n,r,o,i,a,s,l;this.stopInner(),null===(e=this.latencyController)||void 0===e||e.destroy(),this._video&&(this._eventMap&&(this.setVideoEvents(!1),this._eventMap=null),vt.clear(this._video),vt.removeElement(this._video,this._videoElementContainer),this._video.dataset.used=M.FREE),null===(t=this._autoPlayPolicy)||void 0===t||t.destroy(),null===(n=this.stateMgr)||void 0===n||n.destroy(),this.removeAllListeners(),null===(r=this._drm)||void 0===r||r.destroy(),this._autoPlayPolicy=null,this._video=null,this._videoInfo=null,this._videoElementContainer=null,this._played=!1,this._config=null,null===(o=this.checkPlayHealth)||void 0===o||o.destroy(),this.checkPlayHealth=null,null===(i=this.loading)||void 0===i||i.clearDelay(),this.loading=null,null===(a=this.mainTaskLoop)||void 0===a||a.destroy(),this.mainTaskLoop=null,this.performanceMonitor=null,null===(s=this.videoResizeAutoFill)||void 0===s||s.destroy(),this.videoResizeAutoFill=null,null===(l=this.vnStatusChecker)||void 0===l||l.destroy(),this.vnStatusChecker=null,this._logger.log("VideoNode has been destroyed!")},t.prototype.setLevel=function(e){if(void 0===e&&(e=v.HARD),!this.checkCanSetLevel())return Promise.reject(new Error("setLevel can't start"));this._logger.log("setLevel(), succ exec: ",this._videoInfo);var t=this._videoInfo.playtime;this.load(this._videoInfo,{startTime:t}),this.play();var n=new Ce;return this._levelSwitchingDefer=n,this.levelSwitchTargetPlaytime=t,this.loading.show(),this.emit(P.SETLEVEL_START,{videoInfo:this._videoInfo,mode:e}),n.promise},t.prototype.getLevelSwitching=function(){return!!this._levelSwitchingDefer},t.prototype.setAudioTrack=function(e){return this.checkCanSetAudioTrack()?Promise.reject(j.NOT_SUPPORT):Promise.reject(j.STATE_INVALID)},t.prototype.hasAltAudio=function(){return this.altAudio},t.prototype.isCurrentContentDRMEncrypted=function(){return this._state!==E.IDLE&&this._drm.hasStarted()},Object.defineProperty(t.prototype,"volume",{get:function(){return this._video.muted?0:this._video.volume},set:function(e){e<0||e>1?this._logger.warn("The volume value range is [0,1]"):(this._video.volume=e,this._video.muted=e<=0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playtime",{get:function(){return this._videoInfo?this._videoInfo.playtime:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(e){var t;if(this._state!==e){var n=this._state;this._state=e,this._videoInfo&&(this._videoInfo.state=this._state),this._logger.log("set state(), uid=".concat(null===(t=this._videoInfo)||void 0===t?void 0:t.uid,"/idx=").concat(this._idx,"/old=").concat(n,"/new=").concat(e));var r={videoInfo:this._videoInfo,new:e,old:n};e===E.PAUSE?(r.pauseType=this._pauseType||T.SYS,this._pauseType=void 0):e===E.SEEKING?(r.seekingTime=this._targetSeekTime,r.isUserSeek=this._isUserSeek,this._targetSeekTime=-1):e===E.SEEKED&&(r.isUserSeek=this._isUserSeek),this.setLoadingOnStateChange(),this.emit(P.STATE_CHANGE,r)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"played",{get:function(){return this._played},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useWorker",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"idx",{get:function(){return this._idx},set:function(e){this._idx=e,this._video.dataset.idx="".concat(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoElement",{get:function(){return this._video},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoSize",{get:function(){return{width:this._video.videoWidth,height:this._video.videoHeight}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoBuffered",{get:function(){return vt.getBuffered(this._video)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playbackRate",{get:function(){return this._video.playbackRate},set:function(e){this._playbackRate=e;try{this._video.playbackRate=e}catch(qe){this._logger.warn("set playbackRate: ".concat(null==qe?void 0:qe.message))}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentVideoInfo",{get:function(){return this._videoInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportPlaybackRate",{get:function(){return!ee.browser.x5},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){var e=this._videoInfo?this._videoInfo.duration:0;return Number.isNaN(e)?0:e},enumerable:!1,configurable:!0}),t.prototype.latencyCalculationMethod=function(e,t){return-1},t.prototype.onLatencyExceeded=function(e,t,n){},t.prototype.onLatencyDropped=function(e,t,n){},t.prototype.setHealthEvents=function(){var e=this,t=function(t){e._logger.warn("get health evt!!! evt=".concat(t.type,"/uid=").concat(e._videoInfo.uid,"/idx=").concat(e._idx,"/state=").concat(e._state)),e.retryWhenError(t.data)};this.checkPlayHealth.on(nn.STATE_STUCK,t),this.checkPlayHealth.on(nn.PLAYTIME_STUCK,t)},t.prototype.setVideoEvents=function(e){var t,n=this;this._eventAddedMap.videoEventAdded!==e&&(this._logger.log("setVideoEvents(), idx=".concat(this._idx,"/value=").concat(e,"/uid=").concat(null===(t=this._videoInfo)||void 0===t?void 0:t.uid)),this._eventAddedMap.videoEventAdded=e,Object.keys(this._videoEventMap).forEach((function(t){e?n._video.addEventListener(t,n._eventMap.video):n._video.removeEventListener(t,n._eventMap.video)})))},t.prototype.onVideoEvents=function(e){var t,n=this;if(this.state!==E.IDLE&&this._videoInfo&&!this._evtBlocking){an.includes(e.type)||this._logger.log("videoevt, uid=".concat(this._videoInfo.uid,"/idx=").concat(this.idx,"/type=").concat(e.type,"/")+"time=".concat(this._video.currentTime,"/duration=").concat(this._video.duration)),this.emit(P.ELEMENT_EVTS,{videoInfo:this._videoInfo,elementEvtType:e.type});var r=Math.abs(this._videoInfo.duration-this._videoInfo.playtime)<.1&&this._videoInfo.duration>0;"pause"===e.type&&r?this._pauseCloseToEndStateCheckTimeoutId=window.setTimeout((function(){n._videoEventMap[e.type]&&n._videoEventMap[e.type](e)}),0):("ended"===e.type&&this._pauseCloseToEndStateCheckTimeoutId>0&&(window.clearTimeout(this._pauseCloseToEndStateCheckTimeoutId),this._pauseCloseToEndStateCheckTimeoutId=0),this._videoEventMap[e.type]&&this._videoEventMap[e.type](e))}else this._logger.log("videoevt discard, idx=".concat(this._idx,"/uid=").concat(null===(t=this._videoInfo)||void 0===t?void 0:t.uid,"/evttype=").concat(e.type,"/")+"state=".concat(this.state,"/evtBlocking=").concat(this._evtBlocking))},t.prototype.onVideoEventPlaying=function(){this.setCheckLoadTimeoutEnable(!1),this._isUserSeek=!1,this.updateVideoSize(),ee.browser.x5&&this.onVideoEventDurationChange(),this._videoInfo.hasFirstPlaying||this.emit(P.FIRST_PLAYING,{videoInfo:this._videoInfo}),this.stateMgr.receiveVideoEvt(m.playing),this._videoInfo&&(this._videoInfo.hasFirstPlaying=!0,this._videoInfo.stateWhenErrorHappen=null),this._userStartTime=0,this.checkSetLevelOver(m.playing)},t.prototype.onVideoEventCanplay=function(){this.setCheckLoadTimeoutEnable(!1),this._videoInfo&&(this._videoInfo.qualityInfo.canplaytime||(this._videoInfo.qualityInfo.canplaytime=vt.getBuffered(this._video)),this.stateMgr.receiveVideoEvt(m.canplay))},t.prototype.onVideoEventPause=function(){this._pauseType!==T.INNER&&this.stateMgr.receiveVideoEvt(m.pause)},t.prototype.onVideoEventEnded=function(){this._logger.log("setEndInner(), reason=endedEvt"),this.setEndInner()},t.prototype.onVideoEventSeeked=function(){this.stateMgr.receiveVideoEvt(m.seeked),this.checkSetLevelOver(m.seeked),this.resumeAfterSeek(),this._isUserSeek=!1},t.prototype.onVideoEventLoadStart=function(){},t.prototype.onVideoEventWaiting=function(){this.stateMgr.receiveVideoEvt(m.waiting)},t.prototype.onVideoEventSeeking=function(){this.stateMgr.receiveVideoEvt(m.seeking)},t.prototype.onVideoEventProgress=function(){this.emit(P.VIDEO_BUFFER_CHANGE,{videoInfo:this._videoInfo})},t.prototype.onVideoEventLoadedmetadata=function(e){this.updateVideoSize(),this.emit(P.METADATA_CHANGE,{videoInfo:this._videoInfo})},t.prototype.onVideoEventResize=function(){this.updateVideoSize(!0)},t.prototype.onVideoEventRateChange=function(){this.emit(P.RATE_CHANGE,{playbackRate:this.playbackRate,videoInfo:this._videoInfo})},t.prototype.onVideoEventDurationChange=function(){this._video.duration>0&&this._video.duration!==this._videoInfo.duration&&(this._videoInfo.duration=this._video.duration,this._logger.log("onVideoEventDurationChange(), uid=".concat(this._videoInfo.uid,"/duration=").concat(this._videoInfo.duration,"/")+"idx=".concat(this.idx)),this.emit(P.DURATION_CHANGE,{videoInfo:this._videoInfo}))},t.prototype.onVideoEventVolumeChange=function(){this.emit(P.VOLUME_CHANGE,{volume:this.volume,videoInfo:this._videoInfo})},t.prototype.onVideoEventTimeUpdate=function(){var e;if(0!==this._video.currentTime){this.updatePlaytime(this._video.currentTime),this.checkSetLevelOver(m.timeupdate),this._state===E.BUFFERING&&this.stateMgr.setPlaying();var t=null===(e=this.performanceMonitor)||void 0===e?void 0:e.calcIntervalFrameDropped();"number"==typeof t&&this._videoInfo&&(this._videoInfo.qualityInfo.intervalFrameDropped=t)}},t.prototype.onAudioTrackSwitched=function(e,t){void 0===t&&(t=!1),this.audioTrackSwitchingDefer&&(this.audioTrackSwitchingDefer.resolve({userTrigger:this.isUserSwitchAudioTrack,id:e,fail:t}),this.audioTrackSwitchingDefer=null,this.emit(P.SET_AUDIO_TRACK_OVER,{videoInfo:this._videoInfo,id:e,fail:t,userTrigger:this.isUserSwitchAudioTrack}))},t.prototype.onVideoEventLoadeddata=function(){this.emit(P.VIDEO_BUFFER_CHANGE,{videoInfo:this._videoInfo})},t.prototype.onVideoEventError=function(){this.errorHandler()},t.prototype.onDrmError=function(e){var t=e.data,n=t.code,r=t.message;this._logger.log("onDrmError(), code=".concat(n,"/msg=").concat(r)),this._videoInfo.error=e.data,this.stopInner(!1,this._videoInfo)},t.prototype.checkCanSetLevel=function(){var e=this.vnStatusChecker.checkCanSetLevel();return!!e.canSetLevel||(this._logger.warn(e.message),!1)},t.prototype.checkSetLevelOver=function(e){var t=this.vnStatusChecker.checkIsSetLevelOver(e,this.levelSwitchTargetPlaytime);t&&(this._logger.log("setLevelOver(), reason: "+"succOnPlaying=".concat(t.succInPlaying,"/succOnSeeked=").concat(t.succInSeeked,"/succOnTimeupdate=").concat(t.succInTimeupdate)),this.setLevelOver())},t.prototype.setLevelOver=function(){this._levelSwitchingDefer&&(this._levelSwitchingDefer.resolve(),this._levelSwitchingDefer=null,this.levelSwitchTargetPlaytime=-1,this.loading.hide(),this.stateMgr.onSetLevelOver(),this.emit(P.SETLEVEL_OVER,{videoInfo:this._videoInfo}))},t.prototype.checkCanSeek=function(e,t){void 0===t&&(t=!1);var n=this.vnStatusChecker.checkCanSeek({seektime:e,userActivation:t,setLevelMode:this.setLevelMode});return!!n.canSeek||(this._logger.warn(n.message),!1)},t.prototype.checkCanSetAudioTrack=function(){var e=this.vnStatusChecker.checkCanSetAudioTrack(this.audioTrackSwitchingDefer);return!!e.canSetAudioTrack||(this._logger.warn(e.message),!1)},t.prototype.findFreeVideoElement=function(){return function(e){if(!e||0===e.length)throw new Error("videoElements is null or length equal 0");for(var t=null,n=0;n<e.length;n++){var r=e[n];if(void 0===r.dataset.used||r.dataset.used===M.FREE){t=e[n];break}}if(!t)throw new Error("Unable to find free video element!");return t.dataset.used=M.USED,t}(this._config.videoElements)},t.prototype.setMainLoopEnable=function(e){e?this.mainTaskLoop.start():this.mainTaskLoop.stop()},t.prototype.mainLoopInProcess=function(){this.updateAccuratePlaytime(),this.checkPlayHealth.loop()},t.prototype.updateAccuratePlaytime=function(){var e;this._state!==E.PLAYING||this._video.duration<=0||this._video.readyState<_.HAVE_ENOUGH_DATA||(null===(e=this.onAccurateTimeupdate)||void 0===e||e.call(this,this._video.currentTime,this._video.duration),this.updatePlaytime(this._video.currentTime,!0))},t.prototype.updatePlaytime=function(e,t){if(void 0===t&&(t=!1),this._videoInfo){var n=this.performanceMonitor.report(),r=n.averageDecodeTimeInMs,o=n.totalVideoFrames,i=n.droppedVideoFrames,a=n.frameDroppedInPercentage;this._videoInfo.qualityInfo.droppedVideoFrames=i,this._videoInfo.qualityInfo.totalVideoFrames=o,this._videoInfo.qualityInfo.averageDecodeTimeInMs=r,this._videoInfo.qualityInfo.frameDroppedInPercentage=a,this._videoInfo.playtime!==e&&(this._videoInfo.playtime=e),t||this.emit(P.TIME_UPDATE,{videoInfo:this._videoInfo})}},t.prototype.setCheckLoadTimeoutEnable=function(e){var t=this;if(this.loadTimeoutId&&clearTimeout(this.loadTimeoutId),e){var n=this._config.maxPreloadTimeout;n<=0||(this.loadTimeoutId=setTimeout((function(){t.errorHandler({code:I.ORG_LOAD_TIMEOUT,message:w.PRELOAD_VIDEO_TIMEOUT})}),n))}},t.prototype.resumeAfterSeek=function(){this._played&&!this._video.ended&&this._isUserSeek&&(this._video.paused?this._config.remainPauseStateAfterSeek||this.videoplay():this.stateMgr.setPlaying())},t.prototype.pauseInner=function(e){var t;void 0===e&&(e=T.INNER),this._logger.log("pause(), uid=".concat(null===(t=this._videoInfo)||void 0===t?void 0:t.uid,"/state=").concat(this.state,"/idx=").concat(this.idx,"/type=").concat(e)),this._pauseType=e,this._video.pause()},t.prototype.setEndInner=function(){this._state!==E.END&&this._state!==E.IDLE&&(this._logger.log("setEndInner(), idx=".concat(this._idx,"/uid=").concat(this._videoInfo.uid,"/playtime=").concat(this._videoInfo.playtime)+"/duration=".concat(this._videoInfo.duration,"}")),this.stateMgr.setEnded(),this.emit(P.PLAY_OVER,{isUserStop:!1,endState:y.NORMAL,videoInfo:this._videoInfo}))},t.prototype.stopInner=function(e,t){var n,r;this._video&&this._videoInfo&&(null===(n=this.performanceMonitor)||void 0===n||n.reset(),this.setMainLoopEnable(!1),this.setCheckLoadTimeoutEnable(!1),this._isUserSeek=!1,this._logger.log("stopInner(), uid/state/idx: ".concat(null===(r=this._videoInfo)||void 0===r?void 0:r.uid,"/").concat(this.state,"/").concat(this.idx)),this.setVideoEvents(!1),this._config.clearVideoAfterStop?vt.clear(this._video):this._video.pause(),this._config.createVideoNodeWhenLoad&&(this._video.dataset.used=M.FREE),this._videoInfo&&(this._videoInfo.extraVars.isLoadstarted=!1,this._videoInfo=null),this._pauseCloseToEndStateCheckTimeoutId>0&&(window.clearTimeout(this._pauseCloseToEndStateCheckTimeoutId),this._pauseCloseToEndStateCheckTimeoutId=0),this.state!==E.IDLE&&(e||(this.stateMgr.setEnded(),this._played=!1,this._levelSwitchingDefer=null,(null==t?void 0:t.error)&&this.emit(P.ERROR,{videoInfo:t}))))},t.prototype.updateVideoSize=function(e){void 0===e&&(e=!1);var t=this._video.videoWidth,n=this._video.videoHeight;!this._videoInfo||this._videoInfo.videoWidth===t&&this._videoInfo.videoHeight===n||(this._videoInfo.videoWidth=t,this._videoInfo.videoHeight=n,this.emit(P.VIDEO_RESIZE,{videoInfo:this._videoInfo,isNative:e}),this.videoResizeAutoFill.resizeAutoFill())},t.prototype.setLoadingOnStateChange=function(){if(this._played)if([E.BUFFERING,E.SEEKING].includes(this._state)){this.loading.show(500)}else(this._config.type===A.LIVE&&E.CANPLAY!==this._state||this._config.type===A.VOD)&&this.loading.hide();else this.loading.hide()},t.prototype.errorHandler=function(e){var t=this.parseErrorData(e);this._logger.log("errorHandler(), error: ",t),this.retryWhenError(t)},t.prototype.retryWhenError=function(e){var t=this._videoInfo,n=this.setRetryUrl(t),r=t.config.expireTimeStamp,o=void 0!==r&&r<+new Date;if(null===this._videoInfo.stateWhenErrorHappen&&(this._videoInfo.stateWhenErrorHappen=this._state),!e.fatal&&!o&&n){var i=t.getRetryCount();return this._logger.log("retryOnError(), retryCount=",i),this.emit(P.RETRY,Tn({error:e,retryCount:i,videoInfo:t},n)),this.stopInner(!0),this.stateMgr.setWaiting(),this._state!==E.BUFFERING&&this.loading.show(),void this.doRetry(t)}this._logger.log("retryOnError(), fatal."),this._videoInfo.error=e,this._levelSwitchingDefer&&this._levelSwitchingDefer.reject(),this.stopInner(!1,this._videoInfo)},t.prototype.parseErrorData=function(e){var t,n;return(null==(n=e?vt.commonErrorParse(e):Q[null===(t=this._video.error)||void 0===t?void 0:t.code]||{code:I.UNKNOWN_ERR,message:w.UNKNOWN})?void 0:n.code)===I.UNKNOWN_ERR&&this._logger.log("parseErrorData, unknown err. data=",te.safelyStringify(e)),n},t.prototype.doRetry=function(e){var t=e.playtime,n=e.stateWhenErrorHappen,r=this._video.currentTime>0?this._video.currentTime:t,o=this._played?r:this._userStartTime;this._logger.log("do retry [url], stateWhenErrorHappen=".concat(n)),e.playtime=o,this._played&&n!==E.PAUSE?this.play(e,{startTime:o}):this.load(e,{startTime:o})},t.prototype.setRetryUrl=function(e){var t=e.loadingUrl;return e.setNextBackUrl()?{prevUrl:t,curUrl:e.loadingUrl}:null},t.prototype.emitKernelEvt=function(e,t){dn.emit(e,Tn(Tn({},t),{playerInstanceId:this.config.instanceId}))},t.prototype.adjustSeekTime=function(e){var t=e;return(ee.browser.x5||ee.browser.safari)&&Math.abs(t-this._videoInfo.duration)<=1&&(t=this._videoInfo.duration-1),t},Dn([Nn,On("design:type",Function),On("design:paramtypes",[String]),On("design:returntype",void 0)],t.prototype,"pause",null),Dn([Nn,On("design:type",Function),On("design:paramtypes",[]),On("design:returntype",void 0)],t.prototype,"stop",null),Dn([Nn,On("design:type",Function),On("design:paramtypes",[]),On("design:returntype",void 0)],t.prototype,"destroy",null),Dn([Nn,On("design:type",Function),On("design:paramtypes",[String]),On("design:returntype",Promise)],t.prototype,"setLevel",null),Dn([Nn,On("design:type",Function),On("design:paramtypes",[Object]),On("design:returntype",Promise)],t.prototype,"setAudioTrack",null),Dn([Nn,On("design:type",Function),On("design:paramtypes",[Boolean]),On("design:returntype",void 0)],t.prototype,"setCheckLoadTimeoutEnable",null),Dn([Nn,On("design:type",Function),On("design:paramtypes",[String]),On("design:returntype",void 0)],t.prototype,"pauseInner",null),Dn([Nn,On("design:type",Function),On("design:paramtypes",[]),On("design:returntype",void 0)],t.prototype,"setEndInner",null),Dn([Nn,On("design:type",Function),On("design:paramtypes",[Boolean,Object]),On("design:returntype",void 0)],t.prototype,"stopInner",null),Dn([Nn,On("design:type",Function),On("design:paramtypes",[Object]),On("design:returntype",void 0)],t.prototype,"retryWhenError",null),t}(Je),kn=Rn,Ln=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bn=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,s.Z)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Mn=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,s.Z)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Qn=de("OrgVideoNode"),Vn=function(e){function t(t){var n=e.call(this,t)||this;return n._logger=new ue(t.instanceId,"OrgVideoNode"),n}return Ln(t,e),t.prototype.onVideoEventCanplay=function(){var t;null===(t=this._canplayDefer)||void 0===t||t.resolve(),e.prototype.onVideoEventCanplay.call(this)},t.prototype.onVideoEventLoadedmetadata=function(){e.prototype.onVideoEventLoadedmetadata.call(this),(ee.os.ios||ee.browser.safari)&&[O.META_DATA,O.AUTO].includes(this._config.preloadType)&&this.onVideoEventCanplay()},t.prototype.onVideoEventLoadeddata=function(){e.prototype.onVideoEventLoadeddata.call(this),this.checkPlayInitSeek()},t.prototype.onVideoEventTimeUpdate=function(){e.prototype.onVideoEventTimeUpdate.call(this),this.checkPlayInitSeek()},t.prototype.onVideoEventLoadStart=function(){this.resolveWaitVideoLoadStartEvt()},t.prototype.load=function(e,t){var n=this;return!!e.loadingUrl&&(this.stopInner(!0),this._drm.init(e.config.drmConfig),this._videoInfo=e,this._videoInfo.extraVars.isLoadstarted=!0,this.setVideoEvents(!0),this.stateMgr.setLoadStart(),this.assignStartTime((null==t?void 0:t.startTime)||0),this._video.src=this._videoInfo.loadingUrl,this._logger.log("load(), loadingUrl=".concat(this._videoInfo.loadingUrl,", uid=").concat(this._videoInfo.uid)),this._config.preloadType===O.AUTO_LOAD&&this._video.load(),this.setCheckLoadTimeoutEnable(!0),this._canplayDefer=new Ce,this.waitVideoLoadStartEvt().then((function(){n._logger.log("load(), video load succ...")})).catch((function(){n._logger.error("load(), video load cannot be trigger..."),n.onVideoEventCanplay()})),!0)},t.prototype.play=function(e,t){var n=this;this._logger.log("play(), uid=".concat(null==e?void 0:e.uid,"/idx=").concat(this.idx,"/state=").concat(this.state)),this._played=!0,e&&!e.extraVars.isLoadstarted&&this.load(e,t);var r=null;return ee.browser.safari&&this._canplayDefer?this._canplayDefer.promise.then((function(){n.videoplay()})):r=this.videoplay(),this.setMainLoopEnable(!0),r},t.prototype.assignStartTime=function(e){if(this._config.type!==A.LIVE){this._userStartTime=e;var t=!Number.isNaN(e)&&e>=0?e:0;t<=0||(vt.supportMediaFragmentsURISpec(this._config.enableMediaFragmentsURI)&&!this._videoInfo.loadingUrl.startsWith("blob:")?(this._logger.log("assignStartTime by #t"),this._videoInfo.setLoadingUrlStartTime(t)):(this._logger.log("assignStartTime with seek()"),this._needPlaySeektime=t))}},t.prototype.checkPlayInitSeek=function(){this._needPlaySeektime>0&&this._videoInfo&&this._video.duration>0&&(this._logger.log("checkPlayInitSeek(), idx=".concat(this.idx,"/seektime=").concat(this._needPlaySeektime)),this.seek(this._needPlaySeektime),this._needPlaySeektime=0)},t.prototype.stopInner=function(t,n){this._canplayDefer=null,this._needPlaySeektime=0,e.prototype.stopInner.call(this,t,n)},t.prototype.seek=function(e,t){void 0===t&&(t=!1);var n=e;return!!this.checkCanSeek(n,t)&&(n=this.adjustSeekTime(n),this._isUserSeek=t,this._logger.log("seek(), uid".concat(this._videoInfo.uid,"/idx=").concat(this.idx,"/time=").concat(n,"/duration=").concat(this._video.duration,"/")+"state=".concat(this.state)),this._targetSeekTime=n,this._video.currentTime=n,!0)},t.prototype.updateAccuratePlaytime=function(){e.prototype.updateAccuratePlaytime.call(this);var t=Math.abs(this._video.duration-this._video.currentTime),n=this._config.originKernelConfig.advanceEndTime;n>0&&t<=n&&(this._logger.log("setEndInner(), reason=leftTimeCheck"),this.setEndInner())},t.prototype.setEndInner=function(){this.state!==E.END&&this.state!==E.IDLE&&(this.onAccurateTimeupdate&&this.onAccurateTimeupdate(0),this.updatePlaytime(this._video.currentTime)),e.prototype.setEndInner.call(this)},t.prototype.waitVideoLoadStartEvt=function(){var e=this;this._waitVideoLoadStartEvtDefer=new Ce;return window.setTimeout((function(){"rejected"!==e._waitVideoLoadStartEvtDefer.state&&e._waitVideoLoadStartEvtDefer.reject()}),50),this._waitVideoLoadStartEvtDefer.promise},t.prototype.resolveWaitVideoLoadStartEvt=function(){this._waitVideoLoadStartEvtDefer&&this._waitVideoLoadStartEvtDefer.resolve()},Bn([Qn,Mn("design:type",Function),Mn("design:paramtypes",[Object,Object]),Mn("design:returntype",void 0)],t.prototype,"load",null),Bn([Qn,Mn("design:type",Function),Mn("design:paramtypes",[Object,Object]),Mn("design:returntype",void 0)],t.prototype,"play",null),Bn([Qn,Mn("design:type",Function),Mn("design:paramtypes",[Boolean,Object]),Mn("design:returntype",void 0)],t.prototype,"stopInner",null),Bn([Qn,Mn("design:type",Function),Mn("design:paramtypes",[Number,Object]),Mn("design:returntype",void 0)],t.prototype,"seek",null),t}(kn),Fn=Vn,Un=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kn=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,s.Z)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},jn=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,s.Z)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Hn=de("OrgIOSVideoNode"),qn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastPausePlayTime=null,t.lastPauseTimeStamp=null,t.disableSeekEvt=!1,t}return Un(t,e),Object.defineProperty(t,"shouldUseResumeFix",{get:function(){return ee.os.ios&&J.Z.compareVersion(ee.os.version,"15.0")>=0},enumerable:!1,configurable:!0}),t.prototype.setLevel=function(t){return void 0===t&&(t=v.HARD),this.clearPauseMemTime(),e.prototype.setLevel.call(this,t)},t.prototype.onVideoEventPause=function(){return this.isOriginHlsPlaying()&&(this.lastPausePlayTime=this._video.currentTime,this.lastPauseTimeStamp=Date.now()),e.prototype.onVideoEventPause.call(this)},t.prototype.onVideoEventSeeking=function(){if(this.clearPauseMemTime(),!this.disableSeekEvt)return e.prototype.onVideoEventSeeking.call(this)},t.prototype.onVideoEventSeeked=function(){this.disableSeekEvt?this.disableSeekEvt=!1:e.prototype.onVideoEventSeeked.call(this)},t.prototype.onVideoEventPlaying=function(){return t.shouldUseResumeFix&&this.lastPausePlayTime&&Date.now()-this.lastPauseTimeStamp>5e3&&(this.disableSeekEvt=!0,this._video.currentTime=this.lastPausePlayTime),this.clearPauseMemTime(),e.prototype.onVideoEventPlaying.call(this)},t.prototype.clearPauseMemTime=function(){this.lastPausePlayTime=null,this.lastPauseTimeStamp=null},t.prototype.isOriginHlsPlaying=function(){var e=this.currentVideoInfo.loadingUrl;return $t(Ee.getFileExtension(e))===U.HLS},Kn([Hn,jn("design:type",Function),jn("design:paramtypes",[Object]),jn("design:returntype",void 0)],t.prototype,"setLevel",null),t}(Fn),Gn=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(qe){i(qe)}}function s(e){try{l(r.throw(e))}catch(qe){i(qe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Yn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(qe){i=[6,qe],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};var Wn={isValid:!0,message:""},zn={isValid:!1,message:"Validator does not return anything."},Jn=function(){function e(e){var t=this;this.setLevelValidator={NOT_INITIALIZED:function(){return t.player?Wn:{isValid:!1,message:"\u64ad\u653e\u5668\u5c1a\u672a\u521d\u59cb\u5316"}},NOT_PLAYING:function(){return t.player.played?Wn:{isValid:!1,message:"\u64ad\u653e\u672a\u5f00\u59cb"}},EMPTY_URL:function(e){return e?Wn:{isValid:!1,message:"\u5207\u6362\u76ee\u6807\u89c6\u9891\u5730\u5740\u4e3a\u7a7a"}},EMPTY_VIDEO_INFO:function(){return t.player.currentVideoInfo?Wn:{isValid:!1,message:"\u627e\u4e0d\u5230\u5f53\u524d\u64ad\u653e\u4fe1\u606f"}},PLAYTIME_CHECK:function(){return t.player.currentVideoInfo.playtime<=0?{isValid:!1,message:"\u64ad\u653e\u672a\u5f00\u59cb"}:Wn},CLOSE_TO_END:function(){var e=t.player.currentVideoInfo;return t.player.config.type===A.VOD&&e.playtime+1>=e.duration&&e.duration!==1/0?{isValid:!1,message:"\u64ad\u653e\u5373\u5c06\u7ed3\u675f"}:Wn},TARGET_NOT_CHANGE:function(e){return e===t.player.currentVideoInfo.loadingUrl?{isValid:!1,message:"\u5207\u6362\u7684\u89c6\u9891\u5730\u5740\u6ca1\u6709\u53d8\u5316"}:Wn}},this.player=e}return e.prototype.checkSetLevelMode=function(e,t){return e<2?v.HARD:t||v.SOFT},e.prototype.checkCanAppend=function(e){if(!this.player||!this.player.config)return{canAppend:!1,message:"BasePlayer or basePlayer.config is null"};if(!this.player.config.isPlayList)return{canAppend:!1,message:"Only supported when [isPlayList] is true"};if(!this.player.played)return{canAppend:!1,message:"Player has not been played"};var t=en(e,this.player.kernelName);return t?{canAppend:!1,message:"urlconfig err=".concat(t)}:{canAppend:!0,message:"Can append video now"}},e.prototype.checkCanPreloadEnvi=function(e){var t=this.checkCanAppend(e);return t.canAppend?this.player.supportPreload?{canPreload:!0,message:"Can preload video now"}:{canPreload:!1,message:"preloadNext() fail, browser not support preload."}:{canPreload:!1,message:t.message}},e.prototype.checkCanPreloadEachConfig=function(e){if(!this.player||!this.player.videoInfos)return{canPreload:!1,message:"preloadInner() fail, because player or videoInfo is null."};var t=this.player.videoInfos.findIndex((function(t){return Xt(t.config,e)}));return-1!==t&&t<=this.player.curUrlIdx?{canPreload:!1,message:"preloadInner() fail, because this videoInfo has been played."}:-1!==t&&t>this.player.curUrlIdx+1?{canPreload:!1,message:"preloadInner() fail, can not skip next to preload."}:this.player.nextVideoInfo&&!Xt(this.player.nextVideoInfo.config,e)?{canPreload:!1,message:"preloadInner() fail, the next has been appended, you only can preload next."}:-1!==this.player.preloadVideoInfos.findIndex((function(t){return Xt(t.config,e)}))?{canPreload:!1,message:"preloadInner() fail, the VideoInfo has been preloaded."}:{canPreload:!0,message:"Can preload video now"}},e.prototype.checkSetLevelError=function(e){var t,n,r,o,i=(t=Object.values(this.setLevelValidator),n=function(t){return t(e)},void 0===r&&(r=null),t.length?(t.every((function(e){return(o=n.call(r,e)||zn).isValid})),o):Wn);return i.isValid?null:i.message},e.prototype.checkCanPlayNext=function(){return this.player&&this.player.videoInfos?this.player.played?this.player.nextVideoInfo?{canPlayNext:!0,message:"checkPlayNext(), curUrlIdx=".concat(this.player.curUrlIdx,"/urlLength=").concat(this.player.videoInfos.length,"/")+"nextStartTime: ".concat(this.player.nextVideoInfo.playtime)}:{canPlayNext:!1,message:"Playlist over>>>, total len: ', ".concat(this.player.videoInfos.length)}:{canPlayNext:!1,message:"Player has not been played"}:{canPlayNext:!1,message:"Player or player.videoInfo is null"}},e.prototype.checkAutoPreloadNext=function(e){if(!this.player||!this.player.currentVideoInfo)return{canPreload:!1,message:"Player or player.currentVideoInfo is null"};if(!this.player.nextVideoInfo||-1!==this.player.preloadVideoInfos.indexOf(this.player.nextVideoInfo))return{canPreload:!1,message:"nextVideoInfo is null or nextVideoInfo is already preload now"};var t=this.player.currentVideoInfo.config.autoPreloadLeftTime;return t<=0?{canPreload:!1,message:"Can not preload,autoPreloadLeftTime <= 0"}:t>=this.player.currentVideoInfo.duration&&this.player.currentVideoInfo.playtime>0||t>=e?{canPreload:!0,message:"Can preload now"}:{canPreload:!1,message:"Can not preload,autoPreloadLeftTime is illegal"}},e.prototype.destroy=function(){this.player=null},e}(),Zn=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(qe){i(qe)}}function s(e){try{l(r.throw(e))}catch(qe){i(qe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Xn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(qe){i=[6,qe],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},$n=function(){function e(){this.wakeLock=null}return Object.defineProperty(e.prototype,"isAlive",{get:function(){return!!this.wakeLock},enumerable:!1,configurable:!0}),e.prototype.keepAlive=function(e){return e?this.requestWakeLock():this.realseWakeLock()},e.prototype.requestWakeLock=function(){return Zn(this,void 0,void 0,(function(){var e;return Xn(this,(function(t){switch(t.label){case 0:if(this.wakeLock)return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),e=this,[4,window.navigator.wakeLock.request("screen")];case 2:return e.wakeLock=t.sent(),[3,4];case 3:return t.sent(),this.wakeLock=null,[3,4];case 4:return[2]}}))}))},e.prototype.realseWakeLock=function(){return Zn(this,void 0,void 0,(function(){return Xn(this,(function(e){return this.wakeLock?(this.wakeLock.release(),this.wakeLock=null,[2]):[2]}))}))},e}(),er=$n,tr=(n(3753),n(9714),function(){return tr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},tr.apply(this,arguments)}),nr=function(){function e(e,t){this.playtime=0,this.currentAudioTrack=NaN,this.duration=0,this.performance={},this.startTime=0,this.state=E.IDLE,this.fileSize=0,this.videoWidth=0,this.videoHeight=0,this.hasFirstPlaying=!1,this.startPts=0,this.discontinuityTimeRanges=[],this.videoFrameRate=0,this.audioTracks=[],this.currentLevelIndex=-1,this.levels=[],this.currentLevel=null,this.isAutoLevel=!1,this.stateWhenErrorHappen=null,this._logger=new ue(t.instanceId,"VideoInfo"),this._extraVars={},this._qualityInfo={},this._uid=J.Z.createGUID(8),this._config=e,this._playerConfig=t,this.codecs=this._config.codec?tr({},this._config.codec):{video:"",audio:""},this.reset(),this._logger.log("new VideoInfo(), uid: ".concat(this.uid))}return e.prototype.toJSON=function(){return this.serializedString()},e.prototype.toString=function(){return this.serializedString()},Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"qualityInfo",{get:function(){return this._qualityInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uid",{get:function(){return this._uid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loadingUrl",{get:function(){return this._loadingUrl},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"extraVars",{get:function(){return this._extraVars},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this._nextBackUrlIdx=0,this._retryCount=0,this.performance={},this._loadingUrl=this._config.url,this.audioTracks=[]},e.prototype.setLoadingUrlStartTime=function(e){this._loadingUrl&&e>0&&(this._loadingUrl="".concat(this._loadingUrl.split("#t=")[0],"#t=").concat(e))},e.prototype.setDependVideoInfo=function(e){return this.startTime=e?e.startTime+e.duration:0,this._logger.log("setDependVideoInfo succ, uid/starttime: ".concat(this.uid,"/").concat(this.startTime)),!0},e.prototype.setNextBackUrl=function(){return!(!this._config.url||this._retryCount>=this._playerConfig.backupUrlsMaxRetryCount)&&(this._retryCount++,this._config.backupUrls&&this._config.backupUrls.length>0?this._nextBackUrlIdx>=this._config.backupUrls.length?(this._loadingUrl=this._config.url,this._nextBackUrlIdx=0):(this._loadingUrl=this._config.backupUrls[this._nextBackUrlIdx],this._nextBackUrlIdx++):this._loadingUrl=this._config.url,!0)},e.prototype.getRetryCount=function(){return this._retryCount},e.prototype.destroy=function(){this._extraVars=null},e.prototype.serializedString=function(){var e,t;return"VideoInfo{u:".concat(this._loadingUrl,",t:").concat(this.playtime,",s:").concat(this.state,",ec:").concat((null===(e=this.error)||void 0===e?void 0:e.code)||"",",em:").concat((null===(t=this.error)||void 0===t?void 0:t.message)||"",",r:").concat(this._nextBackUrlIdx,"}")},e}(),rr=nr,or=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ir=function(){return ir=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ir.apply(this,arguments)},ar=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,s.Z)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},sr=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,s.Z)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},lr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(qe){i(qe)}}function s(e){try{l(r.throw(e))}catch(qe){i(qe)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},cr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(qe){i=[6,qe],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},ur=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},dr=de("BasePlayer"),pr=function(e){function t(t){var n,r=e.call(this)||this;return r._firstPlaying=!1,r._hasUserGestures=!1,r._volume=1,r._playbackRate=1,r._playBlocking=!1,r.lastVideoInfo=null,r._logger=new ue(t.instanceId,"BasePlayer"),r._config=t,r._videoInfos=[],r._curUrlIdx=-1,r._curVideoNode=null,r._preloaders=[],r._vnList=[],r._eventMap={videonode:r.videonodeEventHandler.bind(r),document:r.visibilityChangeHandler.bind(r)},r._played=!1,r.videoEvtHandlerMap=((n={})[P.STATE_CHANGE]=r.onVideoNodeStateChange.bind(r),n[P.PLAY_PROMISE_CATCHED]=r.onVideoNodePlayPromiseCatched.bind(r),n[P.FIRST_PLAYING]=r.onVideoNodeFirstPlaying.bind(r),n[P.PLAY_OVER]=r.onVideoNodePlayOver.bind(r),n[P.ERROR]=r.onVideoNodeError.bind(r),n),r.screenWakeLock=new er,r.playerStatusChecker=new Jn(r),document.addEventListener("visibilitychange",r._eventMap.document),r._config.createVideoNodeWhenLoad||r.createVideoNodes(r._config.maxVideoNodeCount),r}return or(t,e),t.prototype.load=function(e,t){return lr(this,void 0,void 0,(function(){return cr(this,(function(n){return!e||e instanceof Array&&e.length<=0?(this.clearBeforeLoad(),[2]):(this.loadInner(e,t),[2])}))}))},t.prototype.play=function(e,t){return lr(this,void 0,void 0,(function(){return cr(this,(function(n){switch(n.label){case 0:return this.state!==E.IDLE||e?(this._checkPlayBlocked=!0,this._vnList.length<=1||this._hasUserGestures?(this._logger.log("play(), skip triggerAutoplay()."),this.triggerPlayResolve(e,t),[3,4]):[3,1]):(this._logger.warn("play(), no urlConfig when idle state"),[2]);case 1:return n.trys.push([1,3,,4]),[4,this.triggerAutoplay()];case 2:return n.sent(),this.triggerPlayResolve(e,t),[3,4];case 3:return n.sent(),this._config.type===A.VOD&&e&&this.loadInner(e,t),[3,4];case 4:return[2]}}))}))},t.prototype.triggerAutoplay=function(){var e=this;if(this._triggerAutoplayPromise)return this._triggerAutoplayPromise;this._logger.log("triggerAutoplay(), start");for(var t=[],n=this._vnList.length,r=0;r<n;r++){var o=this._vnList[r].triggerAutoplay();t.push(o)}return this._triggerAutoplayPromise=Promise.all(t),this._triggerAutoplayPromise.catch((function(t){e._logger.log("play() triggerAutoplay catched: ",t),e.playBlocked()})),this._triggerAutoplayPromise},t.prototype.seek=function(e){var t;return this.state!==E.IDLE&&(!(e<0||!(null===(t=this._curVideoNode)||void 0===t?void 0:t.currentVideoInfo))&&this._curVideoNode.seek(e,!0))},t.prototype.pause=function(e){this._played?this.pauseInner(e||T.USER):this._logger.warn("pause(), player has not been played")},t.prototype.stop=function(e){void 0===e&&(e=y.INTERRUPT),this.state!==E.IDLE&&this.stopInner(e,!0)},t.prototype.setLevel=function(e,t,n){var r;"string"==typeof e?r=e:(r=e.url,t=e.backupUrls,n=e);var o=this.playerStatusChecker.checkSetLevelError(r);return o?(this._logger.warn("setLevel(), ".concat(o)),Promise.reject(new Error(o))):(this._urlBeforeSetLevel={url:r,backupUrls:t},this.currentVideoInfo.config.url=r,t&&(this.currentVideoInfo.config.backupUrls=t),n&&(Object.assign(this._urlBeforeSetLevel,n),Object.assign(this.currentVideoInfo.config,n)),this.currentVideoInfo.reset(),this.setLevelInner(this.currentVideoInfo.config))},t.prototype.appendNext=function(e){var t=this.playerStatusChecker.checkCanAppend(e);if(!t.canAppend)return this._logger.warn(t.message),!1;var n=this._videoInfos.find((function(t){return Xt(t.config,e)}));if(n)return this._logger.warn("appendNext(), duplicate append! uid[".concat(n.uid,"]")),!1;var r=this.preloadVideoInfos.find((function(t){return Xt(t.config,e)}));return r||(r=new rr(e,this._config)),this.clearAllPreloadInner(r),this._videoInfos=this._videoInfos.slice(0,this._curUrlIdx+1),this._videoInfos=this._videoInfos.concat(r),this._logger.log("appendNext() succ, appendVideoInfo=",r),this.emit(S.LIST_CHANGE),this.appendAfter(r),!0},t.prototype.preloadNext=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.playerStatusChecker.checkCanPreloadEnvi(t);if(!r.canPreload)return this._logger.warn(r.message),!1;var o=[];return t.forEach((function(t){var n=e.playerStatusChecker.checkCanPreloadEachConfig(t);n.canPreload?e.nextVideoInfo&&Xt(t,e.nextVideoInfo.config)?o.push(e.nextVideoInfo):o.push(new rr(t,e._config)):e._logger.warn(n.message)})),this.preloadInner.apply(this,ur([!1,{startTime:0,kernelName:this.kernelName}],o,!1)),!0},t.prototype.clearAllPreload=function(){this.clearAllPreloadInner()},t.prototype.playNext=function(e){this._played?this.playNextInner({isInterrupt:!0}):this._logger.warn("playNext(), player has not been played")},t.prototype.hasAppended=function(e){return!!this._videoInfos.find((function(t){return Xt(t.config,e)}))},t.prototype.hasPreloaded=function(e){return!!this.preloadVideoInfos.find((function(t){return Xt(t.config,e)}))},t.prototype.setAudioTrack=function(e){return Promise.reject(j.NOT_SUPPORT)},t.prototype.getAudioTrackList=function(){return this.currentVideoInfo?this.currentVideoInfo.audioTracks:[]},t.prototype.getCurrentAudioTrack=function(){return this.currentVideoInfo?this.currentVideoInfo.currentAudioTrack:NaN},t.prototype.resizeVideoElements=function(e){var t=this.videoElements;!e||!t||t.length<=0||(t.forEach((function(t){vt.resizeElement(t,e)})),this.emit(S.RESIZE,e))},t.prototype.resize=function(e){this.resizeVideoElements(e)},t.prototype.captureVideo=function(e,t,n,r,o){var i,a=this.currentVideoElement;if(a){if(a instanceof HTMLVideoElement)try{var s=vt.captureVideo(a,{dx:e,dy:t,dw:n,dh:r});return Promise.resolve(s)}catch(l){return Promise.reject(l)}return null===(i=a.captureVideo)||void 0===i?void 0:i.call(a,e,t,n,r)}},t.prototype.destroy=function(){var e,t;if(this.stopInner(),this._vnList)for(var n=this._vnList.length,r=0;r<n;r++)this._vnList[r].destroy();this._preloaders&&(this._preloaders.forEach((function(e){e.clear()})),this._preloaders=null),document.removeEventListener("visibilitychange",this._eventMap.document),this.removeAllListeners(),null===(e=this.screenWakeLock)||void 0===e||e.keepAlive(!1),this.screenWakeLock=null,this._videoInfos=null,this._curVideoNode=null,this._vnList=null,this._eventMap=null,this.lastVideoInfo=null,null===(t=this.playerStatusChecker)||void 0===t||t.destroy(),this.playerStatusChecker=null},Object.defineProperty(t.prototype,"duration",{get:function(){return this._curVideoNode?this._curVideoNode.duration:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playtime",{get:function(){return this._curVideoNode?this._curVideoNode.playtime:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._curVideoNode?this._curVideoNode.state:E.IDLE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"played",{get:function(){return this._played},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(e){this._playbackRate=e;for(var t=this._vnList.length,n=0;n<t;n++)this._vnList[n].playbackRate=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportPlaybackRate",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportPreload",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"volume",{get:function(){return this._volume},set:function(e){this._volume=e;for(var t=this._vnList.length,n=0;n<t;n++)this._vnList[n].volume=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useWorker",{get:function(){return!!this._curVideoNode&&this._curVideoNode.useWorker},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoElements",{get:function(){var e;return null===(e=this._vnList)||void 0===e?void 0:e.map((function(e){return e.videoElement}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentVideoElement",{get:function(){return this._curVideoNode?this._curVideoNode.videoElement:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoInfos",{get:function(){return this._videoInfos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"preloadVideoInfos",{get:function(){return this._preloaders.map((function(e){return e.videoInfo}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoSize",{get:function(){return this._curVideoNode?this._curVideoNode.videoSize:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoBuffered",{get:function(){return this._curVideoNode?this._curVideoNode.videoBuffered:[{start:0,end:0}]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentVideoInfo",{get:function(){return this._curVideoNode?this._curVideoNode.currentVideoInfo:this.lastVideoInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextVideoInfo",{get:function(){return this._videoInfos[this._curUrlIdx+1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentVideoInfoIdx",{get:function(){return this._curVideoNode?this._videoInfos.indexOf(this._curVideoNode.currentVideoInfo):-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalVideoInfoCount",{get:function(){return this._videoInfos.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"curUrlIdx",{get:function(){return this._curUrlIdx},enumerable:!1,configurable:!0}),t.prototype.log=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===(e=this._logger)||void 0===e||e.log.apply(e,t)},t.prototype.loadInner=function(e,t){var n=this;this.clearBeforeLoad();var r=en(e,this.kernelName);if(r)return this.emit(S.ERROR,{videoInfo:{error:r}}),!1;this._config.createVideoNodeWhenLoad&&(this._vnList.forEach((function(e){return e.destroy()})),this._vnList.length=0,this.createVideoNodes(this._config.maxVideoNodeCount)),this.emit(S.RESTART);var o=(t||{}).startTime,i=void 0===o?0:o;this._videoInfos=[].concat(e).map((function(e){return new rr(e,n._config)})),this.emit(S.LIST_CHANGE);var a=this._videoInfos[0];return this.preloadInner(!0,ir(ir({},t),{startTime:i,kernelName:this.kernelName}),a),!0},t.prototype.pauseInner=function(e){void 0===e&&(e=T.INNER),this.state!==E.PAUSE&&this._curVideoNode&&this._curVideoNode.pause(e)},t.prototype.resumeInner=function(){var e;this._played&&(null===(e=this._curVideoNode)||void 0===e?void 0:e.currentVideoInfo)&&(0===this._curVideoNode.duration||this._curVideoNode.playtime<this._curVideoNode.duration)&&this._curVideoNode.videoplay()},t.prototype.stopInner=function(e,t,n){var r;void 0===e&&(e=y.NORMAL),void 0===t&&(t=!1),void 0===n&&(n=null),(null===(r=this._config)||void 0===r?void 0:r.type)===A.VOD&&this.clearAllPreloadInner();var o=this._videoInfos;if(this._videoInfos=[],this.lastVideoInfo=this.currentVideoInfo,this._vnList)for(var i=this._vnList.length,a=0;a<i;a++)this._vnList[a].stop(),this.setPlayEvents(this._vnList[a],!1);this._curUrlIdx=-1,o&&o.forEach((function(e){e.destroy()})),this._firstPlaying=!1,this._played=!1,this._curVideoNode=null;var s=null==n?void 0:n.error,l=s?y.ERROR:e;this._logger.log("stopInner(), endState=".concat(l)),t&&(this.emit(S.STOPED,{videoInfo:n,isUserStop:e===y.INTERRUPT,endState:l}),s&&this.emit(S.ERROR,{videoInfo:n}))},t.prototype.preloadInner=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=[],i=n.length;if(!(i<=0)){for(var a=0;a<i;a++)if(n[a]){this.clearPreloader(n[a]);var s=this.preparePreloader(e,n[a]);s&&(n[a].setDependVideoInfo(this.currentVideoInfo),s.load(e,this,n[a],t),o.push(s))}this._preloaders=this._preloaders.concat(o),this._logger.log("preload(), preloader's length: ",this._preloaders.length),o.length>0&&this.emit(S.PRELOAD_START,{preloadVideoInfos:o.map((function(e){return e.videoInfo}))})}},t.prototype.playNextInner=function(e){var t=(e||{}).isInterrupt;this._logger.log("playNextInner(), curUrlIdx=".concat(this._curUrlIdx,"/")+"urlLength=".concat(this._videoInfos.length,"/isInterrupt=").concat(t));var n=Math.abs(this.playtime-this.duration)<=this._config.interruptPlayNextMinTime;if(t&&n&&this.state===E.PLAYING)this._logger.log("playNextInner(), playNext right now! return!");else if(this._curUrlIdx+1>=this._videoInfos.length)this._logger.warn("There is no next VideoInfo.");else{this._curUrlIdx+=1,this.setPlayEvents(this._curVideoNode,!1),t&&this._curVideoNode.pause(T.INNER);var r=this._videoInfos[this._curUrlIdx];this.clearAllPreloadInner(r),t&&this.emit(S.VIDEONODE_PLAY_OVER,{videoInfo:this.currentVideoInfo}),this.playInner()}},t.prototype.clearAllPreloadInner=function(e){var t=this;!this._preloaders||this._preloaders.length<=0||this._preloaders.filter((function(t){return t.videoInfo!==e})).forEach((function(e){t.clearPreloader(e.videoInfo)}))},t.prototype.clearBeforeLoad=function(){var e;null===(e=this._vnList)||void 0===e||e.forEach((function(e){vt.clear(e.videoElement)})),this.stopInner(this._played?y.INTERRUPT:y.NORMAL,this._played,this._played?this.currentVideoInfo:null)},t.prototype.clearPreloader=function(e,t){if(this._preloaders&&!(this._preloaders.length<=0)&&e){var n=this.findPreloadIdxByVideoInfo(e);if(-1!==n)this._preloaders.splice(n,1)[0].clear(t)}},t.prototype.findPreloadIdxByVideoInfo=function(e){return e?this._preloaders.findIndex((function(t){return t.videoInfo===e})):-1},t.prototype.decideSetLevelMode=function(e){return this.playerStatusChecker.checkSetLevelMode(this._vnList.length,e)},t.prototype.createVideoNode=function(e){return ee.os.ios?new qn(e):new Fn(e)},t.prototype.createVideoNodes=function(e){for(var t=0;t<e;t++){var n=this.createVideoNode(this._config);n.idx=t,n.volume=this._volume,n.playbackRate=this._playbackRate,n.videoElement instanceof HTMLElement&&(n.videoElement.dataset.idx="".concat(t)),this._vnList.push(n)}},t.prototype.setPlayEvents=function(e,t){var n=this;e&&(t&&this.setPlayEvents(e,!1),this._logger.log("set VideoNode evts, idx=".concat(e.idx,"/isSet=").concat(t)),Object.keys(P).forEach((function(r){(t?e.on:e.off).apply(e,[P[r],n._eventMap.videonode])})))},t.prototype.videonodeEventHandler=function(e){this.logVideoNodeEvts(e);var t=!0;this.videoEvtHandlerMap[e.type]&&(t=this.videoEvtHandlerMap[e.type](e)),t&&e.type in rn&&this.emit(rn[e.type],e.data)},t.prototype.onVideoNodeStateChange=function(e){return e.data.new===E.PAUSE&&e.data.pauseType===T.INNER?(this._logger.log("inner pause does not emit event."),!1):(e.data.new===E.PLAYING&&(this._checkPlayBlocked=!1),this.screenWakeLock.keepAlive(e.data.new===E.PLAYING),!0)},t.prototype.onVideoNodePlayPromiseCatched=function(e){return this._checkPlayBlocked&&e.data.isAutoPlayBlocked&&(this._checkPlayBlocked=!1,this.playBlocked()),!0},t.prototype.onVideoNodeFirstPlaying=function(e){return this._firstPlaying||(this.emit(S.FIRST_PLAYING,{videoInfo:this.currentVideoInfo}),this._firstPlaying=!0,this._hasUserGestures=!0),!0},t.prototype.onVideoNodePlayOver=function(e){if(this._config.isPlayList||this.nextVideoInfo)this.emit(S.VIDEONODE_PLAY_OVER,{videoInfo:this.currentVideoInfo}),this.checkPlayNext();else{var t=this.currentVideoInfo;this.stopInner(y.NORMAL,!0,t),this.emit(S.VIDEONODE_PLAY_OVER,{videoInfo:t})}return!1},t.prototype.onVideoNodeError=function(e){var t=(e.data||{}).videoInfo;return this.stopInner(y.ERROR,!0,t),!1},t.prototype.logVideoNodeEvts=function(e){var t,n;if(!(on.includes(e.type)||e.type===P.ELEMENT_EVTS&&an.includes(e.data.elementEvtType))){var r=e.data;e.type===P.STATE_CHANGE?r="[".concat(e.data.old,"->").concat(e.data.new,"]"):e.type===P.ELEMENT_EVTS&&(r="[elementEvtType=".concat(e.data.elementEvtType,"]")),this._logger.log("get VideoNode evt, type=".concat(e.type,"/uid=").concat(null===(n=null===(t=this._curVideoNode)||void 0===t?void 0:t.currentVideoInfo)||void 0===n?void 0:n.uid,"/data="),r)}},t.prototype.playBlocked=function(){var e=this;this._playBlocking=!0,this._triggerAutoplayPromise=null,setTimeout((function(){e.emit(S.AUTOPLAY_BLOCKED,{videoInfo:e.currentVideoInfo})}),0),this.setLoading(!1)},t.prototype.checkPlayNext=function(){var e=this.playerStatusChecker.checkCanPlayNext();this._logger.log(e.message),e.canPlayNext&&this.playNextInner()},t.prototype.checkAutoPreloadNext=function(e){this.playerStatusChecker.checkAutoPreloadNext(e).canPreload&&this.preloadInner(!1,{startTime:0,kernelName:this.kernelName},this.nextVideoInfo)},t.prototype.setCurVideoNode=function(e,t){void 0===t&&(t=!1),(this._curVideoNode!==e||t)&&(this._curVideoNode&&(this._curVideoNode.onAccurateTimeupdate=null,this.setPlayEvents(this._curVideoNode,!1)),e&&(this._curVideoNode=e,this._curVideoNode.onAccurateTimeupdate=this.checkAccuratePlaytime.bind(this),this.setPlayEvents(this._curVideoNode,!0)))},t.prototype.detectSourceOnError=function(e){var t=this,n=e||{},r=n.loadingUrl,o=n.uid;r?function(e){return Gn(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,l,c,u;return Yn(this,(function(d){switch(d.label){case 0:t={httpCode:-1},d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Fe.xhr({url:e,retryCount:0,responseType:"arraybuffer",range:[0,102400]})];case 2:n=d.sent(),r=n.data,u=n.target,o=n.startTimestamp,t.httpCode=u.status,i=r.byteLength/1024,a=(+new Date-o)/1e3,t.downloadSpeed="".concat(Math.floor(i/a),"kb/s");try{t.headers=u.getAllResponseHeaders()}catch(qe){}return[3,4];case 3:return s=d.sent(),c=(l=s||{}).error,u=l.target,t.httpCode=null==u?void 0:u.status,t.error=c,[3,4];case 4:return[2,t]}}))}))}(r).then((function(e){t._logger.error("detectSourceOnError=".concat(te.safelyStringify(ir({uid:o},e))))})).catch((function(e){t._logger.error("detectSourceOnError err",null==e?void 0:e.message)})):this._logger.error("detectSourceOnError, url=null")},t.prototype.setLoading=function(e){this.emit(S.SET_LOADING,{show:e})},t.prototype.visibilityChangeHandler=function(){this.screenWakeLock.keepAlive(this.state===E.PLAYING)},t.prototype.triggerPlayResolve=function(e,t){var n=this;if(!e)return this._played?this._playBlocking||vt.cannotDetectAutoPlayBlock()?(this._playBlocking=!1,void setTimeout((function(){var e,t;(null===(t=null===(e=n._curVideoNode)||void 0===e?void 0:e.videoBuffered)||void 0===t?void 0:t.length)<=0&&n.setLoading(!0),n.resumeInner()}),0)):void(-1===[E.PAUSE,E.CANPLAY,E.SEEKED].indexOf(this.state)?this._logger.log("play() has been called, but cannot do nothing."):this.resumeInner()):(this.setLoading(!0),void this.triggerPlayAfterLoad());this.loadInner(e,t)&&(this.setLoading(!0),this.triggerPlayAfterLoad())},t.prototype.triggerPlayAfterLoad=function(){this._played||-1!==this._curUrlIdx||this._videoInfos[0]&&(this._played=!0,this._curUrlIdx=0,this.playInner())},ar([dr,sr("design:type",Function),sr("design:paramtypes",[Object,Object]),sr("design:returntype",Promise)],t.prototype,"load",null),ar([dr,sr("design:type",Function),sr("design:paramtypes",[Object,Object]),sr("design:returntype",Promise)],t.prototype,"play",null),ar([dr,sr("design:type",Function),sr("design:paramtypes",[Number]),sr("design:returntype",void 0)],t.prototype,"seek",null),ar([dr,sr("design:type",Function),sr("design:paramtypes",[String]),sr("design:returntype",void 0)],t.prototype,"stop",null),ar([dr,sr("design:type",Function),sr("design:paramtypes",[Object,Array,Object]),sr("design:returntype",Promise)],t.prototype,"setLevel",null),ar([dr,sr("design:type",Function),sr("design:paramtypes",[Object]),sr("design:returntype",void 0)],t.prototype,"appendNext",null),ar([dr,sr("design:type",Function),sr("design:paramtypes",[Object]),sr("design:returntype",void 0)],t.prototype,"preloadNext",null),ar([dr,sr("design:type",Function),sr("design:paramtypes",[Object]),sr("design:returntype",void 0)],t.prototype,"playNext",null),ar([dr,sr("design:type",Function),sr("design:paramtypes",[Object]),sr("design:returntype",Promise)],t.prototype,"setAudioTrack",null),ar([dr,sr("design:type",Function),sr("design:paramtypes",[Object]),sr("design:returntype",void 0)],t.prototype,"resizeVideoElements",null),ar([dr,sr("design:type",Function),sr("design:paramtypes",[]),sr("design:returntype",void 0)],t.prototype,"destroy",null),ar([dr,sr("design:type",Function),sr("design:paramtypes",[]),sr("design:returntype",void 0)],t.prototype,"resumeInner",null),ar([dr,sr("design:type",Function),sr("design:paramtypes",[String,Object,Object]),sr("design:returntype",void 0)],t.prototype,"stopInner",null),ar([dr,sr("design:type",Function),sr("design:paramtypes",[Boolean,Object,Object]),sr("design:returntype",void 0)],t.prototype,"preloadInner",null),ar([dr,sr("design:type",Function),sr("design:paramtypes",[Object]),sr("design:returntype",void 0)],t.prototype,"playNextInner",null),ar([dr,sr("design:type",Function),sr("design:paramtypes",[]),sr("design:returntype",void 0)],t.prototype,"playBlocked",null),ar([dr,sr("design:type",Function),sr("design:paramtypes",[]),sr("design:returntype",void 0)],t.prototype,"checkPlayNext",null),t}(Je),fr=pr,hr=function(){return hr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},hr.apply(this,arguments)},gr={maxVideoNodeCount:1,advanceEndTime:0,prePlayNextTime:0};function vr(e){return hr(hr({},e),{originKernelConfig:hr(hr({},gr),e.originKernelConfig)})}var Ar=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,s.Z)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},yr=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,s.Z)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},_r=de("OrgPreLoader"),mr=function(){function e(e){var t;this.playerConfig=e,this._defer=new Ce,this._logger=new ue(e.instanceId,"OrgPreLoader"),this._evtMaps=((t={})[P.STATE_CHANGE]=this.firstLoadStateChangeHandler.bind(this),t[P.ERROR]=this.errorHandler.bind(this),t)}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._defer.promise},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoInfo",{get:function(){return this._videoInfo},enumerable:!1,configurable:!0}),e.prototype.getVideoNode=function(){var e;return null===(e=this._videoInfo)||void 0===e?void 0:e.extraVars.preloadVideoNode},e.prototype.errorHandler=function(e){this.preloadFail(e.data.videoInfo.error)},e.prototype.firstLoadStateChangeHandler=function(e){e.data.new===E.CANPLAY&&this.preloadSucc()},e.prototype.preloadSucc=function(){this._logger.log("preload url ready>>>>>> uid=".concat(this._videoInfo.uid)),this.clearInner(!0),this._evtDispatcher.emit(S.PRELOAD_VIDEONODE_OVER,{videoInfo:this._videoInfo}),this._defer.resolve()},e.prototype.preloadFail=function(e){this._logger.log("preload url fail>>>>>> uid: ".concat(this._videoInfo.uid)),this.clearInner(),this._evtDispatcher.emit(S.PRELOAD_VIDEONODE_ERROR,{videoInfo:this._videoInfo}),this._videoInfo.error=e,this._defer.reject(e)},e.prototype.setVideoNodeEvents=function(e){var t=this,n=this.getVideoNode();Object.keys(this._evtMaps).forEach((function(r){e?n.on(r,t._evtMaps[r]):n.off(r,t._evtMaps[r])}))},e.prototype.load=function(e,t,n,r){this._videoInfo=n,this._evtDispatcher=t,this.setVideoNodeEvents(!0),this._logger.log("load(), isFirstLoad=".concat(e)),this.getVideoNode().load(n,r)},e.prototype.clearInner=function(e,t){if(this._videoInfo){var n=this.getVideoNode();n&&(this._logger.log("clear(), uid=".concat(this._videoInfo.uid,"/keep=").concat(e)),this.setVideoNodeEvents(!1),e||(this._videoInfo.extraVars.preloadVideoNode=null,n.stop()),t&&this._evtDispatcher.emit(S.PRELOAD_VIDEONODE_CLEAR,{videoInfo:this._videoInfo}))}},e.prototype.clear=function(e){this.clearInner(e,!0)},Ar([_r,yr("design:type",Function),yr("design:paramtypes",[Boolean,Je,Object,Object]),yr("design:returntype",void 0)],e.prototype,"load",null),Ar([_r,yr("design:type",Function),yr("design:paramtypes",[Boolean]),yr("design:returntype",void 0)],e.prototype,"clear",null),e}(),Er=mr,Ir=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),br=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,s.Z)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Cr=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,s.Z)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},wr=de("MultiPlayer"),Sr=function(e){function t(t){var n,r=e.call(this,vr(t))||this;return r._needHideVideoNode=null,r._videonodeEventMap=((n={})[P.STATE_CHANGE]=r.onCurVideoNodeStateChange.bind(r),n),r}return Ir(t,e),Object.defineProperty(t,"canPlayType",{get:function(){return vt.supportVideoFormat()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportPreload",{get:function(){return vt.supportSameTimePlay()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"kernelName",{get:function(){return K.ORIGIN},enumerable:!1,configurable:!0}),t.prototype.seek=function(t){return!this.getLevelSwitching()&&e.prototype.seek.call(this,t)},t.prototype.createVideoNodes=function(t){e.prototype.createVideoNodes.call(this,t);for(var n=0;n<this._vnList.length;n++){var r=this._vnList[n];0===n?this._firstVideoNode=r:this.visibleVideoNode(r,!1)}},t.prototype.videonodeEventHandler=function(t){this._videonodeEventMap[t.type]&&this._videonodeEventMap[t.type](t),e.prototype.videonodeEventHandler.call(this,t)},t.prototype.onCurVideoNodeStateChange=function(e){if(e.data.new===E.PLAYING&&(this.switchVideoNode(),!this.currentVideoInfo.extraVars.isStartPlay)){this.currentVideoInfo.extraVars.isStartPlay=!0;var t=this.currentVideoInfo?this.currentVideoInfo.uid:null;this._logger.log("videoNodeStartPlay: uid[".concat(t,"]")),this.emit(S.VIDEONODE_START_PLAY,{videoInfo:this.currentVideoInfo})}},t.prototype.onVideoNodeStateChange=function(t){return!(this.getLevelSwitching()&&!Cn.includes(t.data.new))&&e.prototype.onVideoNodeStateChange.call(this,t)},t.prototype.pauseInner=function(t){void 0===t&&(t=T.INNER),this._prePlayNext?this._logger.warn("pause when preplaynext, return!!"):e.prototype.pauseInner.call(this,t)},t.prototype.resumeInner=function(){this.getLevelSwitching()?this._setLevelVideoNode.play():e.prototype.resumeInner.call(this)},t.prototype.loadInner=function(t,n){for(var r,o=(null===(r=this._vnList)||void 0===r?void 0:r.length)||0,i=0;i<o;i++)this.visibleVideoNode(this._vnList[i],!1);return e.prototype.loadInner.call(this,t,n)},t.prototype.playInner=function(e){if(this.checkBeforePlay()){this.playStartTime=e;var t=this._videoInfos[this._curUrlIdx],n=this.findPreloadIdxByVideoInfo(t);-1!==n?this.preloadToPlay(t,n):t.error?(this._logger.log("play(), got preload error"),this.stopInner(y.ERROR,!0,t)):this.enterVideoNodePlay(t)}},t.prototype.visibleVideoNode=function(e,t){var n;e&&e.videoElement&&(this.setVideoElementState(e.videoElement,t),this._logger.log(">>>visibleVideoNode<<<, value=".concat(t,"/uid=").concat(null===(n=e.currentVideoInfo)||void 0===n?void 0:n.uid)))},t.prototype.setVideoElementState=function(e,t){var n=t?this._volume:0;e.volume!==n&&(e.volume=n);var r=this._volume<=0||!t;e.muted!==r&&(e.muted=r),xe.css(e,"zIndex",t?"0":"-1"),xe.css(e,"visibility",t?"inherit":"hidden")},t.prototype.switchVideoNode=function(){if(this._needHideVideoNode&&this._curVideoNode!==this._needHideVideoNode){this._logger.log(">>>>>switchVideoNode<<<<<"),this.visibleVideoNode(this._curVideoNode,!0);var e=this._needHideVideoNode;this.visibleVideoNode(e,!1),e&&e.stop(),this._needHideVideoNode=null}},t.prototype.playNextInner=function(t){this._needHideVideoNode=this._curVideoNode,this._prePlayNext=!1,e.prototype.playNextInner.call(this,t)},t.prototype.appendAfter=function(e){var t=!this._curVideoNode||this._curVideoNode.state===E.IDLE;this._played&&this._curUrlIdx+1===this._videoInfos.indexOf(e)&&t&&this.playNextInner()},t.prototype.preparePreloader=function(e,t){this._logger.log("preparePreloader(), isFirstLoad=",e);var n=this.getIdleVideoNode();return n?(t.extraVars.preloadVideoNode=n,e&&(this.setCurVideoNode(n),this.visibleVideoNode(n,!0)),new Er(this._config)):null},t.prototype.getIdleVideoNode=function(){if(this._firstVideoNode){var e=this._firstVideoNode;return this._firstVideoNode=null,e}for(var t=null,n=this._vnList.length,r=0;r<n;r++)if(this._vnList[r].state===E.IDLE&&this._vnList[r]!==this._curVideoNode){t=this._vnList.splice(r,1)[0];break}return t&&this._vnList.push(t),t},t.prototype.getLevelSwitching=function(){return!!this._setLevelVideoNode},t.prototype.setLevelInner=function(e){var t=this.decideSetLevelMode(null==e?void 0:e.setLevelMode);return this._logger.log("setLevelMode=".concat(t)),t===v.HARD||t===v.SMOOTH?this._curVideoNode.setLevel(t):this.setLevelSoftMode()},t.prototype.switchVideoNodeWhenSetLevelSucc=function(e){this._logger.log(">>>>>switchLevelVideoNode<<<<<"),e===this._curVideoNode?this.visibleVideoNode(this._curVideoNode,!0):(this.visibleVideoNode(this._curVideoNode,!0),this.visibleVideoNode(e,!1),null==e||e.stop())},t.prototype.checkAccuratePlaytime=function(e,t){var n,r,o=this._config.originKernelConfig.prePlayNextTime,i=Math.abs(t-e);if(o>0&&i<o&&!this._prePlayNext){this._prePlayNext=!0;var a=this.findPreloadIdxByVideoInfo(this.nextVideoInfo);if(this.nextVideoInfo&&-1!==a){var s=null===(r=null===(n=this._preloaders[a])||void 0===n?void 0:n.videoInfo)||void 0===r?void 0:r.extraVars.preloadVideoNode;s&&(this._logger.log("preplay next!! idx/state: ".concat(s.idx,"/").concat(s.state)),s.play())}}this.checkAutoPreloadNext(i)},t.prototype.stopInner=function(t,n,r){void 0===t&&(t=y.NORMAL),void 0===n&&(n=!1),void 0===r&&(r=null),this._firstVideoNode=null,this._prePlayNext=!1,this.playStartTime=0,this.clearSetLevelThings(!0),e.prototype.stopInner.call(this,t,n,r)},t.prototype.destroy=function(){this._needHideVideoNode=null,this._setLevelVideoNode=null,this._firstVideoNode=null,this.playStartTime=0;var t=this.videoElements;e.prototype.destroy.call(this),t.forEach((function(e){e instanceof HTMLVideoElement&&(e.volume=1,e.muted=!1,xe.css(e,{zIndex:"0",visibility:"inherit"}),e.dataset.idx="0")}))},t.prototype.checkBeforePlay=function(){return this.getLevelSwitching()?(this._setLevelVideoNode.play(),this._logger.log("play(), setlevel"),!1):!(this._videoInfos.length<=0||!this._videoInfos[this._curUrlIdx])||(this._logger.warn("play(), !videoInfo"),!1)},t.prototype.emitStateChange=function(e,t){this.emit(S.STATE_CHANGE,{videoInfo:e,new:t,old:this._curVideoNode?this._curVideoNode.state:E.IDLE})},t.prototype.preloadToPlay=function(e,t){var n=this,r=0;e.hasFirstPlaying&&(r=window.setTimeout((function(){n.emitStateChange(e,E.BUFFERING)}),200)),this._preloaders[t].promise.then((function(){clearTimeout(r),n._logger.log("play(), preloadVideoNode succ, uid=".concat(e.uid)),n.enterVideoNodePlay(e,t)})).catch((function(t){n._logger.log("play(), preloadVideoNode error, uid=".concat(e.uid,"/error="),t),t.code in I&&(clearTimeout(r),e.error=t,n.stopInner(y.ERROR,!0,e))}))},t.prototype.enterVideoNodePlay=function(e,t){var n,r,o;void 0===t&&(t=-1);var i=-1!==t;this._logger.log("enterVideoNodePlay(), preloadSucc=".concat(i));var a=-1!==t?null===(r=null===(n=this._preloaders[t])||void 0===n?void 0:n.videoInfo)||void 0===r?void 0:r.extraVars.preloadVideoNode:null;(this.findIdleVideoNode(a),-1!==t)&&this._preloaders.splice(t,1)[0].clear(!0);this._needHideVideoNode?this._needHideVideoNode===this._curVideoNode?(this.visibleVideoNode(this._curVideoNode,!0),this._logger.log("visibleVideoNode, need==current")):i&&this.switchVideoNode():(this.visibleVideoNode(this._curVideoNode,!0),this._logger.log("visibleVideoNode, null need")),this._curVideoNode.state!==E.PLAYING&&this._curVideoNode.play(e,{startTime:this.playStartTime}),this.emit(S.VIDEONODE_CHANGE,{videoInfo:this.currentVideoInfo}),this._logger.log("enterMultiPlay(), uid=".concat(null===(o=this.currentVideoInfo)||void 0===o?void 0:o.uid,"/")+"urlIdx=".concat(this._curUrlIdx,"/state=").concat(this._curVideoNode.state)),i&&(0!==this._videoInfos.indexOf(this.currentVideoInfo)&&(this.emit(S.DURATION_CHANGE,{videoInfo:this.currentVideoInfo}),this.emitStateChange(this.currentVideoInfo,this._curVideoNode.state)),this.currentVideoInfo.extraVars.isStartPlay||(this.currentVideoInfo.extraVars.isStartPlay=!0,this._logger.log("videoNodeStartPlay: uid[".concat(this.currentVideoInfo.uid,"]")),this.emit(S.VIDEONODE_START_PLAY,{videoInfo:this.currentVideoInfo})))},t.prototype.findIdleVideoNode=function(e){var t,n=!1;if((t=e)||(t=this.getIdleVideoNode()),!t&&this._curVideoNode&&this._curVideoNode.state===E.IDLE&&(t=this._curVideoNode,n=!0),!t)throw this._logger.warn("can not find idle videonode!"),new Error("can not find idle videonode!");this.setCurVideoNode(t,n)},t.prototype.setLevelSoftMode=function(){var e=this,t=new Ce,n=this.currentVideoInfo;this._logger.log("setLevelInner(), uid: ".concat(n.uid)),this.pauseInner(),this.setPlayEvents(this._curVideoNode,!1),this.emit(S.SETLEVEL_START,{videoInfo:n,mode:v.SMOOTH}),this.setLoading(!0);var r=this._curVideoNode.playtime,o=this.getIdleVideoNode();o?this.visibleVideoNode(o,!1):(this._curVideoNode.stop(),o=this._curVideoNode),n.extraVars.isLoadstarted=!1,this._setLevelVideoNode=o,this._setLevelVideoNode.setLevelEvtMap={};var i=this._curVideoNode;return this.setCurVideoNode(o,!0),o.setLevelEvtMap[P.STATE_CHANGE]=function(r){r.data.new===E.PLAYING&&e.setLevelSoftModeHandler(n,t,i)},o.setLevelEvtMap[P.ERROR]=function(r){e.setLevelSoftModeHandler(n,t)},o.on(P.STATE_CHANGE,o.setLevelEvtMap[P.STATE_CHANGE]),o.on(P.ERROR,o.setLevelEvtMap[P.ERROR]),o.play(n,{startTime:r}),t.promise},t.prototype.clearSetLevelThings=function(e){if(this.getLevelSwitching()){var t=this._setLevelVideoNode;t.setLevelEvtMap&&(Object.keys(t.setLevelEvtMap).forEach((function(e){t.off(e,t.setLevelEvtMap[e])})),t.setLevelEvtMap=null),e||t.stop(),this.clearAllPreloadInner(),this._setLevelVideoNode=null}},t.prototype.setLevelSoftModeHandler=function(e,t,n){var r;void 0===n&&(n=null);var o=!!n;this._logger.log("setLevel succ>>>>>> ".concat(o," uid: ").concat(e.uid)),this.clearSetLevelThings(o),o?(this.switchVideoNodeWhenSetLevelSucc(n),t.resolve()):(this.rollbackLevelVideoNode(),t.reject(new Error("setLevel failed, ".concat(null===(r=e.error)||void 0===r?void 0:r.message)))),this.emit(S.SETLEVEL_OVER,{videoInfo:e,fail:!o}),this.setLoading(!1)},t.prototype.rollbackLevelVideoNode=function(){this._logger.log(">>>>>rollbackLevelVideoNode<<<<<"),this._urlBeforeSetLevel&&(Object.assign(this.currentVideoInfo.config,this._urlBeforeSetLevel),this.currentVideoInfo.reset(),this._urlBeforeSetLevel=null),this.setPlayEvents(this._curVideoNode,!0),this.resumeInner()},t.isEnvSupport=!0,br([wr,Cr("design:type",Function),Cr("design:paramtypes",[Number]),Cr("design:returntype",void 0)],t.prototype,"playInner",null),br([wr,Cr("design:type",Function),Cr("design:paramtypes",[]),Cr("design:returntype",void 0)],t.prototype,"switchVideoNode",null),t}(fr),xr=Sr,Pr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pr(t,e),t.prototype.playInner=function(e){var t=this._videoInfos[0];this.setPlayEvents(this._curVideoNode,!0),this._curVideoNode.play(t),this.emit(S.VIDEONODE_CHANGE,{videoInfo:t})},t.prototype.resumeInner=function(){var e;this._played&&(null===(e=this._curVideoNode)||void 0===e?void 0:e.currentVideoInfo)&&this._curVideoNode.videoplay()},t.prototype.loadInner=function(t,n){return!!e.prototype.loadInner.call(this,t,n)&&(this.setCurVideoNode(this._vnList[0]),this._curVideoNode.load(this._videoInfos[0]),!0)},t.prototype.appendAfter=function(e){},t.prototype.checkAccuratePlaytime=function(e,t){},t.prototype.preparePreloader=function(e,t){return null},t.prototype.getIdleVideoNode=function(){return this._vnList[0]},t.prototype.setLevelInner=function(e){return this._curVideoNode.setLevel(e.setLevelMode)},t.prototype.playBlocked=function(){e.prototype.playBlocked.call(this),this.pause()},Object.defineProperty(t.prototype,"supportPreload",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportPlaybackRate",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextVideoInfo",{get:function(){return this.currentVideoInfo},enumerable:!1,configurable:!0}),t}(fr),Dr=Tr;["seek","hasAppended","hasPreloaded","playNext","appendNext","preloadNext","clearAllPreload","appendAfter","checkPlayNext","playNextInner","checkAutoPreloadNext","clearAllPreloadInner"].forEach((function(e){Tr.prototype[e]=function(){console.warn("[thumbplayer] ".concat(e,"() is not support due to live stream"))}}));var Or=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nr=function(e){function t(t){return e.call(this,vr(t))||this}return Or(t,e),Object.defineProperty(t.prototype,"kernelName",{get:function(){return K.ORIGIN},enumerable:!1,configurable:!0}),t}(Dr),Rr=function(){function e(e){return e.type===A.LIVE?new Nr(e):new xr(e)}return Object.defineProperty(e,"canPlayType",{get:function(){return vt.supportVideoFormat()},enumerable:!1,configurable:!0}),e.isEnvSupport=!0,e.VERSION=W,e.BUILD_TIME=Y,e}();Zt.registerKernel(K.ORIGIN,Rr),window.ThumbPlayerCore=r;var kr=n(8451),Lr={};function Br(e,t){Lr[e]=t}function Mr(e){return Lr[e]}var Qr,Vr="__thumbplayer-ad";function Fr(e){return-1!==[Qr.PRE,Qr.POST].indexOf(e.adType)}!function(e){e.PRE="preAd",e.ZT="ZT",e.POST="postAd"}(Qr||(Qr={}));var Ur,Kr,jr,Hr,qr={container:void 0,enableQAreporter:!0,maxRetryGetinfoTimes:3,maxRetryGetinfoTimesInVodSession:10,maxRetryGetinfoTimesInLiveSession:30};!function(e){e.SUC="0",e.UNKNOWN="70040000",e.AD_END_DEFAULT_FAIL="70040002",e.AD_REQ_INFO_DEFAULT_FAIL="70040003",e.GETINFO_PLUGIN_MISSING="70040001",e.GETINFO_NET="70014001",e.GETINFO_TIMEOUT="70014003",e.GETINFO_PARSE="70014004",e.GETINFO_INNER="70014005",e.GETINFO_SERVER_CODE_PREFIX="70013",e.GETINFO_LIVE_SERVER_CODE_PREFIX="70023",e.GETINFO_UNIFIED_LIVE_SERVER_CODE_PREFIX="70033",e.UNPAIED_1080P="70013091.0"}(Ur||(Ur={})),function(e){e.GETINFO_PLUGIN_MISSING="\u6ca1\u6709\u627e\u5230\u83b7\u53d6\u89c6\u9891\u4fe1\u606f\u63d2\u4ef6",e.GETINFO_INNER="\u83b7\u53d6\u89c6\u9891\u4fe1\u606f\u5185\u90e8\u9519\u8bef",e.GETINFO_NET="\u65e0\u6cd5\u83b7\u53d6\u89c6\u9891\u4fe1\u606f",e.GETINFO_TIMEOUT="\u83b7\u53d6\u89c6\u9891\u4fe1\u606f\u8d85\u65f6",e.GETINFO_PARSE="\u89c6\u9891\u4fe1\u606f\u65e0\u6cd5\u89e3\u6790",e.GETINFO_CODE="\u64ad\u653e\u540e\u53f0\u8fd4\u56de\u9519\u8bef"}(Kr||(Kr={})),function(e){e.AD_COUNTDOWN_CHANGE="AD_COUNTDOWN_CHANGE",e.SET_LOADING="SET_LOADING",e.PROXY_HTTP_START="PROXY_HTTP_START",e.PROXY_HTTP_END="PROXY_HTTP_END",e.GETINFO_START="GETINFO_START",e.GETINFO_OVER="GETINFO_OVER",e.PRELOAD_GETINFO_OVER="PRELOAD_GETINFO_OVER",e.VID_CHANGE="VID_CHANGE",e.DESTROY="DESTROY",e.DATASET_UPDATE="data-set:update",e.DATASET_STATE_UPDATE="data-set:stateUpdate",e.RETRY_PLAY="retryPlay",e.DEGRADE_CODEC_PLAY="degradeCodecPlay",e.FLOW_NODE_PRELOAD="FLOW_NODE_PRELOAD",e.FLOW_NODE_START="FLOW_NODE_START",e.FLOW_NODE_END="FLOW_NODE_END",e.FLOW_NODE_ABORT="FLOW_NODE_ABORT"}(jr||(jr={})),function(e){e.PLAY_SESSION_START="PLAY_SESSION_START",e.AD_REQ_INFO_START="AD_REQ_INFO_START",e.AD_REQ_INFO_END="AD_REQ_INFO_END",e.AD_REQ_ASSETS_START="AD_REQ_ASSETS_START",e.AD_AUTOPLAY_BLOCKED="AD_AUTOPLAY_BLOCKED",e.AD_PLAYING="AD_PLAYING",e.AD_VOLUME_CHANGE="AD_VOLUME_CHANGE",e.AD_ASSETS_LOADED="AD_ASSETS_LOADED",e.AD_PAUSE="AD_PAUSE",e.AD_RESUME="AD_RESUME",e.AD_END="AD_END",e.AD_TIME_UPDATE="AD_TIME_UPDATE",e.VIDEO_REQ_INFO_START="VIDEO_REQ_INFO_START",e.VIDEO_REQ_INFO_END="VIDEO_REQ_INFO_END",e.VIDEO_LOAD_START="VIDEO_LOAD_START",e.VIDEO_LOAD_PROGRESS="VIDEO_LOAD_PROGRESS",e.VIDEO_DURATION_CHANGE="VIDEO_DURATION_CHANGE",e.VIDEO_METADATA_CHANGE="VIDEO_METADATA_CHANGE",e.VIDEO_TIMEUPDATE="VIDEO_TIMEUPDATE",e.VIDEO_VOLUME_CHANGE="VIDEO_VOLUME_CHANGE",e.VIDEO_RATE_CHANGE="VIDEO_RATE_CHANGE",e.VIDEO_CANPLAY="VIDEO_CANPLAY",e.VIDEO_PLAYING="VIDEO_PLAYING",e.VIDEO_AUTOPLAY_BLOCKED="VIDEO_AUTOPLAY_BLOCKED",e.VIDEO_PAUSE="VIDEO_PAUSE",e.VIDEO_BUFFERING="VIDEO_BUFFERING",e.VIDEO_SEEKING="VIDEO_SEEKING",e.VIDEO_SEEKED="VIDEO_SEEKED",e.VIDEO_SETLEVEL_START="VIDEO_SETLEVEL_START",e.VIDEO_SETLEVEL_END="VIDEO_SETLEVEL_END",e.VIDEO_RESIZE="VIDEO_RESIZE",e.VIDEO_END="VIDEO_END",e.PLAY_SESSION_END="PLAY_SESSION_END"}(Hr||(Hr={}));var Gr={},Yr=function(e){return Object.prototype.hasOwnProperty.call(Gr,e)},Wr=function(e){return Yr(e)?Gr[e]:void 0};function zr(e,t){if("string"!=typeof e)throw new Error('Illegal plugin name, "'.concat(e,'", must be a string, was ').concat((0,s.Z)(e),"."));if("function"!=typeof t)throw new Error('Illegal plugin for "'.concat(e,'", must be a function, was ').concat((0,s.Z)(t),"."));if(!Yr(e))return Gr[e]=t,t;console.warn('A plugin named "'.concat(e,'" already exists. You may want to avoid re-registering plugins!'))}function Jr(e){Yr(e)&&delete Gr[e]}function Zr(e){var t;return void 0===e&&(e=Object.keys(Gr)),e.forEach((function(e){var n=Wr(e);n&&((t=t||{})[e]=n)})),t}var Xr=Object.values(Hr),$r=function(e){function t(n,r,o){var i=this.constructor,a=e.call(this)||this;if(a.player=n,a.config=r,a.hookMap={},i===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");a.logger_=new ue(n.config.instanceId,a.constructor.pluginName);var s=(o||{}).msg;return a.msg=s,a.registerHook(),a}return c(t,e),t.prototype.log=function(){for(var e,t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];null===(t=(e=this.logger_).log)||void 0===t||t.call.apply(t,g([e],n,!1))},t.prototype.warn=function(){for(var e,t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];null===(t=(e=this.logger_).warn)||void 0===t||t.call.apply(t,g([e],n,!1))},t.prototype.error=function(){for(var e,t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];null===(t=(e=this.logger_).error)||void 0===t||t.call.apply(t,g([e],n,!1))},t.prototype.debug=function(){for(var e,t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];null===(t=(e=this.logger_).debug)||void 0===t||t.call.apply(t,g([e],n,!1))},t.prototype.info=function(){for(var e,t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];null===(t=(e=this.logger_).info)||void 0===t||t.call.apply(t,g([e],n,!1))},t.prototype.hasPlugin=function(e){return!!Yr(e)},t.prototype.destroy=function(){var e,t=this.player,n=this.name;(null===(e=t.plugins)||void 0===e?void 0:e[n])&&delete t.plugins[n],this.unRegisterHook(),this.hookMap=null,this.player=null,this.removeAllListeners()},t.prototype.hookPlaySessionStart=function(e){},t.prototype.hookAdReqInfoStart=function(e){},t.prototype.hookAdReqInfoEnd=function(e){},t.prototype.hookAdReqAssetsStart=function(e){},t.prototype.hookAdAutoplayBlocked=function(e){},t.prototype.hookAdPlaying=function(e){},t.prototype.hookAdVolumeChange=function(e){},t.prototype.hookAdAssetsLoaded=function(e){},t.prototype.hookAdPause=function(e){},t.prototype.hookAdResume=function(e){},t.prototype.hookAdEnd=function(e){},t.prototype.hookAdTimeUpdate=function(e){},t.prototype.hookVideoReqInfoStart=function(e){},t.prototype.hookVideoReqInfoEnd=function(e){},t.prototype.hookVideoLoadStart=function(e){},t.prototype.hookVideoMetadataChange=function(e){},t.prototype.hookVideoLoadProgress=function(e){},t.prototype.hookVideoDurationChange=function(e){},t.prototype.hookVideoTimeupdate=function(e){},t.prototype.hookVideoVolumeChange=function(e){},t.prototype.hookVideoResize=function(e){},t.prototype.hookVideoRateChange=function(e){},t.prototype.hookVideoCanplay=function(e){},t.prototype.hookVideoPlaying=function(e){},t.prototype.hookVideoAutoplayBlocked=function(e){},t.prototype.hookVideoPause=function(e){},t.prototype.hookVideoBuffering=function(e){},t.prototype.hookVideoSeeking=function(e){},t.prototype.hookVideoSeeked=function(e){},t.prototype.hookVideoSetlevelStart=function(e){},t.prototype.hookVideoSetlevelEnd=function(e){},t.prototype.hookVideoEnd=function(e){},t.prototype.hookPlaySessionEnd=function(e){},t.prototype.registerHook=function(){var e=this;Xr.forEach((function(t){var n=no(t);e.hookMap[t]=function(t){var r;return null===(r=e[n])||void 0===r?void 0:r.call(e,t.data)},e.player.on(t,e.hookMap[t])}))},t.prototype.unRegisterHook=function(){var e=this;Xr.forEach((function(t){e.hookMap[t]&&e.player.off(t,e.hookMap[t])}))},t.VERSION="",t.pluginName="",t}(Je);function eo(e){var t="string"==typeof e?Wr(e):e;return"function"==typeof t&&!Object.prototype.isPrototypeOf.call($r.prototype,t.prototype)}function to(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o,i=n[0];if(eo(t))o=t.apply(i,n);else{var a=t;a.prototype.name=e,o=new(a.bind.apply(a,g([void 0],n,!1)))}return o&&(i.plugins[e]=o),o}function no(e){return"hook"+e.toLowerCase().replace(/^[a-z]/,(function(e){return e.toUpperCase()})).replace(/_[a-z]/g,(function(e){return e[1].toUpperCase()}))}function ro(e){return"string"==typeof e||"number"==typeof e}var oo,io,ao,so,lo,co,uo={NONE:0,CHACHA:3,FAIR_PLAY:4,WIDEVINE:5,ChinaDRM:6},po={NONE:0,CHACHA:8,FAIR_PLAY:16,WIDEVINE:32};!function(e){e.UPDATE="data-set:update",e.STATE_UPDATE="data-set:stateUpdate"}(oo||(oo={})),function(e){e.INIT="PLAYER:init",e.SESSION_START="PLAYER:session_start",e.SESSION_END="PLAYER:session_end",e.GET_INFO="PLAYER:getinfo",e.GET_INFO_START="PLAYER:getinfo_start",e.GET_INFO_END="PLAYER:getinfo_end",e.SUBTITLE="PLAYER:subtitle",e.SUBTITLE_START="PLAYER:subtitle_start",e.SUBTITLE_END="PLAYER:subtitle_end",e.LOAD_START="PLAYER:load_start",e.LOAD_END="PLAYER:load_end",e.LOAD="PLAYER:load",e.BUFFER="PLAYER:buffer",e.BUFFER_START="PLAYER:buffer_start",e.BUFFER_END="PLAYER:buffer_end",e.SEEK="PLAYER:seek",e.SEEK_START="PLAYER:seek_start",e.SEEK_END="PLAYER:seek_end",e.USER_SEEK_START="PLAYER:user_seek_start",e.USER_SEEK_END="PLAYER:user_seek_end",e.END="PLAYER:end",e.ERROR="PLAYER:error",e.FATAL_ERROR="PLAYER:fatal_error",e.FIRST_PLAY="PLAYER:firstPlay",e.IDLE="PLAYER:idle",e.PLAYING="PLAYER:playing",e.SET_LEVEL="PLAYER:setLevel",e.SET_LEVEL_START="PLAYER:setLevel_start",e.SET_LEVEL_END="PLAYER:setLevel_end",e.PAUSE="PLAYER:pause",e.PAUSE_START="PLAYER:pause_start",e.PAUSE_END="PLAYER:pause_end",e.SET_RATE="PLAYER:setRate",e.RETRY_BACKURL="PLAYER:retryBackUrl",e.RETRY_PLAY="PLAYER:retryPlay",e.AUTO_PLAY_BLOCKED="PLAYER:autoplayBlocked",e.CODEC_DEGRADE="PLAYER:codecDegrade"}(io||(io={})),function(e){e.USER_ACTION="log:userAction",e.PLUGIN_ACTION="log:pluginAction",e.CORE_EVENT="log:coreEvent",e.API_INVOKE="log:apiInvoke",e.UNCATEGORIZED="log:uncategorized"}(ao||(ao={})),function(e){e[e.NETWORK_UNSTABLE=1400027]="NETWORK_UNSTABLE",e[e.PARALLEL_DOWNLOAD=1400028]="PARALLEL_DOWNLOAD",e[e.CDN_NO_CONNECTION=1400007]="CDN_NO_CONNECTION",e[e.CDN_URL_SWITCH_SUCCESS=1400029]="CDN_URL_SWITCH_SUCCESS",e[e.CDN_SLOW=1400030]="CDN_SLOW",e[e.CDN_URL_SWITCH_UNSUCCESS=1400031]="CDN_URL_SWITCH_UNSUCCESS",e[e.CDN_TIMEOUT=1400026]="CDN_TIMEOUT",e[e.CDN_TIMEOUT_URL_SWITCH=1400032]="CDN_TIMEOUT_URL_SWITCH",e[e.BYTERATE_ERROR=1400033]="BYTERATE_ERROR",e[e.DOWNLOAD_TOO_SHORT=1400034]="DOWNLOAD_TOO_SHORT",e[e.P2P_UPLOAD_SLOW=1400035]="P2P_UPLOAD_SLOW",e[e.DEFAULT=0]="DEFAULT"}(so||(so={})),function(e){e.GUID="thumbplayer-h5-guid",e.VOLUME="thumbplayer-h5-volume"}(lo||(lo={})),function(e){e.definition="user-setting:definition",e.volume="user-setting:volume",e.playbackRate="user-setting:playbackRate",e.subtitle="user-setting:subtitle",e.audioTrack="user-setting:audioTrack"}(co||(co={}));var fo,ho={loginid:"",loginex:"",logintype:"",hh_ip:"",hc_main_login:"",hc_vuserid:"",hc_openid:"",hc_appid:"",hc_access_token:"",hc_vuession:"",vip:0,codec:N.H264,freetype:0,videoCapability:"",mobile:0,guid:"",ua:"",uip:"",device:"",resolution:"",osver:"",p2pver:"",appVer:"",playerver:"",playertype:0,playercore:"",confid:"",downloadkit:0,online:1,p2p:0,sstrength:0,network:0,testid:0,curcore:"",curcorever:"",speed:0,quic:0,platform:"",flowid:"",vid:"",cid:"",columnId:"",livepid:"",interactid:"",url:"",referrer:"",topUrl:"",drm:0,drmtype:0,fmt:0,cdnid:0,dltype:"",rate:0,clip:0,status:0,duration:0,isPreload:0,type:0,cdnuip:"",cdnip:"",ptag:"",sdtfrom:"",authfrom:"",currentDefnList:[],currentDefn:"",currentAudioTrack:0,currentAudioTrackList:[],currentSubtitle:"",currentSubtitleList:[],sessionBufferCount:0,sessionRetryBackUrlCount:0,sessionRetryPlayCount:0},go={};Object.keys(ho).forEach((function(e){return go[e]=e}));var vo="thumbplayer-h5-dataset",Ao=((fo={})[tt.Widevine]=uo.WIDEVINE,fo[tt.FairPlay]=uo.FAIR_PLAY,fo[tt.FairPlayWebKit]=uo.FAIR_PLAY,fo.none=uo.NONE,fo),yo=0,_o=function(e){function t(n,r,o){var i=e.call(this,n,r,o)||this;return i.player=n,i.isSeeking=!1,i.isBuffering=!1,i.isSettingLevel=!1,i.isLoading=!1,i.lastPlay=0,i.playDuration=0,i.prevPlayTimeS=0,i.sessionBufferCount=0,i.sessionRetryBackUrlCount=0,i.sessionRetryPlayCount=0,i.commonMapFreeze={},i.stateMapFreeze={},i.isLive=!1,i.isAdPlaying=!1,i.evtIdMap={},i.writeCommon=function(e,n,r){var o=i.commonMap[e];return i.commonMap[e]=n,t.canUseProxy||i.emit(oo.UPDATE,{key:e,oldVal:o,newVal:n}),!!r&&i.freeze("common",e,r)},i.writeState=function(e,n,r){var o=n.type||ao.UNCATEGORIZED,a=i.stateMap[e],s=i.getStartEventData(e);return i.stateMap[e]=u(u(u({},o===ao.CORE_EVENT?i.stats:{}),{type:o,ftime:+new Date,name:e,eventId:i.generateEvtId()}),n),!t.canUseProxy&&i.commonMap[go.flowid]&&i.emit(oo.STATE_UPDATE,{key:e,oldVal:a,newVal:i.stateMap[e],startEvent:s}),!!r&&i.freeze("state",e,r)},i.onClose=function(){var e=+new Date;return{code:Ur.SUC,playDuration:i.playDuration,ftime:e}},i.getStats=function(){return u(u({playDuration:i.playDuration},i.stats),i.visualStats)},i.generateFlowId=function(){return J.Z.createGUID(32)},i.generateEvtId=function(){return J.Z.createGUID(8)},i.getStartEventData=function(e){var t;return((t={})[io.SEEK_END]=i.stateMap[io.SEEK_START],t[io.BUFFER_END]=i.stateMap[io.BUFFER_START],t[io.LOAD_END]=i.stateMap[io.LOAD_START],t[io.SET_LEVEL_END]=i.stateMap[io.SET_LEVEL_START],t[io.PAUSE_END]=i.stateMap[io.PAUSE_START],t[io.GET_INFO_END]=i.stateMap[io.GET_INFO_START],t)[e]},i.resetState=function(){i.isBuffering=!1,i.isSeeking=!1,i.isSettingLevel=!1},i.finalCleanup=function(e,t){var n,r,o=t.error,a=t.loadingUrl,s=t.config,l=null!==(r=null===(n=null==s?void 0:s.backupUrls)||void 0===n?void 0:n.findIndex((function(e){return e===a})))&&void 0!==r?r:-1;i.isSeeking&&(i.writeState(io.SEEK_END,{currentUrl:a,urlIndex:l,type:ao.CORE_EVENT,ftime:e,error:o,code:(null==o?void 0:o.code)||Ur.SUC,name:io.SEEK_END,eventId:i.evtIdMap[io.SEEK_START]}),i.isSeeking=!1),i.isBuffering&&(i.writeState(io.BUFFER_END,{currentUrl:a,urlIndex:l,type:ao.CORE_EVENT,ftime:e,code:(null==o?void 0:o.code)||Ur.SUC,error:o,name:io.BUFFER_END,eventId:i.evtIdMap[io.BUFFER_START]}),i.isBuffering=!1),i.isSettingLevel&&(i.isSettingLevel=!1,i.writeState(io.SET_LEVEL_END,{currentUrl:a,urlIndex:l,type:ao.CORE_EVENT,ftime:e,code:(null==o?void 0:o.code)||Ur.SUC,error:o,name:io.SET_LEVEL_END,eventId:i.evtIdMap[io.SET_LEVEL_START]})),i.isLoading&&(i.isLoading=!1,i.writeState(io.LOAD_END,{type:ao.CORE_EVENT,currentUrl:a,urlIndex:l,ftime:e,error:o,code:(null==o?void 0:o.code)||Ur.SUC,name:io.LOAD_END,eventId:i.evtIdMap[io.LOAD_START]})),i.isAdPlaying=!1},i.onAutoplayBlocked=function(e){i.writeState(io.AUTO_PLAY_BLOCKED,{type:ao.CORE_EVENT,name:io.AUTO_PLAY_BLOCKED,eventId:i.generateEvtId(),ftime:+new Date})},i.onAdPlaying=function(e){e.data.adType===Qr.PRE&&(i.isAdPlaying=!0)},i.onAdEnd=function(e){e.data.adType===Qr.PRE&&(i.isAdPlaying=!1)},i.onRetryLoad=function(e){var t=e.data,n=t.prevUrl,r=t.curUrl,o=t.error,a=void 0===o?{}:o;i.writeState(io.RETRY_BACKURL,{type:ao.CORE_EVENT,name:io.RETRY_BACKURL,eventId:i.generateEvtId(),prevUrl:n,currentUrl:r,ftime:+new Date,error:a,code:null==a?void 0:a.code}),i.sessionRetryBackUrlCount++,i.writeCommon(go.sessionRetryBackUrlCount,i.sessionRetryBackUrlCount)},i.onRetryPlay=function(e){var t=e.data.retryTimes,n=void 0===t?0:t;i.writeState(io.RETRY_PLAY,{type:ao.CORE_EVENT,name:io.RETRY_PLAY,eventId:i.generateEvtId(),ftime:+new Date,ext:{retryTimes:n}}),i.sessionRetryPlayCount++,i.writeCommon(go.sessionRetryPlayCount,i.sessionRetryPlayCount)},i.onBuffering=function(e){if(!i.isBuffering){i.isBuffering=!0;var t=i.generateEvtId();i.evtIdMap[io.BUFFER_START]=t,i.writeState(io.BUFFER_START,{type:ao.CORE_EVENT,name:io.BUFFER_START,eventId:t,prevState:e.old,ftime:+new Date}),i.sessionBufferCount++,i.writeCommon(go.sessionBufferCount,i.sessionBufferCount)}},i.onLoadStart=function(e){var t,n,r,o,a,s,l,c,u;i.resetState();var d=null===(t=e.videoInfo)||void 0===t?void 0:t.config,p=+new Date;i.writeCommon(go.curcore,i.player.kernelName);var f=null===(n=Zt.getKernelByName(i.player.kernelName))||void 0===n?void 0:n.VERSION;i.writeCommon(go.curcorever,f),i.writeCommon(go.drmtype,Ao[(null===(r=d.drmConfig)||void 0===r?void 0:r.keySystem)||"none"]),i.writeCommon(go.playertype,i.player.kernelName===K.ORIGIN?"0":"1");var h=null===(s=null===(a=null===(o=i.player.corePlayer)||void 0===o?void 0:o.kernel)||void 0===a?void 0:a.getP2P)||void 0===s?void 0:s.call(a);if(i.writeCommon(go.p2pver,null!==(c=null===(l=null==h?void 0:h.getVersion)||void 0===l?void 0:l.call(h))&&void 0!==c?c:0),i.writeCommon(go.p2p,h?"1":"0"),i.player.kernelName===K.HLS_JS&&!h){var g=+(null!==(u=i.player.config.enableP2P)&&void 0!==u?u:2),v=+!!i.player.currentVideoInfo.config.p2pConfig;i.writeCommon(go.confid,"7003".concat(g).concat(v))}i.isLoading=!0;var A=i.generateEvtId();i.evtIdMap[io.LOAD_START]=A,i.writeState(io.LOAD_START,{type:ao.CORE_EVENT,eventId:A,name:io.LOAD_START,ftime:p})},i.onEnd=function(e){i.writeState(io.END,{type:ao.CORE_EVENT,name:io.END,eventId:i.generateEvtId(),ftime:+new Date,ext:{playDuration:i.playDuration},code:Ur.SUC})},i.onIdle=function(e,t){},i.onSeeking=function(e){var t,n,r=+new Date;i.isSeeking&&i.writeState(io.SEEK_END,{type:ao.CORE_EVENT,name:io.SEEK_END,ftime:r,eventId:i.evtIdMap[io.SEEK_START],ext:{isUserSeek:(null===(n=null===(t=i.stateMap[io.SEEK_START])||void 0===t?void 0:t.ext)||void 0===n?void 0:n.isUserSeek)||!1}}),i.isLive||i.resetState(),i.isSeeking=!0;var o=i.generateEvtId();i.evtIdMap[io.SEEK_START]=o,i.writeState(io.SEEK_START,{type:ao.CORE_EVENT,ftime:r,name:io.SEEK_START,eventId:o,ext:{inBufferedRange:vt.checkTimeInBuffer(e.seekingTime,i.player.videoBuffered),isUserSeek:e.isUserSeek}})},i.onSeeked=function(e){i.isSeeking&&(i.isSeeking=!1,i.writeState(io.SEEK_END,{type:ao.CORE_EVENT,eventId:i.evtIdMap[io.SEEK_START],ftime:+new Date,name:io.SEEK_END,ext:{isUserSeek:e.isUserSeek},code:Ur.SUC}))},i.onPause=function(e){var t=e.pauseType,n=i.generateEvtId();i.evtIdMap[io.PAUSE_START]=n,i.writeState(io.PAUSE_START,{type:ao.CORE_EVENT,ftime:+new Date,name:io.PAUSE_START,eventId:n,pauseType:t})},i.onPlaying=function(e){var t=+new Date;i.isBuffering&&(i.writeState(io.BUFFER_END,{type:ao.CORE_EVENT,name:io.BUFFER_END,ftime:t,eventId:i.evtIdMap[io.BUFFER_START]}),i.isBuffering=!1),i.lastPlay=t,i.evtIdMap[io.PAUSE_START]&&(i.writeState(io.PAUSE_END,{type:ao.CORE_EVENT,name:io.PAUSE_END,eventId:i.evtIdMap[io.PAUSE_START],ftime:t,code:Ur.SUC}),delete i.evtIdMap[io.PAUSE_START])},i.onCanPlay=function(e){if(i.isLoading){var t=+new Date;i.writeState(io.LOAD_END,{type:ao.CORE_EVENT,ftime:t,name:io.LOAD_END,eventId:i.evtIdMap[io.LOAD_START],code:Ur.SUC,ext:{isAdPlaying:i.isAdPlaying}}),i.isLoading=!1}},i.onCodecDegrade=function(e){var t,n=+new Date;i.writeState(io.CODEC_DEGRADE,{type:ao.CORE_EVENT,ftime:n,name:io.CODEC_DEGRADE,code:null!==(t=e.data.degradeReason)&&void 0!==t?t:Ur.SUC})},i.onSetLevelStart=function(e){var t=+new Date;i.isSeeking&&(i.isSeeking=!1,i.writeState(io.SEEK_END,{type:ao.CORE_EVENT,name:io.SEEK_END,ftime:t,eventId:i.evtIdMap[io.SEEK_START]})),i.resetState(),i.isSettingLevel=!0;var n=i.generateEvtId();i.evtIdMap[io.SET_LEVEL_START]=n,i.writeState(io.SET_LEVEL_START,{type:ao.CORE_EVENT,ftime:t,eventId:n,name:io.SET_LEVEL_START,ext:{defn:i.commonMap.currentDefn,mode:e.data.mode}})},i.onSetLevelEnd=function(e){var t=e.data,n=((void 0===t?{}:t).videoInfo||{}).error;i.isSettingLevel=!1,i.writeCommon(go.curcore,i.player.kernelName),i.writeState(io.SET_LEVEL_END,{type:ao.CORE_EVENT,name:io.SET_LEVEL_END,ftime:+new Date,eventId:i.evtIdMap[io.SET_LEVEL_START],error:n,code:(null==n?void 0:n.code)||Ur.SUC})},i.onError=function(e){var t,n,r=(e.data||{}).videoInfo,o=r||{},a=o.error,s=o.state,l=o.currentFragSn,c=o.currentFragUrl,u=o.loadingUrl,d=o.config,p=+new Date;i.writeState(io.ERROR,{currentUrl:u,urlIndex:null!==(n=null===(t=null==d?void 0:d.backupUrls)||void 0===t?void 0:t.findIndex((function(e){return e===u})))&&void 0!==n?n:-1,type:ao.CORE_EVENT,name:io.ERROR,eventId:i.generateEvtId(),fragUrl:c,ext:{fragSn:l},code:a.code,error:a,ftime:p,prevState:s}),i.finalCleanup(p,r)},i.onDurationChange=function(e){var t=e.data,n=((void 0===t?{}:t).videoInfo||{}).duration,r=void 0===n?0:n;i.commonMap.duration=r},i.onFirstPlay=function(e){var t=+new Date;i.writeState(io.FIRST_PLAY,{type:ao.CORE_EVENT,name:io.FIRST_PLAY,ftime:t,eventId:i.generateEvtId()})},i.onTimeChange=function(e){var t=Math.floor(i.player.playtime);t&&t!==i.prevPlayTimeS&&(i.prevPlayTimeS=t,i.playDuration||(i.playDuration=0),i.playDuration+=1)},i.onStateChange=function(e){var t,n=e.data,r=n.new,o=((t={})[E.BUFFERING]=i.onBuffering,t[E.LOAD_START]=i.onLoadStart,t[E.END]=i.onEnd,t[E.IDLE]=i.onIdle,t[E.SEEKING]=i.onSeeking,t[E.SEEKED]=i.onSeeked,t[E.PAUSE]=i.onPause,t[E.PLAYING]=i.onPlaying,t[E.CANPLAY]=i.onCanPlay,t[E.SEEKING]=i.onSeeking,t);o[r]&&o[r](n)},i.onRateChange=function(e){i.writeState(io.SET_RATE,{type:ao.CORE_EVENT,name:io.SET_RATE,eventId:i.generateEvtId(),ftime:+new Date})},i.onVideoReqInfoStart=function(){var e=i.generateEvtId();i.evtIdMap[io.GET_INFO_START]=e,i.writeState(io.GET_INFO_START,{type:ao.CORE_EVENT,name:io.GET_INFO_START,eventId:e,ftime:+new Date})},i.onVideoReqInfoEnd=function(e){var t=e.data,n=t.code,r=t.data,o=void 0===r?{}:r;i.sessionRetryBackUrlCount=0,i.evtIdMap[io.GET_INFO_START]&&i.writeState(io.GET_INFO_END,{type:ao.CORE_EVENT,name:io.GET_INFO_END,code:n,ext:{reqBody:Ee.object2string(o.reqParams||{},"&"),reqPath:o.reqPath||"",retryCount:o.alreadyRetryCount||0},error:o.error||{},eventId:i.evtIdMap[io.GET_INFO_START],ftime:+new Date})},i.onPlaySessionStart=function(e){var t=e.data;i.writeCommon(go.flowid,t.flowid),i.writeCommon(go.isPreload,Number(t.isPreload)),ro(t.playItem)&&i.writeCommon(go.vid,t.playItem),i.emit(oo.STATE_UPDATE,{key:io.INIT,oldVal:void 0,newVal:i.stateMap[io.INIT],startEvent:void 0}),i.writeState(io.SESSION_START,{eventId:i.generateEvtId(),type:ao.CORE_EVENT,name:io.SESSION_START,ftime:+new Date})},i.onPlaySessionEnd=function(e){var t=e.data.code,n=t===Ur.SUC?u({},i.stateMap[io.END]):u({},i.stateMap[io.ERROR]);t!==Ur.SUC&&i.removeUserSetting([co.definition,co.audioTrack]),i.writeState(io.SESSION_END,u(u({},n),{code:t,eventId:i.generateEvtId(),name:io.SESSION_END,type:ao.CORE_EVENT,ftime:+new Date})),i.playDuration=0,i.prevPlayTimeS=0,i.sessionBufferCount=0,i.sessionRetryBackUrlCount=0,i.sessionRetryPlayCount=0},i.getGUID=function(){var e=_e.getData(lo.GUID);if(e)return e;var t=J.Z.createGUID(32);return _e.setData(lo.GUID,t),t},i.isTabFocused=function(){var e=["hidden","msHidden","webkitHidden"].find((function(e){return void 0!==document[e]}));return e?document[e]?0:1:-1},i.isPlayerInViewport=function(){var e=i.player.container;if(!e.offsetParent)return 0;var t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,r=window.innerWidth||document.documentElement.clientWidth,o=t.top<=n&&t.top+t.height>=0,a=t.left<=r&&t.left+t.width>=0;return+(o&&a)},i.commonMap=t.canUseProxy?new Proxy({},{get:function(e,t,n){return Reflect.get(e,t,n)},set:function(e,t,n,r){if("string"!=typeof t)return!1;if(i.commonMapFreeze[t])return!1;var o=Reflect.get(e,t,r),a=Reflect.set(e,t,n,r);return o!==n&&i.emit(oo.UPDATE,{key:t,oldVal:o,newVal:n}),a}}):{},i.stateMap=t.canUseProxy?new Proxy({},{get:function(e,t,n){return Reflect.get(e,t,n)},set:function(e,t,n,r){if("string"!=typeof t)return!1;if(i.stateMapFreeze[t])return!1;var o=Reflect.get(e,t,r),a=Reflect.set(e,t,n,r);return i.commonMap[go.flowid]&&i.emit(oo.STATE_UPDATE,{key:t,oldVal:o,newVal:n,startEvent:i.getStartEventData(t),startEventData:i.getStartEventData(t)}),a}}):{},i.isLive=i.player.config.type===A.LIVE,i.setEnv(),i.collectBaseInfo(),i.collectVideoCapability(),i.persistUserSetting(),i}return c(t,e),Object.defineProperty(t.prototype,"stats",{get:function(){var e,t,n,r,o,i,a,s=this.player,l=s.playbackRate,c=s.volume,u=s.played,d=s.playtime,p=s.currentVideoInfo;return{volume:c,playbackRate:l,played:u,playtime:d,urlIndex:null!==(n=null===(t=null===(e=null==p?void 0:p.config)||void 0===e?void 0:e.backupUrls)||void 0===t?void 0:t.findIndex((function(e){return e===p.loadingUrl})))&&void 0!==n?n:-1,frameDroppedInPercentage:null!==(o=null===(r=null==p?void 0:p.qualityInfo)||void 0===r?void 0:r.frameDroppedInPercentage)&&void 0!==o?o:-1,averageDecodeTimeInMs:null!==(a=null===(i=null==p?void 0:p.qualityInfo)||void 0===i?void 0:i.averageDecodeTimeInMs)&&void 0!==a?a:-1,currentUrl:null==p?void 0:p.loadingUrl,paused:this.paused,fragUrl:null==p?void 0:p.currentFragUrl}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visualStats",{get:function(){return{isTabFocused:this.isTabFocused(),isPlayerInViewport:this.isPlayerInViewport()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paused",{get:function(){var e,t;return null===(t=null===(e=this.player)||void 0===e?void 0:e.currentVideoElement)||void 0===t?void 0:t.paused},enumerable:!1,configurable:!0}),t.prototype.defrost=function(e,t,n){switch(void 0===n&&(n="secret"),e){case"state":return this.stateMapFreeze[t]===n&&(delete this.stateMapFreeze[t],!0);case"common":return this.commonMapFreeze[t]===n&&(delete this.commonMapFreeze[t],!0)}},t.prototype.freeze=function(e,t,n){switch(void 0===n&&(n="secret"),e){case"state":return this.stateMapFreeze[t]?(this.player.log("".concat(t,"\u5df2\u9501\u5b9a")),!1):(this.stateMapFreeze[t]=n,!0);case"common":return this.commonMapFreeze[t]?(this.player.log("".concat(t,"\u5df2\u9501\u5b9a")),!1):(this.commonMapFreeze[t]=n,!0);default:return!1}},t.prototype.setEnv=function(){var e=this;this.player.on(S.STATE_CHANGE,this.onStateChange),this.player.on(S.FIRST_PLAYING,this.onFirstPlay),this.player.on(S.TIME_UPDATE,this.onTimeChange),this.player.on(S.DURATION_CHANGE,this.onDurationChange),this.player.on(S.ERROR,this.onError),this.player.on(S.SETLEVEL_START,this.onSetLevelStart),this.player.on(S.SETLEVEL_OVER,this.onSetLevelEnd),this.player.on(S.RATE_CHANGE,this.onRateChange),this.player.on(S.RETRY_BACKURL,this.onRetryLoad),this.player.on(S.AUTOPLAY_BLOCKED,this.onAutoplayBlocked),this.player.on(Hr.AD_PLAYING,this.onAdPlaying),this.player.on(Hr.AD_END,this.onAdEnd),this.player.on(Hr.VIDEO_REQ_INFO_START,this.onVideoReqInfoStart),this.player.on(Hr.VIDEO_REQ_INFO_END,this.onVideoReqInfoEnd),this.player.on(Hr.PLAY_SESSION_START,this.onPlaySessionStart),this.player.on(Hr.PLAY_SESSION_END,this.onPlaySessionEnd),this.player.on(Hr.VIDEO_REQ_INFO_END,(function(t){var n=t.data;if(n.code!==Ur.SUC){var r=n.data,o=((null==r?void 0:r.error)||{}).code;e.writeState(io.ERROR,{eventId:e.generateEvtId(),type:ao.CORE_EVENT,name:io.ERROR,code:o,ftime:+new Date})}})),this.msg.on(jr.RETRY_PLAY,this.onRetryPlay),this.msg.on(jr.DEGRADE_CODEC_PLAY,this.onCodecDegrade)},t.prototype.collectBaseInfo=function(){var e=ee.os,t=ee.mobile;this.writeCommon(go.mobile,t?1:0,vo),this.writeCommon(go.online,1,vo),this.writeCommon(go.resolution,"".concat(screen.width,"*").concat(screen.height,"*").concat(window.devicePixelRatio||1),vo),this.writeCommon(go.ua,navigator.userAgent.replace(/,/g,"\\,"),vo),this.writeCommon(go.osver,"".concat(e.osName," ").concat(e.version),vo),this.writeCommon(go.playertype,0),this.writeCommon(go.confid,yo),this.writeCommon(go.playercore,Object.keys(Zt.kernelMap).join(","),vo),this.writeCommon(go.playerver,W),this.writeCommon(go.speed,0),this.writeCommon(go.drm,0),this.writeCommon(go.url,location.href,vo),this.writeCommon(go.topUrl,Ee.getTopFrameUrl(),vo),this.writeCommon(go.referrer,document.referrer,vo),this.writeCommon(go.guid,this.getGUID())},t.prototype.collectVideoCapability=function(){try{var e={concurrency:navigator.hardwareConcurrency},t={av1:+vt.supportAV1(),hevc:+vt.supportHevc(),dolby:+vt.isDolbyVisionSupported()},n={hls:+vt.supportVideoFormat().includes("hls")},r=vt.isHDRSupported(),o=te.safelyStringify({codec:t,format:n,hdr:r,hw:e}).replace(/,/g,"\\,");this.writeCommon(go.videoCapability,o),this.log("device capability info: ".concat(o))}catch(qe){}},t.prototype.persistUserSetting=function(){var e=this,n={},r=this.player.config,o=r.disableUserSettingCache,i=r.type,a=function(e){var t;return(null===(t=null==o?void 0:o.indexOf)||void 0===t?void 0:t.call(o,e))>-1};t.SETTING_CONFIG.forEach((function(t){var r=t.dsKey,o=t.lsKey,s=t.oldDsKey,l="".concat(o,"_").concat(i);if(!(a(r)||s&&a(s))){n[r]=l;var c=_e.getData(l);c&&r&&e.writeCommon(r,c)}})),this.msg.on(jr.DATASET_UPDATE,(function(e){var t=e.data,r=t.newVal,o=t.key;n[o]&&_e.setData(n[o],r)}))},t.prototype.removeUserSetting=function(e){var t=this;("string"==typeof e?[e]:e).forEach((function(e){t.writeCommon(e,"")}))},t.pluginName="dataset",t.UserSettingKeyPrefix="__thumbplayer_setting_",t.SETTING_CONFIG=[{oldDsKey:go.currentDefn,dsKey:co.definition,lsKey:"".concat(t.UserSettingKeyPrefix,"_definition")},{oldDsKey:go.currentSubtitle,dsKey:co.subtitle,lsKey:"".concat(t.UserSettingKeyPrefix,"_subtitle")},{oldDsKey:go.currentAudioTrack,dsKey:co.audioTrack,lsKey:"".concat(t.UserSettingKeyPrefix,"_audioTrack")},{dsKey:co.volume,lsKey:"".concat(t.UserSettingKeyPrefix,"_volume")},{dsKey:co.playbackRate,lsKey:"".concat(t.UserSettingKeyPrefix,"_playbackRate")}],t.canUseProxy=void 0!==window.Proxy,t}($r);var mo,Eo=[Hr.AD_REQ_INFO_START,Hr.AD_REQ_INFO_END,Hr.AD_REQ_ASSETS_START,Hr.AD_ASSETS_LOADED,Hr.AD_END,Hr.AD_PLAYING,Hr.AD_AUTOPLAY_BLOCKED,Hr.AD_PAUSE,Hr.AD_RESUME,Hr.AD_TIME_UPDATE,Hr.AD_VOLUME_CHANGE];!function(e){e.FAKE_FULLSCREEN="fakeFullscreen",e.FULL_SCREEN="fullscreen"}(mo||(mo={}));var Io="thumbplayer-fake-fullscreen",bo="thumbplayer-fake-fullscreen-style",Co="\n.".concat(Io," {\n  position: fixed !important;\n  top: 0 !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  left: 0 !important;\n  width: 100% !important;\n  height: 100% !important;\n  z-index: 9999 !important;\n}\n");function wo(e,t){if(void 0===t&&(t=!0),!(e instanceof HTMLElement))return Promise.reject("requestElFullScreen: container is not an element");var n=function(e){var t;return null===(t=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullscreen||e.webkitRequestFullScreen||e.msRequestFullscreen)||void 0===t?void 0:t.bind(e)},r=function(e){var t;return null===(t=e.cancelFullScreen||e.mozCancelFullScreen||e.webkitCancelFullScreen||e.exitFullscreen||e.webkitExitFullscreen||e.msExitFullscreen)||void 0===t?void 0:t.bind(e)},o=n(e)||n(document),i=r(e)||r(document),a=t?o:i;try{return Promise.resolve(a())}catch(s){return Promise.reject(s)}}function So(e,t){return void 0===t&&(t=!0),f(this,void 0,void 0,(function(){var n,r;return h(this,(function(o){if(!(e&&e instanceof HTMLVideoElement))throw new Error("videoRequestFullScreen: video is not an VideoElement");if(n=e.requestFullscreen||e.webkitEnterFullscreen||e.webkitRequestFullScreen,!(r=t?n:e.webkitExitFullscreen))throw new Error("Video Fullscreen API is not supported.");return[2,r.call(e)]}))}))}function xo(e){return!!e&&((e.webkitDisplayingFullscreen||"fullscreen"===e.webkitPresentationMode)&&!function(e){if(!ee.os.ios&&!ee.browser.safari)return!1;return document.pictureInPictureEnabled||document.pictureInPictureElement===e}(e))}var Po,To,Do=["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"],Oo=function(){function e(e,t){var n=this;this.player=e,this.onVideoLoadStart=function(){n.player.videoElements.forEach((function(e){e instanceof HTMLVideoElement&&!e.dataset.fullscreen_handler&&n.bindVideoElFullscreenEvt(e,!0)}))},this.onPlaySessionEnd=function(){ee.mobile&&n.fullscreenMode===mo.FULL_SCREEN&&n.requestFullScreen(!1,mo.FULL_SCREEN)},this.fullscreenChangeHandler=function(){var e=n.fullscreenMode;n.player.emit(S.FULLSCREEN_CHANGE,{isEnter:e===mo.FULL_SCREEN,mode:mo.FULL_SCREEN})},this.logger=new ue(e.config.instanceId,"FullscreenLogics"),this.container=t||e.container,this.listenFullScreenEvts(!0)}return Object.defineProperty(e.prototype,"fullscreenMode",{get:function(){var e=this.container,t=this.player.currentVideoElement,n=this.player.config.videoElements;return function(e){if(!e)return!1;var t=document;if(!(t.fullscreen||t.mozFullScreen||t.webkitIsFullScreen||t.msFullscreenElement))return!1;var n=t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement;return n===e||n===document}(e)||xo(t)||n[0]instanceof HTMLVideoElement&&xo(n[0])?mo.FULL_SCREEN:function(e){return e.classList.contains(Io)}(e)?mo.FAKE_FULLSCREEN:null},enumerable:!1,configurable:!0}),e.prototype.requestFullScreen=function(e,t){return void 0===e&&(e=!0),f(this,void 0,void 0,(function(){var n,r,o,i,a,s,l,c;return h(this,(function(u){switch(u.label){case 0:if(n=this.container,r=this.player,o=r.currentVideoElement,i=r.config,a=i.videoElements,s=this.fullscreenMode,l=this.getFullScreenMode(t),e&&s){if(s===l)return[2];this.requestFullScreen(!1,s)}if(!e&&!s||!e&&s!==l)return[2];u.label=1;case 1:if(u.trys.push([1,7,,8]),l===mo.FAKE_FULLSCREEN)return function(e,t){void 0===t&&(t=!0),xe.insertStyle(Co,bo),e.classList.toggle(Io,t)}(n,e),this.player.emit(S.FULLSCREEN_CHANGE,{isEnter:e,mode:l}),[2];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,wo(n,e)];case 3:return u.sent(),[3,6];case 4:return u.sent(),[4,So(o||a[0],e)];case 5:return u.sent(),[3,6];case 6:return[3,8];case 7:throw c=u.sent(),this.logger.error("@FullscreenLogics.requestFullScreen, isEnter=".concat(e,", mode=").concat(l,", err=").concat(c)),c;case 8:return[2]}}))}))},e.prototype.destroy=function(){this.listenFullScreenEvts(!1)},e.prototype.getFullScreenMode=function(e){return e||(!ee.mobile||ee.os.ios?mo.FULL_SCREEN:mo.FAKE_FULLSCREEN)},e.prototype.listenFullScreenEvts=function(e){var t,n=this;void 0===e&&(e=!0);var r=e?document.addEventListener.bind(document):document.removeEventListener.bind(document),o=e?this.player.on.bind(this.player):this.player.off.bind(this.player);o(Hr.VIDEO_LOAD_START,this.onVideoLoadStart),o(Hr.PLAY_SESSION_END,this.onPlaySessionEnd),Do.forEach((function(e){r(e,n.fullscreenChangeHandler)})),e||null===(t=this.player.videoElements)||void 0===t||t.forEach((function(e){e instanceof HTMLVideoElement&&n.bindVideoElFullscreenEvt(e,!1)}))},e.prototype.bindVideoElFullscreenEvt=function(e,t){var n=t?e.addEventListener.bind(e):e.removeEventListener.bind(e);n("webkitendfullscreen",this.fullscreenChangeHandler),n("webkitbeginfullscreen",this.fullscreenChangeHandler),t?e.dataset.fullscreen_handler=String(!0):delete e.dataset.fullscreen_handler},e}();!function(e){e.WHITE_LIST="white"}(Po||(Po={})),function(e){e.STORAGE_INIT_FAILED="storageInitFailed",e.STORAGE_READY="storageReady",e.REQUEST_STORE_LOG="requestStoreLog",e.STORE_LOG_SUCCESS="storeLogSuccess",e.STORE_LOG_FAILED="storeLogFailed",e.REQUEST_REPORT_LOG="requestReportLog",e.REPORT_LOG_SUCCESS="reportLogSuccess",e.REPORT_LOG_FAILED="reportLogFailed",e.REPORT_PROGRESS="reportProgress",e.REQUEST_DOWNLOAD_LOG="requestDownloadLog"}(To||(To={}));var No,Ro=function(){function e(e,t){var n=this;this.sender=e,this.receiver=t,this.callbackMap={},this.hasDestroy=!1,this.onReceiverMessage=function(e){n.receiverMessageHandler(e)},this.sender.addEventListener("message",this.onReceiverMessage)}return e.prototype.postMessage=function(e){if(this.hasDestroy)throw new Error("Cannot exec postMessage after destroy");this.receiver.postMessage(e,"*")},e.prototype.on=function(e,t){this.hasDestroy||(this.callbackMap[e]||(this.callbackMap[e]=[]),this.callbackMap[e].push(t))},e.prototype.off=function(e,t){if(!this.hasDestroy){var n=this.callbackMap[e];if(null==n?void 0:n.length){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},e.prototype.destroy=function(){var e;this.hasDestroy=!0,null===(e=this.sender)||void 0===e||e.removeEventListener("message",this.onReceiverMessage),this.sender=null,this.receiver=null,this.callbackMap=null},e.prototype.receiverMessageHandler=function(e){var t,n=this;if(this.isBridgeMessage(e.data)&&!this.hasDestroy){var r=e.data;null===(t=this.callbackMap[r.name])||void 0===t||t.forEach((function(e){e(r,n.postMessage.bind(n))}))}},e.prototype.isBridgeMessage=function(e){return"object"===(0,s.Z)(e)&&"string"==typeof(null==e?void 0:e.name)&&"string"==typeof(null==e?void 0:e.instanceId)},e}(),ko=function(e){function t(n,r,o){void 0===o&&(o=1e4);var i=e.call(this,self,t.getIframe(n,o).contentWindow)||this;return i.instanceId=r,i.timeout=o,t.instanceCount+=1,i}return c(t,e),t.getIframe=function(e,n){if(void 0===n&&(n=1e4),t.iframeEl)return t.iframeEl;var r=document.createElement("iframe");return r.src=e,document.body.append(r),r.style.display="none",r.classList.add("thumbplayer-remote-storage-bridge"),t.iframeEl=r,t.rejectTimeout=window.setTimeout((function(){t.storageDefer.reject(new Error("IFrame wait timeout"))}),n),r},t.prototype.storeLogs=function(e){return f(this,void 0,void 0,(function(){return h(this,(function(n){switch(n.label){case 0:return[4,t.storageDefer.promise];case 1:return n.sent(),[4,this.postMessagePromise({message:{name:To.REQUEST_STORE_LOG,instanceId:this.instanceId,data:e},resolveMessageName:To.STORE_LOG_SUCCESS,rejectMessageName:To.STORE_LOG_FAILED})];case 2:return n.sent(),[2]}}))}))},t.prototype.report=function(e,n){return f(this,void 0,void 0,(function(){return h(this,(function(r){switch(r.label){case 0:return[4,t.storageDefer.promise];case 1:return r.sent(),[4,this.postMessagePromise({message:{name:To.REQUEST_REPORT_LOG,instanceId:this.instanceId,data:e},resolveMessageName:To.REPORT_LOG_SUCCESS,rejectMessageName:To.REPORT_LOG_FAILED,progressMessageName:To.REPORT_PROGRESS,onProgress:n,timeout:3e4})];case 2:return r.sent(),[2]}}))}))},t.prototype.downloadLogs=function(){return f(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return[4,t.storageDefer.promise];case 1:return e.sent(),this.postMessage({instanceId:this.instanceId,name:To.REQUEST_DOWNLOAD_LOG}),[2]}}))}))},t.prototype.postMessagePromise=function(e){var t=this,n=e.message,r=e.resolveMessageName,o=e.rejectMessageName,i=e.progressMessageName,a=e.timeout,s=void 0===a?this.timeout:a,l=e.onProgress;return new Promise((function(e,a){var c=n.instanceId,u=function(){return setTimeout((function(){a(new Error("PostMessage response timeout: ".concat(n.name," / ").concat(n.instanceId))),p(!1)}),s)},d=u(),p=function(e){void 0===e&&(e=!1);var n=e?t.on.bind(t):t.off.bind(t);n(i,f),n(o,h),n(r,g),e||clearTimeout(d)},f=function(e){clearTimeout(d),d=u(),null==l||l(e.data.progress)},h=function(e){c===e.instanceId&&(a(e.data),p(!1))},g=function(t){c===t.instanceId&&(e(t.data),p(!1))};p(!0),t.postMessage(n)}))},t.prototype.destroy=function(){var n;t.instanceCount-=1,t.instanceCount<=0&&(clearTimeout(t.rejectTimeout),t.rejectTimeout=null,null===(n=t.iframeEl)||void 0===n||n.remove(),t.iframeEl=null,t.instanceCount=0,t.storageDefer=new Ce,e.prototype.destroy.call(this))},t.prototype.receiverMessageHandler=function(n){if(this.isBridgeMessage(n.data))return n.data.name===To.STORAGE_READY?(t.storageDefer.resolve(),void clearTimeout(t.rejectTimeout)):void e.prototype.receiverMessageHandler.call(this,n)},t.storageDefer=new Ce,t.instanceCount=0,t}(Ro),Lo=function(e){function t(){var n=e.call(this)||this;return n.emitPageLeave=function(){"hidden"===document.visibilityState&&(Date.now()-n.pageLeaveTimeStamp<=t.THROTTLE_GAP||(n.pageLeaveTimeStamp=Date.now(),n.emit(No.PageLeave)))},n.emitPageUnload=function(){Date.now()-n.pageUnloadTimeStamp<=t.THROTTLE_GAP||(n.pageUnloadTimeStamp=Date.now(),n.emit(No.UNLOAD))},n.setPageLeave(),n.setPageUnload(),n}return c(t,e),t.prototype.setPageLeave=function(){window.addEventListener("pagehide",this.emitPageLeave),document.addEventListener("visibilitychange",this.emitPageLeave)},t.prototype.setPageUnload=function(){window.addEventListener("beforeunload",this.emitPageUnload),window.addEventListener("unload",this.emitPageUnload)},t.THROTTLE_GAP=10,t}(Je);!function(e){e.PageLeave="pageLeave",e.UNLOAD="unload"}(No||(No={}));var Bo,Mo={instance:new Lo,PageWatcherEvent:No},Qo=0;function Vo(e){var t=encodeURIComponent('projectId="'.concat(e,'"')),n="".concat("//v.qq.com/cache/wuji/object?appid=tenvideo_offline_log&schemaid=whileList&schemakey=d5dccc35902346b2bdcbcef774fefe99","&include=encryptValue,type,errorCode,rate&filter=").concat(t,"&otype=jsonp");return Qo+=1,Fe.jsonp(n,{name:"offline_log"+Qo%200,timeout:3e3})}function Fo(e){return f(this,void 0,void 0,(function(){var t;return h(this,(function(n){t={vuid:ye.get("vqq_vuserid")||ye.get("vuserid"),openid:ye.get("openid")||ye.get("vqq_openid"),guid:_e.getData(lo.GUID)};try{return[2,Object.entries(Bo).some((function(n){var r=n[0],o=n[1],i=t[r];return i&&e.some((function(e){return e.type===o&&e.encryptValue===(0,kr.sha256)(i)}))}))]}catch(r){return[2,!1]}return[2]}))}))}!function(e){e.vuid="2",e.guid="5",e.openid="6",e.code="7"}(Bo||(Bo={}));var Uo,Ko=function(e){function t(n,r,o){var i=e.call(this,n,r,o)||this;return i.pageWatcher=Mo.instance,i.logInfoChange={},i.isDestroy=!1,i.onPageLeave=function(){i.storeLogs()},i.storeLogs=function(e){return f(i,void 0,void 0,(function(){var t,n,r,o,i;return h(this,(function(a){switch(a.label){case 0:if(!(t=this.instanceId))return[2];if(n=ue.cache[t],r={logs:n,info:this.logInfoChange,ext:e},o=e||r.logs.length||Boolean(Object.keys(this.logInfoChange).length),ue.cache[t]=[],this.logInfoChange={},!o)return[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.remoteStorage.storeLogs(r)];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),this.logger.error("Error occur when store offlineLog: ".concat(i)),[3,4];case 4:return[2]}}))}))},i.onPlayerError=function(e){var t,n,r;i.logInfoChange.code=null===(r=null===(n=null===(t=e.data)||void 0===t?void 0:t.videoInfo)||void 0===n?void 0:n.error)||void 0===r?void 0:r.code,i.storeLogs()},i.config=u(u(u({},jo),r||{}),i.player.config.offlineConfig),i.logger=new ue(i.instanceId,t.pluginName),i.remoteStorage=new ko(i.config.iframePath||Ho,i.instanceId),ko.storageDefer.promise.then((function(){i.isDestroy||(i.downloadOnQuery(),i.setPollLogger(),i.setPageWatcher(),i.setPlayerEvt())})).catch((function(e){i.logger.error("Error occur when init DB: ".concat(e))})),i.logEnvInfo(),i.checkWhiteList(),i}return c(t,e),Object.defineProperty(t,"isEnvSupport",{get:function(){return"function"==typeof window.Proxy},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){return f(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,3,4]),this.isDestroy=!0,this.setPollLogger(!1),this.setPageWatcher(!1),this.setPlayerEvt(!1),[4,this.storeLogs({clearContentCache:!0})];case 1:case 2:return t.sent(),[3,4];case 3:return this.remoteStorage.destroy(),e.prototype.destroy.call(this),[7];case 4:return[2]}}))}))},t.prototype.report=function(e,n,r){return f(this,void 0,void 0,(function(){return h(this,(function(o){switch(o.label){case 0:if(!e&&!t.isInWhiteList)return[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.remoteStorage.report({downloadOnFailed:e,reportSource:n,onlyCurrent:!1},r)];case 2:return o.sent(),[2,{status:!0,msg:""}];case 3:return[2,{status:!1,msg:o.sent().message}];case 4:return[2]}}))}))},t.prototype.downloadLogs=function(){return this.remoteStorage.downloadLogs()},t.prototype.logEnvInfo=function(){try{this.logger.log("URL: ".concat(location.href)),this.logger.log("TOP URL: ".concat(Ee.getTopFrameUrl())),this.logger.log("Kernel List: ".concat(Object.keys(Zt.kernelMap).join(","))),this.logger.log("PlayItem: ".concat(te.safelyStringify(this.player.currentPlayItem)))}catch(q){}},t.prototype.downloadOnQuery=function(){var e=location.search.includes(qo);!t.hasDownloadOnInit&&e&&(this.downloadLogs(),t.hasDownloadOnInit=!0)},t.prototype.checkWhiteList=function(){return f(this,void 0,void 0,(function(){var e,n,r,o;return h(this,(function(i){switch(i.label){case 0:return e=this.config.platform,t.hasCheckWhiteList?[2]:(t.hasCheckWhiteList=!0,[4,Vo(e)]);case 1:return n=i.sent().data,t.reportCodeRateMap=function(e){return e.reduce((function(e,t){var n;return t.errorCode&&t.rate?u(u({},e),((n={})[t.errorCode]=t.rate,n)):e}),{})}(n),r=t,[4,Fo(n)];case 2:if(r.isInWhiteList=i.sent(),!t.isInWhiteList)return[3,6];i.label=3;case 3:return i.trys.push([3,5,,6]),[4,this.report(!1,"white")];case 4:return i.sent(),[3,6];case 5:return o=i.sent(),this.logger.error("Error occur when reporting: ".concat(o)),[3,6];case 6:return[2]}}))}))},t.prototype.setPollLogger=function(e){void 0===e&&(e=!0);var t=this.config.pollTime,n=void 0===t?3e3:t;clearInterval(this.pollTimer),e&&(this.pollTimer=window.setInterval(this.storeLogs,n))},t.prototype.setPageWatcher=function(e){void 0===e&&(e=!0);var t=this.pageWatcher,n=e?t.on.bind(t):t.off.bind(t);n(Mo.PageWatcherEvent.PageLeave,this.onPageLeave),n(Mo.PageWatcherEvent.UNLOAD,this.onPageLeave)},t.prototype.setPlayerEvt=function(e){void 0===e&&(e=!0),(e?this.player.on.bind(this.player):this.player.off.bind(this.player))(S.ERROR,this.onPlayerError)},t.prototype.hookVideoReqInfoEnd=function(e){var t,n,r=null===(n=null===(t=e.data)||void 0===t?void 0:t.error)||void 0===n?void 0:n.code;r&&(this.logInfoChange.code=r),this.logInfoChange.videoName=this.player.dataset.commonMap.videoName,this.storeLogs()},t.prototype.hookPlaySessionStart=function(){this.logInfoChange=this.collectLogInfo(),this.logEnvInfo(),this.storeLogs()},t.prototype.hookPlaySessionEnd=function(e){return f(this,void 0,void 0,(function(){var n;return h(this,(function(r){switch(r.label){case 0:return this.logInfoChange.code=e.code,[4,this.storeLogs({clearInfoCache:!0})];case 1:return r.sent(),n=t.reportCodeRateMap[e.code],!ee.spider&&"number"==typeof n&&Math.random()<=n&&(console.log("Hit ErrorCode report: ".concat(e.code,", start reporting...")),this.remoteStorage.report({onlyCurrent:!0,downloadOnFailed:!1,reportSource:Po.WHITE_LIST})),[2]}}))}))},t.prototype.collectLogInfo=function(){var e=this.player.dataset.commonMap,t=e.guid,n=e.drm,r=e.videoName,o=e.vid,i=e.hc_vuserid,a=e.flowid,s=e.platform;return{code:"",drm:Boolean(n),startTime:Date.now(),endTime:Date.now(),guid:t,ua:navigator.userAgent,url:location.href,videoName:r,vid:o,platform:s,vuid:i,instanceId:this.instanceId,id:a}},Object.defineProperty(t.prototype,"instanceId",{get:function(){return this.player.config.instanceId},enumerable:!1,configurable:!0}),t.pluginName="offlineLog",t.hasCheckWhiteList=!1,t.hasDownloadOnInit=!1,t.isInWhiteList=!1,t.reportCodeRateMap={},t}($r),jo={platform:"1",disable:!1,pollTime:3e3},Ho="https://v.qq.com/thumbplayer-offline-log.html?max_age=3600",qo="thumbplayer_download_logs=1";!function(e){e.EMPTY_CONFIG="\u914d\u7f6e\u4e0d\u80fd\u4e3a\u7a7a",e.POINTS_BOTH_EMPTY="startPoint / endPoint \u914d\u7f6e\u4e0d\u80fd\u540c\u65f6\u4e3a\u7a7a",e.START_TIME_BELOW_ZERO="startPoint.value \u503c\u4e0d\u80fd\u5c0f\u4e8e 0",e.END_TIME_BELOW_START_TIME="endPoint.value \u503c\u4e0d\u80fd\u5c0f\u4e8e startPoint.value"}(Uo||(Uo={}));var Go,Yo=y.NORMAL,Wo={startTime:0,startPriority:0,endTime:1/0,endPriority:0,endState:y.NORMAL},zo={emptyConfigCheck:function(e){if(!e)return Uo.EMPTY_CONFIG},emptyStartAndEndCheck:function(e){var t=e.startPoint,n=e.endPoint;if(!t&&!n)return Uo.POINTS_BOTH_EMPTY},startBelowZero:function(e){var t=e.startPoint;if(t&&t.value<0)return Uo.START_TIME_BELOW_ZERO},endBelowStart:function(e){var t=e.startPoint,n=e.endPoint;if(t&&n&&t.value>=n.value)return Uo.END_TIME_BELOW_START_TIME}},Jo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.configRules=zo,t.nextId=0,t.limitConfigMap={},t.isCanplayEmitted=!1,t.canplaySeekPos=null,t.hookVideoTimeupdate=function(e){if(!(e.playtime<t.range.endTime))return t.player.corePlayer.stop(t.range.endState),Je.STOP_IMMEDIATE_PROPAGATION},t.hookPlaySessionEnd=function(){t.isCanplayEmitted=null,t.canplaySeekPos=null},t}return c(t,e),Object.defineProperty(t.prototype,"range",{get:function(){return this.limitRange||(this.limitRange=this.mergePlaytimeLimitConfigs(Object.values(this.limitConfigMap))),u({},this.limitRange)},enumerable:!1,configurable:!0}),t.prototype.addLimitConfig=function(e){var t;if(!this.validatePlayTimeConfig(e))return null;var n=null!==(t=e.id)&&void 0!==t?t:this.generateID();return this.limitConfigMap[n]=u(u({},e),{vidOrUrl:this.player.vid||this.player.url}),this.onConfigChange(),n},t.prototype.deleteLimitConfig=function(e){delete this.limitConfigMap[e],this.onConfigChange()},t.prototype.clearAllConfig=function(e){var t=this;Object.entries(this.limitConfigMap).forEach((function(n){var r=n[0];n[1].vidOrUrl!==e&&delete t.limitConfigMap[r]})),this.limitRange=null},t.prototype.getLimitConfig=function(e){return this.limitConfigMap[e]},t.prototype.setLimitConfig=function(e,t){return!(!this.getLimitConfig(e)||!this.validatePlayTimeConfig(t))&&(this.limitConfigMap[e]=t,this.onConfigChange(),!0)},t.prototype.generateID=function(){return this.nextId++},t.prototype.validatePlayTimeConfig=function(e){var t=this;return Object.values(this.configRules).every((function(n){var r=n(e);return!r||(t.player.log(r),!1)}))},t.prototype.mergePlaytimeLimitConfigs=function(e){var t=this,n=u({},Wo);return e.forEach((function(e){var r=e.startPoint,o=e.endPoint;n=t.mergeStartPoint(n,r),n=t.mergeEndPoint(n,o)})),n},t.prototype.mergeStartPoint=function(e,t){return this.shouldUpdateStartTime(e,t)?u(u({},e),{startTime:t.value,startPriority:t.priority||0}):e},t.prototype.shouldUpdateStartTime=function(e,t){if(!t)return!1;var n=t.value,r=t.priority,o=void 0===r?0:r,i=e.startTime,a=e.startPriority;return n<e.endTime&&(o>a||o===a&&n>i)},t.prototype.mergeEndPoint=function(e,t){return this.shouldUpdateEndTime(e,t)?u(u({},e),{endTime:t.value,endPriority:t.priority||0,endState:t.endState||Yo}):e},t.prototype.shouldUpdateEndTime=function(e,t){if(!t)return!1;var n=t.value,r=t.priority,o=void 0===r?0:r,i=e.startTime,a=e.endPriority,s=e.endTime;return n>i&&(o>a||o===a&&n<s)},t.prototype.onConfigChange=function(){if(this.limitRange=this.mergePlaytimeLimitConfigs(Object.values(this.limitConfigMap)),!(this.player.playtime>=this.range.startTime))return this.seekPlayer(this.range.startTime),u({},this.limitRange)},t.prototype.hookVideoCanplay=function(){!this.isCanplayEmitted&&this.canplaySeekPos&&(this.player.seek(this.canplaySeekPos),this.canplaySeekPos=null),this.isCanplayEmitted=!0},t.prototype.seekPlayer=function(e){this.isCanplayEmitted?this.player.seek(this.canplaySeekPos):this.canplaySeekPos=e},t.pluginName="playtimeLimiter",t}($r),Zo=function(e){var t=e.data,n=void 0===t?{}:t,r=e.url,o=void 0===r?"":r,i=e.forceImage,a=void 0!==i&&i,s=Xo(n);!a&&s.length>$o?Fe.xhr({method:"POST",url:o,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s}):(new Image).src="".concat(o,"&").concat(s)},Xo=function(e){void 0===e&&(e={});var t=Object.keys(e).reduce((function(t,n){var r;return t[n]=encodeURIComponent(null!==(r=e[n])&&void 0!==r?r:""),t}),{_dc:Math.random()});return Ee.object2string(t,"&")},$o=2048,ei=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.RELEASE_DELAY=3e5,o.reporter=Zo,o.reportedEvt={},o.FLOW_DATA_KEY="",o.REPORT_URL="",o.REPORT_KEY="",o.config=n,o}return c(t,e),t.prototype.saveToLS=function(e,t){var n=this.getPrevData();n[e]={data:t,ts:Date.now()},_e.setData(this.FLOW_DATA_KEY,JSON.stringify(n))},t.prototype.removeFromLS=function(e){var t=this.getPrevData();delete t[e],_e.setData(this.FLOW_DATA_KEY,JSON.stringify(t))},t.prototype.reportPrev=function(){var e=this,t=this.getPrevData();Object.keys(t).forEach((function(n){t[n].ts+e.RELEASE_DELAY<Date.now()&&(e.report(t[n].data),delete t[n])})),_e.setData(this.FLOW_DATA_KEY,JSON.stringify(t))},t.prototype.report=function(e){var t;if(void 0===e&&(e={}),!ee.spider){var n=u(u({},this.reportHeader),e);if(this.reporter({data:n,url:this.REPORT_URL,key:this.REPORT_KEY,forceImage:this.config.forceImage}),"function"==typeof(null===(t=this.config)||void 0===t?void 0:t.onAfterReport))try{this.config.onAfterReport(n)}catch(r){}}},t.prototype.handlePageHide=function(e){if(void 0===e&&(e={}),!ee.spider&&this.reporterForPageHide){var t=u(u({},this.reportHeader),e);this.reporterForPageHide({data:t,url:this.REPORT_URL,key:this.REPORT_KEY})}},t.prototype.getPrevData=function(){var e,t=_e.getData(this.FLOW_DATA_KEY)||"{}";try{e=JSON.parse(t)}catch(qe){e={}}return e},t}($r),ti=function(){function e(){}return e.loadBeaconSDK=function(){var t=this;return"function"==typeof window.BeaconAction?Promise.resolve():(e.SDKLoadingDefer||(e.SDKLoadingDefer=new Promise((function(e,n){return f(t,void 0,void 0,(function(){var t,r,o;return h(this,(function(i){switch(i.label){case 0:r=0,i.label=1;case 1:if(!(r<3))return[3,6];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,xe.loadScript("//beacon.cdn.qq.com/sdk/4.5.16/beacon_web.min.js")];case 3:return i.sent(),e(),[3,6];case 4:return o=i.sent(),t=o,[3,5];case 5:return r++,[3,1];case 6:return n(t),[2]}}))}))}))),e.SDKLoadingDefer)},e.flushQueue=function(t){e.queues[t]&&e.instances[t]&&(e.queues[t].forEach((function(t){e.report(t)})),e.queues[t]=[])},e.clear=function(t){e.queues[t]=[]},e.report=function(t){var n=t.data,r=t.key,o=e.instances[r],i=(n||{}).stepname;o?o.onDirectUserAction(i,n):e.queues[r].push(t)},e.reportWhenPageHide=function(t){var n=t.data,r=t.key,o=e.instances[r],i=(n||{}).stepname;o&&o.onSendBeacon(i,n)},e.register=function(t,n){return f(this,void 0,void 0,(function(){var r,o,i,a,l;return h(this,(function(c){switch(c.label){case 0:if(r=t,o=!1,"object"===(0,s.Z)(t)&&(r=t.appKey,o=!!t.isOversea),e.queues[r])return[2];e.queues[r]=[],n&&(e.SDKLoadingDefer=n),c.label=1;case 1:return c.trys.push([1,4,,5]),[4,e.loadBeaconSDK()];case 2:return c.sent(),e.SDKLoadingDefer=null,[4,this.requireBeaconModule()];case 3:return i=c.sent(),a=new i({needQueryConfig:!1,appkey:r,strictMode:!1,isOversea:o}),e.instances[r]=a,e.flushQueue(r),[3,5];case 4:return l=c.sent(),console.error(l),[3,5];case 5:return[2]}}))}))},e.requireBeaconModule=function(){return ve(ni,ri)},e.instances={},e.queues={},e}(),ni="BeaconAction",ri="BeaconAction",oi=function(){var e=ye.get("luin")||ye.get("uin");return e&&(e=e.replace(/\D/g,"").replace(/^0+/,"")),e},ii=1200;!function(e){e.Web="web",e.H5="h5"}(Go||(Go={}));var ai,si,li={cdnuip:"",iqq:"",pvid:"",qqopen_id:go.hc_openid,playno:go.flowid,cdnid:go.cdnid,guid:go.guid,fplayerver:go.playerver,dsip:"",sstrength:"",devtype:"",nettype:"",freetype:"",platform:go.platform,vplatform:go.platform,codec:go.codec,device:go.device,resolution:go.resolution,osver:go.osver,playertype:go.playertype,appver:go.appVer,use_p2p:go.p2p,p2p_play:go.p2p,p2pver:go.p2pver,playtype:"",scenesid:go.sid,sid:go.vid,livepid:go.livepid,contentid:go.cid,drm:go.drmtype,videocapability:go.videoCapability,playtime:"",isuserpay:"",live_type:"",xserverip:"",durl:"",lookback:"",live_tag:"",extraInfo:"",spanId:"",tuid:"",ext1:"",ext2:"",ext3:""},ci=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;o.REPORT_KEY="0WEB0CN7W9446C2I",o.seq=0,o.lastPlayDuration=0,o.bufferHistory=[],o.flowHeader={cnntime:0,maxspeed:0,testspeed:0,downspeed:0,recnncount:0,loadingtime:0,blockcount:0,blocktime:0,errorcode:0,geturltime:0,fullecode:"",prdlength:0,get_stream_data_duration:0,get_sync_frame_duration:0,live_delay:0},o.isSettingLevel=!1,o.setEvtHandler=function(){o.msg.on(jr.DATASET_STATE_UPDATE,o.onStateChange),o.player.on(S.RETRY_BACKURL,o.onRetryUrl)},o.onRetryUrl=function(){o.flowHeader.recnncount=o.flowHeader.recnncount+1},o.onStateChange=function(e){var t,n=e.data,r=n.key,i=((t={})[io.LOAD_END]=o.onLoad,t[io.BUFFER_END]=o.onBuffer,t[io.GET_INFO_END]=o.onGetinfoEnd,t[io.SET_LEVEL_START]=o.onSetLevel,t[io.SESSION_START]=o.onSessionStart,t[io.SESSION_END]=o.onSessionEnd,t[io.CODEC_DEGRADE]=o.onCodecDegrade,t);i[r]&&i[r](n)},o.onSessionStart=function(){o.resetLoopData(),o.seq=0},o.onSessionEnd=function(e){var t=e.newVal,n=(void 0===t?{}:t).code;o.onPeriod({code:n}),o.seq=0,o.endPeriodReport(),o.reportedEvt={}},o.startPeriodReport=function(){o.endPeriodReport(),o.period=setInterval(o.onPeriod,6e4)},o.endPeriodReport=function(){o.period&&(clearInterval(o.period),o.period=null)},o.onSetLevel=function(){o.isSettingLevel=!0,o.onPeriod(),o.endPeriodReport()},o.onBuffer=function(e){var t=e.newVal,n=void 0===t?{}:t,r=e.startEvent,i=void 0===r?{}:r,a=n.ftime,s=i.ftime;a-s<=ii||o.bufferHistory.push({stime:s,etime:a})},o.onGetinfoEnd=function(e){var t=e.newVal,n=e.startEvent,r=t.ftime,i=n.ftime;o.flowHeader.geturltime=r-i},o.onCodecDegrade=function(e){var t=e.newVal,n=void 0===t?{}:t,r=n.ftime,i=n.code;o.report({step:701,stepname:"codec_degrade",etime:r,code:i})},o.onLoad=function(e){if(!o.reportedEvt[205]||o.isSettingLevel){o.reportedEvt[205]=!0,o.isSettingLevel=!1;var t=e.startEvent,n=void 0===t?{}:t,r=e.newVal,i=void 0===r?{}:r,a=i.code;a===Ur.SUC&&(o.flowHeader.loadingtime=i.ftime-n.ftime,o.flowHeader.errorcode=a,o.flowHeader.fullecode=a,o.report({step:205,stepname:"live_loading",code:a}),o.startPeriodReport())}},o.onPeriod=function(e){var t=(e||{code:Ur.SUC}).code,n=void 0===t?Ur.SUC:t,r=o.bufferHistory.reduce((function(e,t){return[e[0]+1,e[1]+(t.etime-t.stime)]}),[0,0]),i=r[0],a=r[1],s=o.player.dataset.getStats().playDuration;o.flowHeader.blockcount=i,o.flowHeader.blocktime=a,o.flowHeader.prdlength=s-o.lastPlayDuration,o.flowHeader.errorcode=n,o.flowHeader.fullecode=n;var l={step:n===Ur.SUC?263:150,stepname:n===Ur.SUC?"live_period":"live_error",code:n};o.report(l),o.resetLoopData(),o.lastPlayDuration=s},o.resetLoopData=function(){o.bufferHistory=[],o.flowHeader=u(u({},o.flowHeader),{blockcount:0,blocktime:0,errorcode:0,loadingtime:0,fullecode:"",prdlength:0,recnncount:0,downspeed:0,live_delay:0})};var i=t.config.liveQaReporterConfig;return o.config={paramsKey:u(u({},li),(null==i?void 0:i.paramsKey)||{}),onAfterReport:null==i?void 0:i.onAfterReport,onBeforeReport:null==i?void 0:i.onBeforeReport},o.setEvtHandler(),ti.register({appKey:o.REPORT_KEY,isOversea:!!(null==i?void 0:i.isOversea)},null==i?void 0:i.externalBeaconDefer),o.log("live-qa-reporter registered to ".concat(o.REPORT_KEY,", oversea: ").concat(!!(null==i?void 0:i.isOversea))),o.reporter=ti.report,o}return c(t,e),Object.defineProperty(t.prototype,"reportHeader",{get:function(){var e,t,n=this.config.paramsKey,r=void 0===n?{}:n,o=this.player.getCommonKv;return u({videocapability:o(r.videocapability)||"",cdnuip:o(r.cdnuip)||"",iqq:o(r.iqq)||oi(),qqopen_id:o(r.qqopen_id)||"",pvid:ye.get("pgv_pvid")||"",playno:o(r.playno)||"",cdnid:o(r.cdnid)||"",guid:o(r.guid)||"",fplayerver:o(r.fplayerver)||"",dsip:o(r.dsip)||"",sstrength:o(r.sstrength)||0,devtype:o(r.devtype)||0,nettype:o(r.nettype)||100,codec:o(r.codec)||N.H264,freetype:o(r.freetype)||0,platform:o(r.platform)||"",vplatform:o(r.platform)||"",device:o(r.device)||"",resolution:o(r.resolution)||"",osver:o(r.osver)||"",playertype:o(r.playertype)||0,appver:o(r.appver)||"",use_p2p:o(r.use_p2p)||0,p2p_play:o(r.p2p_play)||0,p2pver:o(r.p2pver)||"",playtype:o(r.playtype)||1,scenesid:o(r.scenesid)||0,drm:o(r.drm)||0,sid:o(r.sid)||0,livepid:o(r.livepid)||0,contentid:o(r.contentid)||0,playtime:o(r.playtime)||0,isuerpay:o(r.isuserpay)||0,live_type:o(r.live_type)||0,xserverip:o(r.xserverip)||"",durl:o(r.durl)||(null===(t=null===(e=this.player)||void 0===e?void 0:e.currentVideoInfo)||void 0===t?void 0:t.loadingUrl)||"",lookback:o(r.lookback)||0,live_tag:o(r.live_tag)||0,extraInfo:o(r.extraInfo)||"",spanId:o(r.spanId)||"",tuid:o(r.tuid)||"",kernel:this.player.kernelName,plat_code:ee.mobile?Go.H5:Go.Web,domain:Ee.getDomainOfURL(Ee.getTopFrameUrl()),seq:this.seq,ext1:o(r.ext1)||"",ext2:o(r.ext2)||"",ext3:o(r.ext3)||""},this.flowHeader)},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){this.endPeriodReport(),ti.clear(this.REPORT_KEY),e.prototype.destroy.call(this)},t.prototype.report=function(t){e.prototype.report.call(this,t),this.seq=this.seq+1},t.pluginName="live-qa-reporter",t}(ei),ui=function(){function e(e){var t=this;this.reportData={},this.currentBufferHistory=[],this.onStateChange=function(e){var n,r=e.data,o=r.new,i=r.old,a=((n={})[E.CANPLAY]=t.onCanPlay,n[E.BUFFERING]=t.onBuffering,n[E.END]=t.onEnd,n);a[o]&&a[o](e.data.videoInfo,i)},this.onError=function(e){var n,r,o=e.data.videoInfo;if(o){var i=o.uid,a=o.error,s=t.reportData[i];s&&(s.load>=0&&(t.emitToMainReporter({code:a.code,step:"30",stime:s.load,stepname:ai.FIRST_LOAD,etime:Date.now(),url:o.loadingUrl,urlIndex:(null===(r=null===(n=o.config)||void 0===n?void 0:n.backupUrls)||void 0===r?void 0:r.findIndex((function(e){return e===o.loadingUrl})))||-1},s),s.load=-1),t.emitToMainReporter({step:"50",playDuration:o.playtime,code:a.code,stepname:ai.END,tbcount:0,tbduration:0,scount:0,etime:Date.now(),bcount:t.currentBufferHistory.length,tduration:t.currentBufferHistory.reduce((function(e,t){return e+(t.etime-t.stime)}),0)},s))}},this.onFirstPlaying=function(e){var n=e.data.videoInfo;if(n){var r=t.reportData[n.uid];if(r){r.load>=0&&t.reportFirstLoad(n,r);var o=Date.now(),i={step:"32",stepname:ai.FIRST_RENDERING,stime:o,etime:o,code:Ur.SUC};t.emitToMainReporter(i,r)}else;}},this.onVideoNodeChange=function(e){var n=e.data.videoInfo;n&&!t.reportData[n.uid]&&(t.reportData[n.uid]={seq:0,flowidSuffix:"_ad".concat(t.getAdClipNumber()),load:Date.now()})},this.reportFirstLoad=function(e,n){var r,o,i,a,s=null!==(o=null===(r=t.adPlayer.currentVideoInfo)||void 0===r?void 0:r.cacheSize)&&void 0!==o?o:0,l={step:"30",stepname:ai.FIRST_LOAD,stime:n.load,etime:Date.now(),url:e.loadingUrl,urlIndex:(null===(a=null===(i=e.config)||void 0===i?void 0:i.backupUrls)||void 0===a?void 0:a.findIndex((function(t){return t===e.loadingUrl})))||-1,code:Ur.SUC,cachesize:s};t.emitToMainReporter(l,n),n.load=-1},this.onCanPlay=function(e){if(e){var n=t.reportData[e.uid];if(n){if(n.load>=0)return void t.reportFirstLoad(e,n);if(n.buffer>=0){var r=Date.now(),o=n.buffer;if(n.buffer=-1,r-o<=1200)return;t.currentBufferHistory.push({stime:o,etime:Date.now()});var i={step:"35",stime:o,stepname:ai.BUFFERING,etime:Date.now(),ptime:t.adPlayer.playtime,code:Ur.SUC};return void t.emitToMainReporter(i,n)}}}},this.onEnd=function(e){if(e){var n=t.reportData[e.uid];if(n){var r={step:"50",playDuration:e.playtime,code:Ur.SUC,stepname:ai.END,tbcount:0,tbduration:0,scount:0,etime:Date.now(),bcount:t.currentBufferHistory.length,tduration:t.currentBufferHistory.reduce((function(e,t){return e+(t.etime-t.stime)}),0)};t.emitToMainReporter(r,n)}}},this.onBuffering=function(e){if(e){var n=t.reportData[e.uid];n&&(n.buffer=Date.now())}},this.reporterPlugin=e}return e.prototype.destroy=function(){this.unbindCoreEvents()},e.prototype.init=function(e,t){this.adPlayer&&this.unbindCoreEvents();var n=e.currentVideoInfo;n&&(this.adPlayer=e,this.adType=t,this.bindCoreEvents(),this.reportData={},this.reportData[n.uid]={seq:0,flowidSuffix:"ad".concat(this.getAdClipNumber()),load:Date.now()})},e.prototype.getAdClipNumber=function(){return Object.keys(this.reportData).length},e.prototype.bindCoreEvents=function(){this.adPlayer.on(S.STATE_CHANGE,this.onStateChange),this.adPlayer.on(S.ERROR,this.onError),this.adPlayer.on(S.VIDEONODE_FIRST_PLAYING,this.onFirstPlaying),this.adPlayer.on(S.VIDEONODE_CHANGE,this.onVideoNodeChange)},e.prototype.unbindCoreEvents=function(){this.adPlayer.off(S.STATE_CHANGE,this.onStateChange),this.adPlayer.off(S.ERROR,this.onError),this.adPlayer.off(S.VIDEONODE_FIRST_PLAYING,this.onFirstPlaying),this.adPlayer.off(S.VIDEONODE_CHANGE,this.onVideoNodeChange)},e.prototype.emitToMainReporter=function(e,t){var n=u(u({code:Ur.SUC},e),{flowid:t.flowidSuffix,seq:t.seq,scenesid:si[this.adType]||si.otherAd,duration:this.adPlayer.duration,kernel:this.adPlayer.kernelName,vid:"",fmt:"",rate:"",cdnid:"",cdnip:"",drm:"",definition:"",dltype:""});t.seq+=1,this.reporterPlugin.emit("adReport",n)},e}();!function(e){e.INIT="init_player",e.GETINFO="get_cdn_url",e.FIRST_LOAD="first_load",e.FIRST_RENDERING="first_rendering",e.BUFFERING="second_buffering",e.SEEKING="user_seek",e.END="play_done",e.CODEC_DEGRADE="codec_degrade"}(ai||(ai={})),function(e){e[e.preAd=400]="preAd",e[e.ZT=401]="ZT",e[e.postAd=402]="postAd",e[e.otherAd=403]="otherAd",e[e.video=421]="video"}(si||(si={}));var di,pi,fi,hi={platform:go.platform,vplatform:go.platform,flowid:go.flowid,uin:"",QQopenid:go.hc_openid,WXopenid:go.hc_openid,logintype:go.hc_main_login,guid:go.guid,uip:"",cdnuip:go.cdnuip,codec:go.codec,cdnip:go.cdnip,online:go.online,p2p:go.p2p,sstrength:go.sstrength,network:go.network,speed:go.speed,device:go.device,resolution:go.resolution,testid:go.testid,osver:go.osver,p2pver:go.p2pver,appver:go.appVer,playerver:go.playerver,playertype:go.playertype,confid:go.confid,cdnid:go.cdnid,drm:go.drmtype,scenesid:"",playtype:"",dltype:go.dltype,vid:go.vid,definition:go.currentDefn,fmt:go.fmt,rate:go.rate,videocapability:go.videoCapability,isad:"",duration:"",kernel:"",ext1:"",ext2:"",ext3:""},gi=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;o.REPORT_KEY="0WEB0QEJW44KW5A5",o.FLOW_DATA_KEY="__thumbplayer_vod_qa_report__",o.seq=0,o.bufferHistory=[],o.seekHistory=[],o.initData={fmt:"",rate:"",cdnid:""},o.bufferCount=0,o.seekCount=0,o.setEvtHandler=function(){o.msg.on(jr.DATASET_STATE_UPDATE,o.onStateChange),o.player.on(S.SETLEVEL_OVER,(function(){o.bufferCount=0,o.seekCount=0})),window.addEventListener("pagehide",o.onPageHide)},o.onPageHide=function(){o.handlePageHide(o.collectFinalData())},o.onStateChange=function(e){var t,n=e.data,r=n.key,i=((t={})[io.INIT]=o.onPlayerInit,t[io.LOAD_END]=o.onLoad,t[io.BUFFER_END]=o.onBuffer,t[io.GET_INFO_END]=o.onGetinfoEnd,t[io.SEEK_END]=o.onSeek,t[io.SESSION_END]=o.onPlaySessionEnd,t[io.FIRST_PLAY]=o.onFirstPlay,t[io.SESSION_START]=o.reset,t[io.CODEC_DEGRADE]=o.onCodecDegrade,t[io.RETRY_BACKURL]=function(){o.bufferCount=0,o.seekCount=0},t);i[r]&&i[r](n)},o.onPlayerInit=function(e){var t=e.newVal,n=t.ftime,r=t.ext,i=(void 0===r?{}:r).stime;o.report({stepname:ai.INIT,step:"5",stime:i,etime:n,code:Ur.SUC})},o.onGetinfoEnd=function(e){var t=e.newVal,n=e.startEvent,r=t.ftime,i=t.code,a=n.ftime;o.report({stepname:ai.GETINFO,step:"15",stime:a,etime:r,code:i})},o.onLoad=function(e){var t=e.newVal,n=void 0===t?{}:t,r=e.startEvent,i=void 0===r?{}:r,a=n,s=a.ftime,l=a.currentUrl,c=a.urlIndex,u=a.code,d=a.ext,p=(null==d?void 0:d.isAdPlaying)?s:i.ftime;o.report({stepname:ai.FIRST_LOAD,step:"30",stime:p,etime:s,url:l||"",urlindex:c+1,fileopenedtime:0,firstpacketreadtime:0,ext1:o.player.getCommonKv(go.isPreload)||0,ext2:Number(null==d?void 0:d.isAdPlaying),code:u})},o.onFirstPlay=function(){if(!o.reportedEvt[ai.FIRST_RENDERING]){o.reportedEvt[ai.FIRST_RENDERING]=!0;var e=+new Date;o.report({step:"32",stepname:ai.FIRST_RENDERING,stime:e,etime:e,code:Ur.SUC})}},o.onBuffer=function(e){var t=e.newVal,n=void 0===t?{}:t,r=e.startEvent,i=void 0===r?{}:r,a=n.ftime,s=n.playtime,l=n.currentUrl,c=n.code,u=i.ftime,d=i.prevState===E.SEEKING?1:0,p=o.player.playbackRate>1?2:1;a-u<=ii||(o.bufferHistory.push({stime:u,etime:a}),o.bufferCount<20&&(o.report({step:"35",stepname:ai.BUFFERING,ptime:s,levent:d,stime:u,etime:a,scene:p,format:o.player.getCommonKv(o.config.paramsKey.fmt)||0,url:l||"",reason:0,code:c,vt:o.player.getCommonKv(o.config.paramsKey.cdnid)||0}),o.bufferCount+=1))},o.onSeek=function(e){var t=e.newVal,n=void 0===t?{}:t,r=e.startEvent,i=void 0===r?{}:r,a=n.ftime,s=n.playtime,l=n.code,c=n.ext,u=void 0===c?{}:c,d=i.ftime,p=i.playtime;u.isUserSeek&&(o.seekHistory.push({lstime:d,letime:a}),o.seekCount<20&&(o.report({step:"40",stepname:ai.SEEKING,lstime:d,letime:a,pstime:p,petime:s,format:o.player.getCommonKv(o.config.paramsKey.fmt)||0,code:l}),o.seekCount+=1))},o.onPlaySessionEnd=function(e){if(!o.reportedEvt[ai.END]){o.reportedEvt[ai.END]=!0;var t=e.newVal,n=void 0===t?{}:t,r=n.ftime,i=n.code,a=o.player.dataset.getStats().playDuration,s=[0===i.indexOf(Ur.GETINFO_SERVER_CODE_PREFIX),0===i.indexOf("70014"),0===i.indexOf("7004"),"70011112"===i,"70011113"===i].some((function(e){return e})),l=s?Ur.SUC:i;o.report(u(u({step:"50",stepname:ai.END,etime:r,playduration:a,code:l},o.seekStat),o.bufferStat)),o.removeFromLS(o.player.getCommonKv(go.flowid)),o.seq=0}},o.onCodecDegrade=function(e){var t=e.newVal,n=void 0===t?{}:t,r=n.ftime,i=n.code;o.report({step:"701",stepname:ai.CODEC_DEGRADE,etime:r,code:i})},o.onInit=function(){o.reportPrev()},o.collectFinalData=function(){var e=+new Date;if(o.player.getCommonKv(go.flowid)&&!o.reportedEvt[ai.END]){var t=o.player.dataset.getStats().playDuration;return u(u({step:"50",stepname:ai.END,etime:e,code:Ur.SUC,playduration:t},o.seekStat),o.bufferStat)}},o.reset=function(){o.reportedEvt={},o.initData.fmt="",o.initData.rate="",o.initData.cdnid="",o.bufferHistory=[],o.seekHistory=[],o.bufferCount=0,o.seekCount=0};var i=t.config.vodQaReporterConfig;return o.config={paramsKey:u(u({},hi),(null==i?void 0:i.paramsKey)||{}),onAfterReport:null==i?void 0:i.onAfterReport,onBeforeReport:null==i?void 0:i.onBeforeReport},o.setEvtHandler(),ti.register({appKey:o.REPORT_KEY,isOversea:!!(null==i?void 0:i.isOversea)},null==i?void 0:i.externalBeaconDefer),o.log("vod-qa-reporter registered to ".concat(o.REPORT_KEY,", oversea: ").concat(!!(null==i?void 0:i.isOversea))),o.reporter=ti.report,o.reporterForPageHide=ti.reportWhenPageHide,o.onInit(),o.adReportHelper=new ui(o),o.player.on(Hr.AD_REQ_ASSETS_START,(function(e){var n=e.data;setTimeout((function(){var e,r=Mr(null==t?void 0:t.config.instanceId),i=null===(e=null==r?void 0:r.getPlayerInstance)||void 0===e?void 0:e.call(r,n.adType);i&&o.adReportHelper.init(i,n.adType)}))})),o.on("adReport",(function(t){e.prototype.report.call(o,u(u({},t.data),{flowid:"".concat(o.reportHeader.flowid,"_").concat(t.data.flowid),isad:1}))})),o}return c(t,e),Object.defineProperty(t.prototype,"seekStat",{get:function(){var e=this.seekHistory.reduce((function(e,t){var n=e[0],r=e[1],o=t.letime-t.lstime;return o>ii?[n+1,r+o]:e}),[0,0]);return{tbcount:e[0],tbduration:e[1],scount:this.seekHistory.length}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bufferStat",{get:function(){return{tduration:this.bufferHistory.reduce((function(e,t){return e+(t.etime-t.stime)}),0),bcount:this.bufferHistory.length}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"reportHeader",{get:function(){var e,t=this,n=this.config.paramsKey,r=this.player.getCommonKv,o=this.player.dataset.getStats(),i=o.averageDecodeTimeInMs,a=o.frameDroppedInPercentage;return Object.entries(this.initData).forEach((function(e){var o=e[0];e[1]||(t.initData[o]=r(n[o])||"")})),{videocapability:r(n.videocapability)||"",platform:r(n.platform)||"",vplatform:r(n.platform)||"",flowid:r(n.flowid)||"",uin:r(n.uin)||oi(),QQopenid:r(n.QQopenid)||"",WXopenid:r(n.WXopenid)||"",logintype:r(n.logintype)||0,guid:r(n.guid)||"",uip:r(n.uip)||"",cdnuip:r(n.cdnuip)||"",cdnip:r(n.cdnip)||"",online:r(n.online)||1,p2p:r(n.p2p)||0,sstrength:r(n.sstrength)||0,network:r(n.network)||0,speed:r(n.speed)||0,device:r(n.device)||"",resolution:r(n.resolution)||"",testid:r(n.testid)||0,codec:r(n.codec)||N.H264,osver:r(n.osver)||"",p2pver:r(n.p2pver)||"",appver:r(n.appver)||"",playerver:r(n.playerver)||"",confid:r(n.confid)||0,playertype:r(n.playertype)||0,cdnid:this.initData.cdnid,scenesid:r(n.scenesid)||si.video,playtype:0,dltype:r(n.dltype)||0,vid:r(n.vid)||"",fmt:this.initData.fmt,rate:this.initData.rate,drm:r(n.drm)||0,definition:r(n.definition)||"",duration:Math.round(r(n.duration)||this.player.duration),seq:this.seq,kernel:null!==(e=this.player.kernelName)&&void 0!==e?e:"unknown",domain:Ee.getDomainOfURL(Ee.getTopFrameUrl()),isad:0,ext1:r(n.ext1)||"",ext2:r(n.ext2)||"",ext3:r(n.ext3)||"",framedrop:a,avgdecodecost:i}},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){window.removeEventListener("pagehide",this.onPageHide),ti.clear(this.REPORT_KEY),e.prototype.destroy.call(this)},t.prototype.report=function(t){e.prototype.report.call(this,t),this.seq=this.seq+1},t.pluginName="vod-qa-reporter",t}(ei),vi={VOD_FLOW_REPORTER:"vod-flow-reporter",LIVE_FLOW_REPORTER:"live-flow-reporter",GETINFO_LIVE:"getinfo-live",GETINFO_VOD:"getinfo-vod",GETINFO_TC:"getinfo-tc",BARRAGE:"barrage",MARKID:"markid",CONTEXT_MENU:"context-menu",WATERMARK:"ui-watermark",UI_PREVIEW:"ui-preview",UI_PREVIEW_LIST:"ui-preview-list",POLL_DURATION:"poll-duration",REPORTERS:"reporters",UI_ROLE_FILTER:"ui-role-filter",SETTING_BTN:"setting-btn",CTRLBAR:"ctrlbar",ERROR_PAGE:"error-page",FULLSCREEN_RATIO:"fullscreen-ratio",INFO_PANEL:"info-panel",LIVE_POLL:"live-poll",POSTER:"poster",SUBTITLE:"subtitle",TIPS:"tips",UI_LOADING:"ui-loading",VR:"vr",TVK_UTILS:"tvk-utils",UNMUTE_BTN:"unmute-btn"},Ai={"vod-flow-reporter":{cdnPath:"thumbplayer-plugin-atta-reporter",version:"1.4.104"},"live-flow-reporter":{cdnPath:"thumbplayer-plugin-atta-reporter",version:"1.4.104"},"getinfo-live":{pluginName:"__thumbplayer-video-request",version:"1.4.133"},"getinfo-vod":{pluginName:"__thumbplayer-video-request",version:"1.4.133"},"getinfo-tc":{pluginName:"__thumbplayer-video-request",version:"1.4.125"},barrage:{pluginName:"Barrage",version:"1.4.133"},markid:{pluginName:"ui-markid",version:"1.4.133"},"context-menu":{cdnPath:"thumbplayer-plugin-ui-contextmenu",version:"1.4.133"},"ui-preview-list":{cdnPath:"thumbplayer-plugin-ui-preview",version:"1.4.133"},"ui-preview":{cdnPath:"thumbplayer-plugin-ui-preview",version:"1.4.133"},"ui-watermark":{cdnPath:"thumbplayer-plugin-watermark",version:"1.4.133"},"poll-duration":{version:"1.4.133"},reporters:{version:"1.4.133"},"ui-role-filter":{version:"1.4.133"},"setting-btn":{version:"1.4.133"},ctrlbar:{version:"1.4.133"},"error-page":{version:"1.4.133"},"fullscreen-ratio":{version:"1.4.133"},"info-panel":{version:"1.4.133"},"live-poll":{version:"1.4.104"},poster:{version:"1.4.133"},subtitle:{version:"1.4.133"},tips:{version:"1.4.133"},"ui-loading":{version:"1.4.133"},vr:{version:"1.4.133"},"tvk-utils":{version:"1.4.133"},"unmute-btn":{version:"1.4.133"}};!function(e){e.USER_CLICK="user-click"}(di||(di={})),function(e){e.IN_MUTED="autoPlayInMuted",e.USER_GESTURE="autoPlayRequireByUserGesture"}(pi||(pi={})),function(e){e.NORMAL="normal",e.VERTICAL="vertical",e.HORIZON="horizon"}(fi||(fi={}));var yi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.plugins={},t.pluginMsg=new Je,t.playerApiProxy={},t.pluginMsgProxy={on:t.pluginMsg.on.bind(t.pluginMsg),off:t.pluginMsg.off.bind(t.pluginMsg),once:t.pluginMsg.once.bind(t.pluginMsg)},t._destroyed=!1,t.loadPlugin=function(e){var n=e.config,r=e.timeout,o=e.version,i=e.crossOrigin,a=e.globalName,s=e.pluginName,l=void 0===s?a:s,c=e.insName,d=e.url;if(!d&&!Ai[l])throw new Error("\u60a8\u6240\u4f20\u5165\u7684\u63d2\u4ef6\u4e0d\u662f\u5b98\u65b9\u63d2\u4ef6\uff0c\u5fc5\u987b\u63d0\u4f9b url");if(!d&&Ai[l]){var p=o||Ai[l].version,f=Ai[l].cdnPath||"thumbplayer-plugin-".concat(l);l=Ai[l].pluginName||l,d="//vm.gtimg.cn/thumbplayer/plugins/".concat(f,"/").concat(p,"/index.min.js")}return c=c||l,xe.loadScript(d,void 0,r,{crossOrigin:i}).then((function(){t._destroyed||(Wr(l)||zr(l,window[a]),t.plugins[c]||t.createPlugin(c,u(u({},n),{pluginName:l})))}))},t}return c(t,e),t.prototype.createPlugin=function(e,t){void 0===t&&(t={});var n=t.pluginName,r=void 0===n?e:n,o=Wr(r);if(!o)throw new Error("cannot find plugin: ".concat(r));this.triggerSetupEvent({name:e,plugin:o,instance:null},!0),to(e,o,this,t,{msg:this.pluginMsgProxy,api:this.playerApiProxy}),r===Vr&&(Br(this.config.instanceId,this.plugins[Vr]),delete this.plugins[Vr]),this.triggerSetupEvent({name:e,plugin:o,instance:null})},t.prototype.createPlugins=function(e){var t=this;e.forEach((function(e){try{"string"==typeof e?t.createPlugin(e):t.createPlugin.apply(t,e)}catch(n){console.error(n)}}))},t.prototype.triggerSetupEvent=function(e,t){var n=this;void 0===t&&(t=!1);var r="".concat(t?"before":"","pluginsetup");setTimeout((function(){n.pluginMsg.emit("".concat(r,":").concat(e.name),e)}))},t.registerPlugin=zr,t.deregisterPlugin=Jr,t.getPlugins=Zr,t.getPlugin=Wr,t.isFunctionPlugin=eo,t.pluginExists=Yr,t.isBasicPlugin=eo,t}(Je),_i=function(){function e(e){this.vinfoCache=null,this.adCache=null,this.config=e}return Object.defineProperty(e.prototype,"startParam",{get:function(){return this.config.startParam},set:function(e){this.config.startParam=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flowid",{get:function(){return this.config.flowid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoLoadParam",{get:function(){return this.config.startParam.videoLoadParam},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoReqInfoParam",{get:function(){return this.config.startParam.videoReqInfoParam},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vid",{get:function(){return this.config.startParam.vid},enumerable:!1,configurable:!0}),e.prototype.getAdParam=function(e){return u({adType:e},this.startParam.adParam)},e.prototype.shouldRequest=function(){return!!this.config.videoReqInfoPlugin},e.prototype.setVideoInfo=function(){var e,t;return f(this,void 0,void 0,(function(){var n;return h(this,(function(r){switch(r.label){case 0:return this.vinfoCache&&this.vid&&this.shouldRequest()?[4,this.vinfoCache]:[2];case 1:return(n=r.sent())?(null===(t=(e=this.config.videoReqInfoPlugin).setVideoInfo)||void 0===t||t.call(e,this.vid,n),[2]):[2]}}))}))},e.prototype.getOutputData=function(){var e,t;return f(this,void 0,void 0,(function(){var n;return h(this,(function(r){switch(r.label){case 0:return this.vinfoCache&&this.vid?[4,this.vinfoCache]:[2];case 1:return(n=r.sent())?[2,null===(t=null===(e=this.config.videoReqInfoPlugin)||void 0===e?void 0:e.parseVideoInfo)||void 0===t?void 0:t.call(e,this.vid,n,{flowid:this.flowid})]:[2]}}))}))},e.prototype.requestVod=function(e,t){var n;return void 0===t&&(t=!0),f(this,void 0,void 0,(function(){var r,o,i,a;return h(this,(function(s){switch(s.label){case 0:return r=this.config,o=r.videoReqInfoPlugin,i=r.startParam,a=r.flowid,this.shouldRequest()?(null===(n=o.abort)||void 0===n||n.call(o),[4,o.request(i.vid,u(u(u({},i.videoReqInfoParam),{flowid:a}),e),[],t)]):[2,null];case 1:return[2,s.sent()]}}))}))},e.prototype.requestRawVod=function(){this.vinfoCache=this.requestVod({},!1).then((function(e){return null==e?void 0:e.resData}))},e}(),mi=function(){function e(e){var t,n=this;this.player=e,this.retryCheckers=[],this.retryTimesInSession=0,this.onPlaySessionStartHandler=function(){n.retryTimesInSession=0,n.retryCheckers.forEach((function(e){return e.onSessionStart()}))},this.onVideoPlaying=function(e){e.data,n.retryCheckers.forEach((function(e){return e.onRetrySucc()}))},this.checkerEvtHandler=function(e){var t;if(n.player.canGetinfoRetry()){var r=n.getHitChecker(e);if(r){var o=r.outOfTimes,i=void 0!==o&&o,a=n.player.config,s=a.type,l=a.maxRetryGetinfoTimesInLiveSession,c=a.maxRetryGetinfoTimesInVodSession;n.retryTimesInSession>=(s===A.LIVE?l:c)&&(i=!0),n.retryTimesInSession++,n.logger.log("retry on ".concat(e.type,",\n    outOfTimes=").concat(i,",\n    retryTimes=").concat(r.retryTimes,", retryTimesInSession=").concat(n.retryTimesInSession,",\n    playParam=").concat(te.safelyStringify(r.updatePlayParam),",\n    error=").concat(null===(t=r.error)||void 0===t?void 0:t.code)),n.player.startGetinfoRetry(r,i)}}},this.player.getRetryCheckClasses().forEach((function(t){n.retryCheckers.push(new t(e))})),this.logger=new ue(this.player.config.instanceId,"RetryManager"),this.evtMap=((t={})[Hr.PLAY_SESSION_START]=this.onPlaySessionStartHandler,t[Hr.VIDEO_PLAYING]=this.onVideoPlaying,t),this.setCheckEvents(!0),this.setPlayerEvents(!0)}return e.prototype.destroy=function(){this.setCheckEvents(!1),this.setPlayerEvents(!1),this.retryCheckers.forEach((function(e){return e.destroy()})),this.player=null,this.retryCheckers=null},e.prototype.getHitChecker=function(e){for(var t=0;t<this.retryCheckers.length;t++){var n=this.retryCheckers[t];if(n.checkEvt===e.type){var r=n.check(e);if(r)return this.logger.log("checker hit ".concat(n.constructor.name)),r}}return null},e.prototype.setCheckEvents=function(e){var t=this;void 0===e&&(e=!0);for(var n=e?this.player.on:this.player.off,r=[],o=0;o<this.retryCheckers.length;o++)-1===r.indexOf(this.retryCheckers[o].checkEvt)&&r.push(this.retryCheckers[o].checkEvt);r.forEach((function(e){n.call(t.player,e,t.checkerEvtHandler)}))},e.prototype.setPlayerEvents=function(e){var t=this,n=e?this.player.on:this.player.off;Object.keys(this.evtMap).forEach((function(e){n.call(t.player,e,t.evtMap[e])}))},e}(),Ei=function(){function e(e){this.checkEvt=null,this.retryTimes=0,this.player=e,this.logger=new ue(this.player.config.instanceId,"RetryChecker")}return e.prototype.destroy=function(){this.player=null},e.prototype.onSessionStart=function(){this.retryTimes=0},e.prototype.onRetrySucc=function(){this.retryTimes=0},e.prototype.check=function(e){return null},e.prototype.getRetryConfig=function(e){var t=e.playtime;return{error:e.error,updatePlayParam:{videoReqInfoParam:{},videoLoadParam:{startTime:t,kernelName:void 0}},retryTimes:this.retryTimes}},e}(),Ii=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checkEvt=S.ERROR,t.stateWhenErrorHappen=null,t.playtimeWhenErrorHappen=-1,t}return c(t,e),t.prototype.check=function(e){var t=e.data.videoInfo.error,n=this.player.config.maxRetryGetinfoTimes;return this.retryTimes>=n?{outOfTimes:!0,error:t,retryTimes:this.retryTimes}:this.checkNormalErrorCode(e)},t.prototype.onRetrySucc=function(){e.prototype.onRetrySucc.call(this),this.stateWhenErrorHappen=null,this.playtimeWhenErrorHappen=-1},t.prototype.updateRetryTimes=function(){this.retryTimes+=1},t.prototype.checkNormalErrorCode=function(e){var t,n=e.data.videoInfo,r=n.stateWhenErrorHappen,o=n.playtime;null===this.stateWhenErrorHappen&&(this.stateWhenErrorHappen=r),-1===this.playtimeWhenErrorHappen&&(this.playtimeWhenErrorHappen=o),this.updateRetryTimes();var i=this.getRetryConfig(n);return i.stateWhenErrorHappen=this.stateWhenErrorHappen,-1!==this.playtimeWhenErrorHappen&&(null===(t=null==i?void 0:i.updatePlayParam)||void 0===t?void 0:t.videoLoadParam)&&this.player.config.type===A.VOD&&(i.updatePlayParam.videoLoadParam.startTime=this.playtimeWhenErrorHappen),i},t}(Ei);function bi(e){return e.map((function(e){return[e[0].pluginName,e[1]]}))}function Ci(e){return function(t,n,r){var o=e;if(!o){var i="on".length,a=n.slice(i).toLowerCase(),s=Object.keys(S).find((function(e){return S[e].toLowerCase()===a}));s?o=S[s]:(s=Object.keys(Hr).find((function(e){return Hr[e].toLowerCase()===a})),o=Hr[s])}var l=r.value;r.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o&&this.player?this.player.on(o,l.bind(this)):l.apply(this,e)}}}var wi,Si=function(e,t,n){var r=n.value;n.value=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o="";try{o=JSON.stringify(e)}catch(qe){o="parse arg failed"}return this.setStateKv(t,{type:ao.API_INVOKE,ftime:Date.now(),ext:{from:"thumbplayer-h5",args:o}}),r.apply(this,e)}},xi=function(e,t,n){var r=n.value;n.value=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!this["__hasRun".concat(t)])return this["__hasRun".concat(t)]=!0,r.apply(this,e)}},Pi=function(e){function t(t){var n=e.call(this)||this;return n.flowid=t.flowid,n}return c(t,e),t.prototype.destroy=function(){this.removeAllListeners()},t.prototype.getName=function(){return""},t.prototype.pause=function(e){},t.prototype.resume=function(){},t.prototype.replay=function(e,t){return Promise.reject("replay not implemented! (".concat(this.getName(),")"))},t.prototype.start=function(){return Promise.resolve()},t.prototype.preload=function(){return Promise.resolve()},t.prototype.retry=function(e,t){},t}(Je);!function(e){e.PRELOAD_NEXT="PRELOAD_NEXT",e.PRELOAD="PRELOAD",e.START="START",e.END="END",e.ABORT="ABORT"}(wi||(wi={}));var Ti=function(e){function t(t){var n,r=this;return(r=e.call(this,t)||this).config=t,r.isPreloadNext=!1,r.onAdCountdown=function(e){var t=e.data;t.adType!==Qr.PRE||!r.config.enableP2P||t.countdown>60||(r.preloadNext(),pn.emit(x.UPDATE,{instanceId:r.config.instanceId,remainTime:t.countdown}))},r.onAdEnd=function(e){var t,n=e.data;n.adType===Qr.PRE&&(r.config.corePlayer.volume=null===(t=Mr(r.config.instanceId))||void 0===t?void 0:t.getAdVolume()),r.isInValidAd(n)||r.endFlow()},r.onAdAssetsLoaded=function(e){var t=e.data;r.isInValidAd(t)||r.preloadNext()},r.onAdPlayBlocked=function(e){var t=e.data;r.isInValidAd(t)||(r.isPreload=!0)},r.logger=new ue(t.instanceId,"AdFlowNode"),null===(n=Mr(t.instanceId))||void 0===n||n.on(Hr.AD_AUTOPLAY_BLOCKED,r.onAdPlayBlocked),r}return c(t,e),t.prototype.getName=function(){return"AdFlowNode.".concat(this.config.adType)},t.prototype.start=function(){return this.logger.log("".concat(this.getName()," exec start")),this.emit(wi.START,{name:this.getName()}),this.checkCanPlayAd()?(this.isPreload=!1,this.bindAdEvents(),this.playAd()):(this.logger.log("".concat(this.getName()," skip exec start")),void this.endFlow())},t.prototype.preload=function(){var e,t=this;this.logger.log("".concat(this.getName()," exec preload")),this.emit(wi.PRELOAD,{name:this.getName()});var n=function(){t.emit(wi.PRELOAD_NEXT,{forcePreload:!0,name:t.getName()})};return this.checkCanPlayAd()?(this.isPreload=!0,this.bindAdEvents(),null===(e=Mr(this.config.instanceId))||void 0===e?void 0:e.loadAd(this.startParam).then((function(e){!1===e&&n()})).catch(n)):(this.logger.log("".concat(this.getName()," skip exec preload")),void n())},t.prototype.pause=function(){var e;this.logger.log("".concat(this.getName()," exec pause")),null===(e=Mr(this.config.instanceId))||void 0===e||e.pauseAd(this.config.adType)},t.prototype.resume=function(){var e;this.logger.log("".concat(this.getName()," exec resume")),null===(e=Mr(this.config.instanceId))||void 0===e||e.resumeAd(this.config.adType)},t.prototype.destroy=function(){var t=Mr(this.config.instanceId);t&&(t.off(jr.AD_COUNTDOWN_CHANGE,this.onAdCountdown),t.off(Hr.AD_END,this.onAdEnd),t.off(Hr.AD_ASSETS_LOADED,this.onAdAssetsLoaded),t.off(Hr.AD_AUTOPLAY_BLOCKED,this.onAdPlayBlocked)),e.prototype.destroy.call(this)},t.prototype.checkCanPlayAd=function(){var e=this.config,t=e.instanceId,n=e.reqInfo;return!(!Mr(t)||!this.startParam)&&(n.adCache&&(Mr(t).setAdInfo(n.adCache),n.adCache=null),!0)},t.prototype.bindAdEvents=function(){var e=Mr(this.config.instanceId);e&&(e.on(jr.AD_COUNTDOWN_CHANGE,this.onAdCountdown),e.on(Hr.AD_END,this.onAdEnd),e.on(Hr.AD_ASSETS_LOADED,this.onAdAssetsLoaded))},t.prototype.playAd=function(){var e,t=this;return null===(e=Mr(this.config.instanceId))||void 0===e?void 0:e.playAd(this.startParam).catch((function(){return t.endFlow()}))},Object.defineProperty(t.prototype,"startParam",{get:function(){var e=this.config,t=e.reqInfo,n=e.adType;return t.getAdParam(n)},enumerable:!1,configurable:!0}),t.prototype.preloadNext=function(){this.isPreloadNext||(this.isPreloadNext=!0,this.emit(wi.PRELOAD_NEXT,{name:this.getName()}))},t.prototype.endFlow=function(){this.emit(wi.END,{name:this.getName()}),this.destroy()},t.prototype.isInValidAd=function(e){return e.adType!==this.config.adType},d([xi,p("design:type",Function),p("design:paramtypes",[]),p("design:returntype",void 0)],t.prototype,"bindAdEvents",null),t}(Pi),Di=function(){function e(e){this.config=e,this.flowNodeList=[],this.currentFlowNodeIndex=0,this.lastNodeList=[],this.logger=new ue(e.playerInstanceId,"FlowManager")}return Object.defineProperty(e.prototype,"onFlowEnd",{get:function(){return this.config.onFlowEnd||function(){}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onFlowEvts",{get:function(){return this.config.onFlowEvts||function(){}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFlowNode",{get:function(){return this.flowNodeList[this.currentFlowNodeIndex]},enumerable:!1,configurable:!0}),e.prototype.push=function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n.forEach((function(e){return t.bindNodeEvents(e)})),(e=this.flowNodeList).push.apply(e,n)},e.prototype.setLastNode=function(e){this.lastNodeList.push(e)},e.prototype.clear=function(){this.flowNodeList.forEach((function(e){return e.destroy()})),this.flowNodeList=[],this.lastNodeList=[],this.currentFlowNodeIndex=0},e.prototype.bindNodeEvents=function(e){var t,n=this,r=((t={})[wi.PRELOAD_NEXT]=function(t){var r,o=t.data;n.logger.log("".concat(e.getName()," emited: FLOW_NODE_EVENT.PRELOAD_NEXT")),n.config.disablePreload&&!(null==o?void 0:o.forcePreload)||null===(r=n.getNextNode(e))||void 0===r||r.preload()},t[wi.END]=function(t){var r=t.data;n.logger.log("".concat(e.getName()," emited: FLOW_NODE_EVENT.END")),r.videoEndState&&(n.videoEndState=r.videoEndState),e.removeAllListeners();var o=n.getNextNode(e);if(!o){var i=e.getName();return n.logger.log("no next node after ".concat(i,", clear")),n.clear(),n.onFlowEnd({code:Ur.SUC,endState:n.videoEndState,curFlowNodeName:i}),void(n.videoEndState="")}if(n.lastNodeList.includes(e)){i=e.getName();return n.logger.log("lastNodeList includes ".concat(i,", end")),n.onFlowEnd({code:Ur.SUC,curFlowNodeName:i})}n.currentFlowNodeIndex+=1,n.logger.log("next node start, current index is ".concat(n.currentFlowNodeIndex)),o.start()},t[wi.ABORT]=function(t){var r=t.data,o=e.getName();n.logger.log("".concat(o," emited: FLOW_NODE_EVENT.ABORT")),n.clear(),n.onFlowEnd(u(u({},r),{endState:r.endState||y.ERROR,curFlowNodeName:o}))},t);Object.keys(wi).forEach((function(t){e.on(t,(function(e){var t=e.type,o=e.data;n.onFlowEvts(t,o),r[t]&&r[t]({data:o})}))}))},e.prototype.getNextNode=function(e){var t=this.flowNodeList.indexOf(e);if(-1!==t)return this.flowNodeList[t+1]},e}(),Oi=function(e){function t(t){var n=e.call(this,u(u({},t),{flowid:t.reqInfo.flowid}))||this;return n.config=t,n.logger=new ue(t.instanceId,"PreloadFlowNode"),n}return c(t,e),t.prototype.getName=function(){return"PreloadFlowNode"},t.prototype.start=function(){return f(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,l,c,u=this;return h(this,(function(d){switch(d.label){case 0:return e=this.config,t=e.reqInfo,n=e.videoEndTime,r=e.playerConfig,o=e.corePlayer,i=e.extEvtDispatcher,[4,t.getOutputData()];case 1:return(a=d.sent())&&a.kernelName&&!a.error?(i.emit(jr.PRELOAD_GETINFO_OVER,a),s=a.kernelName,l=a.urlConfig,this.preloadKernel=s,pn.emit(x.START,{kernelName:s,urlConfig:l,instanceId:this.config.instanceId,videoLoadParam:t.videoLoadParam,playerConfig:r}),this.logger.log("start; kernelName=".concat(s)),c=-1,this.preloadLoop=new _t((function(){var e=n||o.duration,t=Math.floor(Math.max(e-o.playtime,0));c!==t&&(c=t,pn.emit(x.UPDATE,{kernelName:s,remainTime:t}),u.logger.log("update; kernelName=".concat(s,", remainTime=").concat(t)),t||u.preloadLoop.destroy())}),lt.Timer),this.preloadLoop.start(Ni),[2]):(this.logger.error("preload() error; urlConfig=".concat(te.safelyStringify(a))),[2])}}))}))},t.prototype.destroy=function(){var t;e.prototype.destroy.call(this),pn.emit(x.STOP,{kernelName:this.preloadKernel}),this.logger.log("stop; kernelName=".concat(this.preloadKernel)),null===(t=this.preloadLoop)||void 0===t||t.destroy()},t}(Pi),Ni=1e3,Ri=function(e){function t(t){var n=e.call(this,u(u({},t),{flowid:t.reqInfo.flowid}))||this;return n.config=t,n.logger=new ue(t.instanceId,"RequestFlowNode"),n}return c(t,e),t.prototype.getName=function(){return"RequestFlowNode.".concat(this.config.adType)},t.prototype.start=function(){return f(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return this.logger.log("".concat(this.getName()," start")),this.emit(wi.START,{name:this.getName()}),this.loadDefer?[4,this.loadDefer]:[3,2];case 1:return e.sent(),[3,4];case 2:return[4,this.request()];case 3:e.sent(),e.label=4;case 4:return this.endFlow(),[2]}}))}))},t.prototype.preload=function(){var e=this;return this.emit(wi.PRELOAD,{name:this.getName()}),this.isPreload=!0,this.loadDefer=this.request().then((function(){e.emit(wi.PRELOAD_NEXT,{forcePreload:e.config.adType===Qr.PRE,name:e.getName()})})),this.loadDefer},t.prototype.request=function(){return f(this,void 0,void 0,(function(){var e,t;return h(this,(function(n){return this.logger.log("".concat(this.getName()," request")),e=this.config,t=e.reqInfo,e.adType===Qr.PRE&&t.requestRawVod(),[2]}))}))},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.endFlow=function(){this.logger.log("".concat(this.getName()," end")),this.emit(wi.END,{name:this.getName()}),this.destroy()},t}(Pi),ki=function(e){function t(t){var n,r=e.call(this,t)||this;return r.config=t,r.isReplaying=!1,r.isDestroyed=!1,r.onVideoPlayBlocked=function(){return r.isPreload=!0},r.onVideoTimeUpdate=function(){var e;if(!r.isLive){var t=null!==(e=r.startParam.postAdReqLeftTime)&&void 0!==e?e:10;Number.isNaN(t)||r.corePlayer.playtime+t>=r.corePlayer.duration&&r.emitPreloadNext()}},r.onVideoStop=function(e){var t,n=e.data;if(r.isReplaying)r.isReplaying=!1;else if(!(null===(t=n.videoInfo)||void 0===t?void 0:t.error)){r.flowOverHandler();var o=n.isUserStop?wi.ABORT:wi.END;r.emit(o,{videoEndState:n.endState,name:r.getName()})}},r.onVideoError=function(e){var t,n=e.data;if(!r.startParam.vid){var o=null===(t=null==n?void 0:n.videoInfo)||void 0===t?void 0:t.error;r.flowOverHandler(),r.emit(wi.ABORT,u(u({},o),{code:(null==o?void 0:o.code)||Ur.UNKNOWN,name:r.getName()}))}},r.logger=new ue(r.corePlayer.config.instanceId,"VideoFlowNode"),r.evtMap=((n={})[S.TIME_UPDATE]=r.onVideoTimeUpdate,n[S.STOPED]=r.onVideoStop,n[S.ERROR]=r.onVideoError,n[S.AUTOPLAY_BLOCKED]=r.onVideoPlayBlocked,n),r.setPlayerEvents(!0),r}return c(t,e),Object.defineProperty(t.prototype,"isLive",{get:function(){return this.corePlayer.config.type===A.LIVE},enumerable:!1,configurable:!0}),t.prototype.getName=function(){return"VideoFlowNode"},t.prototype.start=function(){return f(this,void 0,void 0,(function(){var e,t,n;return h(this,(function(r){switch(r.label){case 0:return this.logger.log("".concat(this.getName()," exec start")),this.emit(wi.START,{name:this.getName()}),this.isPreload?(this.logger.log("".concat(this.getName()," exec start on preloaded")),this.loadDefer?[4,this.loadDefer.promise]:[3,2]):[3,3];case 1:r.sent(),r.label=2;case 2:return this.isLive&&this.corePlayer.resize({width:"100%"}),this.corePlayer.play(),[3,5];case 3:return[4,this.getVideoRsp()];case 4:e=r.sent(),t=e.urlConfig,n=e.kernelName,this.updateKernel(n),"function"==typeof this.config.videoLoadParamModifier&&(this.startParam.videoLoadParam=this.config.videoLoadParamModifier(this.startParam.videoLoadParam)),this.corePlayer.play(t,this.startParam.videoLoadParam),r.label=5;case 5:return this.isPreload=!1,pn.emit(x.STOP,{instanceId:this.corePlayer.config.instanceId}),[2]}}))}))},t.prototype.preload=function(e){return void 0===e&&(e=!0),f(this,void 0,void 0,(function(){var t,n,r;return h(this,(function(o){switch(o.label){case 0:return this.logger.log("".concat(this.getName()," exec preload")),this.emit(wi.PRELOAD,{name:this.getName()}),this.isPreload=!0,this.loadDefer=new Ce,[4,this.getVideoRsp()];case 1:return t=o.sent(),n=t.urlConfig,r=t.kernelName,this.updateKernel(r),this.isLive?(this.corePlayer.volume=0,[4,this.corePlayer.play(n,this.startParam.videoLoadParam)]):[3,3];case 2:return o.sent(),this.corePlayer.resize({width:0}),this.loadDefer.resolve(),[3,5];case 3:return[4,this.corePlayer.load(n,u(u({},this.startParam.videoLoadParam),{isPreload:!!e}))];case 4:o.sent(),this.loadDefer.resolve(),o.label=5;case 5:return[2]}}))}))},t.prototype.pause=function(e){this.logger.log("".concat(this.getName()," exec pause")),this.corePlayer.pause(e)},t.prototype.resume=function(){this.logger.log("".concat(this.getName()," exec resume")),this.corePlayer.play()},t.prototype.setLevel=function(e,t){var n,r,o;return void 0===t&&(t={}),f(this,void 0,void 0,(function(){var i,a,s=this;return h(this,(function(l){switch(l.label){case 0:return i=null===(n=this.corePlayer.currentVideoInfo)||void 0===n?void 0:n.config,this.emitFromVideoNode(Hr.VIDEO_SETLEVEL_START,{level:e}),[4,this.getLevelUrlConfig(e)];case 1:if(!(a=l.sent())||!a.url)throw new Error("setLevel url is empty");return t.setLevelMode?a.setLevelMode=t.setLevelMode:((null==i?void 0:i.drmConfig)||a.drmConfig||a.chachaParam)&&(a.setLevelMode=v.HARD),null!==(r=a.setLevelMode)&&void 0!==r||(a.setLevelMode=v.HARD),[2,null===(o=this.corePlayer.setLevel(a.url,a.backupUrls,a))||void 0===o?void 0:o.catch((function(t){throw s.emitFromVideoNode(Hr.VIDEO_SETLEVEL_END,{code:(null==t?void 0:t.code)||Ur.UNKNOWN,message:null==t?void 0:t.message,level:e}),t}))]}}))}))},t.prototype.updatePlayParam=function(e){var t=u(u({},this.startParam.videoReqInfoParam),null==e?void 0:e.videoReqInfoParam),n=u(u({},this.startParam.videoLoadParam),null==e?void 0:e.videoLoadParam);this.startParam=u(u({},this.startParam),{videoReqInfoParam:t,videoLoadParam:n})},t.prototype.replay=function(e,t,n){return f(this,void 0,void 0,(function(){var r,o,i,a;return h(this,(function(s){switch(s.label){case 0:return this.updatePlayParam(t),ro(e)?(this.logger.log("replay(), start request video info: ",this.startParam.videoReqInfoParam),[4,this.requestVideoInfo({emitFlowEvent:!1})]):(this.logger.log("replay(), start replay urlConfig: ",e),this.isReplaying=!0,[2,this.corePlayer.play(e,this.startParam.videoLoadParam)]);case 1:if(r=s.sent(),this.isDestroyed)return[2];if(i=(o=r||{}).error,a=o.urlConfig,i)throw i;return this.isReplaying=!0,this.logger.log("do retry [getinfo], stateWhenErrorHappen=".concat(n)),n===E.PAUSE?[2,this.corePlayer.load(a,this.startParam.videoLoadParam)]:[2,this.corePlayer.play(a,this.startParam.videoLoadParam)]}}))}))},t.prototype.retry=function(e,t){var n=this,r=t||{},o=r.error,i=r.updatePlayParam,a=r.retryTimes,s=void 0===a?0:a,l=r.degradeReason,c=void 0===l?0:l;if(e)return this.flowOverHandler(),void this.emit(wi.ABORT,u(u({},o),{code:(null==o?void 0:o.code)||Ur.UNKNOWN,name:this.getName()}));this.logger.log("play retry, retryTimes=".concat(s,", degradeReason=").concat(c)),this.config.extEvtDispatcher.emit(jr.RETRY_PLAY,{retryTimes:s,degradeReason:c}),0!==c&&this.config.extEvtDispatcher.emit(jr.DEGRADE_CODEC_PLAY,{degradeReason:c}),this.isPreload?(this.updatePlayParam(i),this.preload(!1)):this.replay(this.startParam.vid,i,null==t?void 0:t.stateWhenErrorHappen).catch((function(e){n.logger.log("retry replay err=".concat(null==e?void 0:e.code,", ").concat(null==e?void 0:e.message)),n.flowOverHandler(),n.emit(wi.ABORT,u(u({},e),{code:(null==e?void 0:e.code)||Ur.UNKNOWN,name:n.getName()}))}))},t.prototype.destroy=function(){this.isDestroyed=!0,this.setPlayerEvents(!1),e.prototype.destroy.call(this)},t.prototype.emitPreloadNext=function(){this.emit(wi.PRELOAD_NEXT,{forcePreload:!0,name:this.getName()})},t.prototype.updateKernel=function(e){e&&(this.startParam.videoLoadParam=u({kernelName:e},this.startParam.videoLoadParam))},t.prototype.requestVideoInfo=function(e){var t;return void 0===e&&(e={}),f(this,void 0,void 0,(function(){var n,r,o,i,a,s,l,c=this;return h(this,(function(u){switch(u.label){case 0:return n=this.config.reqInfo,r=e.extraData,o=void 0===r?{}:r,i=e.emitFlowEvent,a=void 0===i||i,n.shouldRequest()?a?(this.tryEmit((function(){return c.emitFromVideoNode(Hr.VIDEO_REQ_INFO_START)})),[4,n.setVideoInfo()]):[3,2]:[2];case 1:u.sent(),u.label=2;case 2:return this.tryEmit((function(){return c.config.extEvtDispatcher.emit(jr.GETINFO_START)})),[4,n.requestVod(o)];case 3:return s=u.sent(),this.tryEmit((function(){return c.config.extEvtDispatcher.emit(jr.GETINFO_OVER,s)})),l=(null===(t=null==s?void 0:s.error)||void 0===t?void 0:t.code)||Ur.SUC,a&&this.tryEmit((function(){return c.emitFromVideoNode(Hr.VIDEO_REQ_INFO_END,{code:l,data:s})})),[2,s]}}))}))},t.prototype.getVideoRsp=function(){return f(this,void 0,void 0,(function(){var e,t,n,r,o,i;return h(this,(function(a){switch(a.label){case 0:if(e=this.startParam.urlConfig)return[2,{urlConfig:e}];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.requestVideoInfo()];case 2:if(t=a.sent(),r=(n=t||{}).urlConfig,o=n.error)throw o;if(!function(e){if(Array.isArray(e))return e.every(Li);return Li(e)}(r))throw{message:"url config invalid",code:Ur.GETINFO_PARSE};return[2,t];case 3:return i=a.sent(),this.logger.error(i),this.flowOverHandler(),this.emit(wi.ABORT,u(u({},i),{code:(null==i?void 0:i.code)||Ur.GETINFO_NET,name:this.getName()})),[2,{urlConfig:null}];case 4:return[2]}}))}))},t.prototype.setPlayerEvents=function(e){var t=this;void 0===e&&(e=!0);var n=e?this.corePlayer.on:this.corePlayer.off;Object.keys(this.evtMap).forEach((function(e){n.call(t.corePlayer,e,t.evtMap[e])}))},t.prototype.flowOverHandler=function(){},Object.defineProperty(t.prototype,"corePlayer",{get:function(){return this.config.corePlayer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"emitFromVideoNode",{get:function(){return this.config.emitFromVideoNode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startParam",{get:function(){return this.config.reqInfo.startParam},set:function(e){this.config.reqInfo.startParam=e},enumerable:!1,configurable:!0}),t.prototype.getLevelUrlConfig=function(e){var t,n;return f(this,void 0,void 0,(function(){var r,o,i,a;return h(this,(function(s){switch(s.label){case 0:return Li(e)?(r=e,[3,4]):[3,1];case 1:return"string"!=typeof e?[3,2]:(r={url:e},[3,4]);case 2:return o=u(u({},this.startParam.videoReqInfoParam),e),this.startParam=u(u({},this.startParam),{videoReqInfoParam:o}),[4,this.requestVideoInfo({emitFlowEvent:!1,extraData:o})];case 3:if(!(i=s.sent()))throw new Error;if(r=i.urlConfig,i.error)throw a=null===(n=null===(t=i.error.data)||void 0===t?void 0:t.params)||void 0===n?void 0:n.msg,this.emitFromVideoNode(Hr.VIDEO_SETLEVEL_END,{code:i.error.code||Ur.UNKNOWN,message:a||i.error.message,level:e}),i.error;s.label=4;case 4:return[2,r]}}))}))},t.prototype.tryEmit=function(e){try{e()}catch(t){this.logger.error(t)}},d([xi,p("design:type",Function),p("design:paramtypes",[]),p("design:returntype",void 0)],t.prototype,"emitPreloadNext",null),t}(Pi);function Li(e){return"string"==typeof(null==e?void 0:e.url)}var Bi,Mi=function(e){function t(t){var n=e.call(this)||this;n.isSettingLevel=!1,n.isFirstPlaying=!0,n.emitFromVideoNode=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];n.emit.apply(n,g([e],t,!1))},n.onFlowEnd=function(e){var t,r=e.code,o=void 0===r?Ur.SUC:r,i=e.endState,a=void 0===i?y.NORMAL:i,s=e.curFlowNodeName;n.log("onFlowEnd, code=".concat(o,", endState=").concat(a,", curFlowNodeName=").concat(s)),n.config.type===A.LIVE&&(null===(t=Mr(n.config.instanceId))||void 0===t||t.stopAd()),n.emit(S.SET_LOADING,{show:!1}),n.emit(Hr.PLAY_SESSION_END,u(u({},e),{endState:a,code:o,curFlowNodeName:s}))},n.onFlowEvts=function(e,t){var r,o=((r={})[wi.PRELOAD]=jr.FLOW_NODE_PRELOAD,r[wi.START]=jr.FLOW_NODE_START,r[wi.END]=jr.FLOW_NODE_END,r[wi.ABORT]=jr.FLOW_NODE_ABORT,r);n.pluginMsg.emit(o[e],t)};var r=t.useSingleVideoElement,o=void 0===r?ee.mobile:r;return n.corePlayer=new Kt(u(u({},t),{maxVideoNodeCount:o?1:null==t?void 0:t.maxVideoNodeCount,createVideoNodeWhenLoad:o})),n.logger=new ue(n.config.instanceId,"FlowPlayer"),n.flowManager=new Di({playerInstanceId:n.config.instanceId,onFlowEnd:n.onFlowEnd,onFlowEvts:n.onFlowEvts,disablePreload:o}),n.retryManager=new mi(n),n.proxyAllPlayEvent(),n.proxyStateChange(),n.proxyVideoStopped(),function(e,t){var n,r=((n={})[S.DURATION_CHANGE]={evt:Hr.VIDEO_DURATION_CHANGE,getParam:function(e){return{duration:e.videoInfo.duration}}},n[S.METADATA_CHANGE]={evt:Hr.VIDEO_METADATA_CHANGE,getParam:function(e){return{width:e.videoInfo.videoWidth,height:e.videoInfo.videoHeight}}},n[S.VIDEO_BUFFER_CHANGE]={evt:Hr.VIDEO_LOAD_PROGRESS,getParam:function(){return{bufferRange:e.videoBuffered}}},n[S.TIME_UPDATE]={evt:Hr.VIDEO_TIMEUPDATE,getParam:function(e){return{playtime:e.videoInfo.playtime}}},n[S.VOLUME_CHANGE]={evt:Hr.VIDEO_VOLUME_CHANGE,getParam:function(){return{volume:e.volume}}},n[S.RATE_CHANGE]={evt:Hr.VIDEO_RATE_CHANGE,getParam:function(){return{rate:e.playbackRate}}},n[S.VIDEO_RESIZE]={evt:Hr.VIDEO_RESIZE,getParam:function(e){return{videoWidth:e.videoInfo.videoWidth,videoHeight:e.videoInfo.videoHeight}}},n[S.AUTOPLAY_BLOCKED]={evt:Hr.VIDEO_AUTOPLAY_BLOCKED,getParam:function(){}},n[S.SETLEVEL_OVER]={evt:Hr.VIDEO_SETLEVEL_END,getParam:function(e){var t,n,r,o=null!==(r=null===(n=null===(t=e.videoInfo)||void 0===t?void 0:t.error)||void 0===n?void 0:n.code)&&void 0!==r?r:Ur.UNKNOWN;return{code:e.fail?o:Ur.SUC}}},n);Object.keys(r).forEach((function(n){t.on(n,(function(t){var o=r[n],i=o.evt,a=o.getParam;e.emit(i,a(t.data))}))}))}(n,n.corePlayer),n.on(Hr.PLAY_SESSION_START,(function(){n.isSettingLevel=!1})),n}return c(t,e),Object.defineProperty(t.prototype,"videoElementsContainer",{get:function(){return this.corePlayer.videoElementsContainer},enumerable:!1,configurable:!0}),t.prototype.load=function(e,t){var n;return f(this,void 0,void 0,(function(){return h(this,(function(r){return e?(this.createFlowNodes(e,t),[2,null===(n=this.flowManager.currentFlowNode)||void 0===n?void 0:n.preload()]):[2,this.corePlayer.load()]}))}))},t.prototype.play=function(e,t){var n;return f(this,void 0,void 0,(function(){return h(this,(function(r){return e?(this.createFlowNodes(e,t),[2,null===(n=this.flowManager.currentFlowNode)||void 0===n?void 0:n.start()]):[2,this.resumePlay()]}))}))},t.prototype.preload=function(e,t,n){return f(this,void 0,void 0,(function(){return h(this,(function(r){return this.log("preload() start; ".concat(te.safelyStringify(e),", ").concat(te.safelyStringify(t))),this.endPreload(),this.nextReqInfo=new _i({flowid:J.Z.createGUID(),startParam:this.getStartParam(e,t),videoReqInfoPlugin:this.videoReqInfoPlugin,instanceId:this.config.instanceId}),this.nextFlowManager=new Di({playerInstanceId:this.config.instanceId}),"function"==typeof this.nodeBeforePreAd&&this.nextFlowManager.push(this.nodeBeforePreAd(this.nextReqInfo)),this.nextFlowManager.push(new Oi({instanceId:this.config.instanceId,corePlayer:this.corePlayer,extEvtDispatcher:this.pluginMsg,reqInfo:this.nextReqInfo,playerConfig:this.config,videoEndTime:n})),this.nextFlowManager.currentFlowNode.start(),[2]}))}))},t.prototype.setAudioTrack=function(e){return this.corePlayer.setAudioTrack(e)},t.prototype.getAudioTrackList=function(){return this.currentVideoInfo?this.currentVideoInfo.audioTracks:[]},t.prototype.getCurrentAudioTrack=function(){return this.currentVideoInfo?this.currentVideoInfo.currentAudioTrack:NaN},t.prototype.updateReqInfo=function(e){if(e&&this.curReqInfo){var t=e.videoReqInfoParam,n=e.videoLoadParam;n&&Object.assign(this.curReqInfo.videoLoadParam,n),t&&Object.assign(this.curReqInfo.videoReqInfoParam,t)}},t.prototype.setLevel=function(e,t){return void 0===t&&(t={}),f(this,void 0,void 0,(function(){return h(this,(function(n){switch(n.label){case 0:if(!this.checkCanSetLevel())throw new Error("setLevel can't start");this.isSettingLevel=!0,n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,this.videoNode.setLevel(e,t)];case 2:return n.sent(),[3,5];case 3:throw n.sent();case 4:return this.isSettingLevel=!1,[7];case 5:return[2]}}))}))},t.prototype.preloadVid=function(e){throw new Error("Method not implemented.")},t.prototype.pause=function(e){var t=this.flowManager.currentFlowNode;return t?t.pause(e):this.corePlayer.pause(e)},t.prototype.seek=function(e){return this.corePlayer.seek(e)},t.prototype.stop=function(e){var t,n,r;if(this.flowManager.currentFlowNode){var o=this.flowManager.currentFlowNode.getName();this.log("stop(), endState=".concat(e,", curFlowNodeName=").concat(o)),this.flowManager.clear(),null===(n=Mr(null===(t=this.config)||void 0===t?void 0:t.instanceId))||void 0===n||n.stopAd(),null===(r=this.videoReqInfoPlugin)||void 0===r||r.abort(),this.corePlayer.stop(e),this.emit(S.SET_LOADING,{show:!1}),this.emit(Hr.PLAY_SESSION_END,{curFlowNodeName:o,code:Ur.SUC,endState:e||y.INTERRUPT})}},t.prototype.startGetinfoRetry=function(e,t){return!!this.videoNode&&(this.videoNode.retry(t,e),!0)},t.prototype.canGetinfoRetry=function(){return!0},t.prototype.getRetryCheckClasses=function(){return[Ii]},t.prototype.destroy=function(){this.stop(),this.removeAllListeners(),this.corePlayer.destroy(),this._destroyed=!0},t.prototype.checkCanSetLevel=function(){return this.videoNode&&!this.isSettingLevel},t.prototype.checkUsePreloadCache=function(e){var t;return!!(null===(t=this.nextReqInfo)||void 0===t?void 0:t.vid)&&e.vid===this.nextReqInfo.vid},t.prototype.loadPostAd=function(){this.videoNode&&this.flowManager.currentFlowNode===this.videoNode&&this.videoNode.emitPreloadNext()},t.prototype.nodeBeforePreAd=function(e){return new Ri({reqInfo:e,instanceId:this.config.instanceId,adType:Qr.PRE})},t.prototype.nodeBeforePostAd=function(e){return new Ri({reqInfo:e,instanceId:this.config.instanceId,adType:Qr.POST})},Object.defineProperty(t.prototype,"videoNode",{get:function(){return this.flowManager.flowNodeList.find((function(e){return e instanceof ki}))},enumerable:!1,configurable:!0}),t.prototype.proxyAllPlayEvent=function(){var e=this;Object.keys(S).forEach((function(t){e.corePlayer.on(S[t],(function(n){var r=n.data;return e.emit(S[t],r)}))}))},t.prototype.proxyStateChange=function(){var e,t=this,n=((e={})[E.LOAD_START]=Hr.VIDEO_LOAD_START,e[E.CANPLAY]=Hr.VIDEO_CANPLAY,e[E.BUFFERING]=Hr.VIDEO_BUFFERING,e[E.SEEKING]=Hr.VIDEO_SEEKING,e[E.SEEKED]=Hr.VIDEO_SEEKED,e);this.corePlayer.on(S.STATE_CHANGE,(function(e){var r=e.data,o=r.new;if(n[o])return t.emit(n[o],{});o!==E.PLAYING&&o!==E.PAUSE||t.proxyPlayPause(o,r)}))},t.prototype.proxyVideoStopped=function(){var e=this;this.corePlayer.on(S.STOPED,(function(t){var n,r=t.data,o=null===(n=null==r?void 0:r.videoInfo)||void 0===n?void 0:n.error,i=u(u({},r),{code:(null==o?void 0:o.code)||Ur.SUC});e.emit(Hr.VIDEO_END,i)}))},t.prototype.proxyPlayPause=function(e,t){if(e===E.PLAYING){var n=this.isFirstPlaying;this.isFirstPlaying=!1,this.emit(Hr.VIDEO_PLAYING,{isFirst:n})}else e===E.PAUSE&&this.emit(Hr.VIDEO_PAUSE,{pauseType:t.pauseType})},t.prototype.resumePlay=function(){var e=this.flowManager.currentFlowNode;e?e.isPreload?e.start():e.resume():this.corePlayer.play()},t.prototype.getStartParam=function(e,t){var n=u({},t);return ro(e)?n.vid=e:n.urlConfig=e,n},t.prototype.createFlowNodes=function(e,t){var n;this.flowManager.currentFlowNode&&(this.log("loadItem(), stop because of currentFlowNode is running"),this.stop()),this.endPreload();var r=this.getStartParam(e,t),o=this.checkUsePreloadCache(r),i=this.config,a=i.instanceId,s=i.enableP2P;this.curReqInfo=o?this.nextReqInfo:new _i({flowid:J.Z.createGUID(),startParam:r,instanceId:a,videoReqInfoPlugin:this.videoReqInfoPlugin}),this.nextReqInfo=null,this.curReqInfo.startParam=r;var l=this.curReqInfo.flowid;if(this.resetWhenSessionStart(),this.emit(Hr.PLAY_SESSION_START,{flowid:l,playItem:e,isPreload:o}),!this._destroyed){"function"==typeof this.nodeBeforePreAd&&this.flowManager.push(this.nodeBeforePreAd(this.curReqInfo));var c=new Ti({flowid:l,instanceId:a,enableP2P:s,adType:Qr.PRE,reqInfo:this.curReqInfo,corePlayer:this.corePlayer});this.flowManager.push(c);var u=new ki({flowid:l,corePlayer:this.corePlayer,reqInfo:this.curReqInfo,extEvtDispatcher:this.pluginMsg,emitFromVideoNode:this.emitFromVideoNode,videoLoadParamModifier:this.videoLoadParamModifier});if(this.flowManager.push(u),this.config.type!==A.LIVE){"function"==typeof this.nodeBeforePostAd&&this.flowManager.push(this.nodeBeforePostAd(this.curReqInfo));var d=new Ti({flowid:l,instanceId:a,reqInfo:this.curReqInfo,adType:Qr.POST,corePlayer:this.corePlayer});this.flowManager.push(d),this.flowManager.setLastNode(d)}this.log("loadItem(), flowNodeList=".concat(null===(n=this.flowManager.flowNodeList)||void 0===n?void 0:n.map((function(e){return e.getName()}))))}},t.prototype.resetWhenSessionStart=function(){this.isFirstPlaying=!0},t.prototype.endPreload=function(){var e;null===(e=this.nextFlowManager)||void 0===e||e.clear(),this.nextFlowManager=null},Object.defineProperty(t.prototype,"config",{get:function(){return this.corePlayer.config},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useWorker",{get:function(){return this.corePlayer.useWorker},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"kernelName",{get:function(){return this.corePlayer.kernelName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoElements",{get:function(){return this.corePlayer.videoElements},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentVideoElement",{get:function(){return this.corePlayer.currentVideoElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportPreload",{get:function(){return this.corePlayer.supportPreload},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this.corePlayer.duration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playtime",{get:function(){return this.corePlayer.playtime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoInfos",{get:function(){return this.corePlayer.videoInfos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"preloadVideoInfos",{get:function(){return this.corePlayer.preloadVideoInfos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentVideoInfo",{get:function(){return this.corePlayer.currentVideoInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentVideoInfoIdx",{get:function(){return this.corePlayer.currentVideoInfoIdx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalVideoInfoCount",{get:function(){return this.corePlayer.totalVideoInfoCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportPlaybackRate",{get:function(){return this.corePlayer.supportPlaybackRate},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"played",{get:function(){return this.corePlayer.played},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this.corePlayer.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoSize",{get:function(){return this.corePlayer.videoSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoBuffered",{get:function(){return this.corePlayer.videoBuffered},enumerable:!1,configurable:!0}),t.prototype.log=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.logger).log.apply(e,t)},t.prototype.hasAppended=function(e){return this.corePlayer.hasAppended(e)},t.prototype.hasPreloaded=function(e){return this.corePlayer.hasPreloaded(e)},Object.defineProperty(t.prototype,"volume",{get:function(){return this.corePlayer.volume},set:function(e){this.corePlayer.volume=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playbackRate",{get:function(){return this.corePlayer.playbackRate},set:function(e){this.corePlayer.playbackRate=e},enumerable:!1,configurable:!0}),t.prototype.resizeVideoElements=function(e){return this.corePlayer.resizeVideoElements(e)},t.prototype.resize=function(e){return this.corePlayer.resize(e)},t.prototype.playNext=function(e){return this.corePlayer.playNext(e)},t.prototype.captureVideo=function(e,t,n,r,o){return this.corePlayer.captureVideo(e,t,n,r,o)},t.prototype.appendNext=function(e){return this.corePlayer.appendNext(e)},t.prototype.preloadNext=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.corePlayer).preloadNext.apply(e,t)},t.prototype.clearAllPreload=function(){return this.corePlayer.clearAllPreload()},t.prototype.triggerAutoplay=function(){return this.corePlayer.triggerAutoplay()},t}(yi),Qi=de("H5Player"),Vi=((Bi={})[fi.VERTICAL]="rotateX(180deg)",Bi[fi.HORIZON]="rotateY(180deg)",Bi[fi.NORMAL]="none",Bi);var Fi=function(e){function t(t){var n=this;!function(){var e="npm";try{e="npm"}catch(q){}Dt.getReporter().collectUsage(1,e)}(),(n=e.call(this,u(u(u({},qr),t.coreConfig),t))||this).plugins={},n.interactMod=null,n.getCommonKv=function(e){return n.dataset.commonMap[e]},n.getStateKv=function(e){return n.dataset.stateMap[e]},n.mutedVolume=1,n.hasMutePlayed=!1,n.mixin=function(e){var t="function"==typeof e?e():e;Object.keys(t).forEach((function(e){if(e in n)throw new Error("cannot override existing player method: ".concat(e));var r=t[e];"function"==typeof r?n[e]=r:console.error("mixin ".concat(r," is not a function"))}))},n.log("new H5Player(), input config=",te.safelyStringify(t));var r=Date.now(),o=t.container,i=t.plugins,a=t.mixins,s=t.lazyInitPlugins;if(n.container="string"==typeof o?document.querySelector(o):o,!n.container)throw new Error("cannot find container: ".concat(o));n.fullscreenLogics=new Oo(n,n.config.fullscreenContainer);return n.setMaxListeners(100),n.createClickMask(),n.createInnerPlugins(),i instanceof Array&&(s?setTimeout((function(){n.createPlugins(i),n.initGetinfoModule(t)})):(n.createPlugins(i),n.initGetinfoModule(t))),a instanceof Array&&a.forEach(n.mixin),n.initPlayerResizeObserver(),n.initPluginApis(),n.forwardPluginEvents(),n.initContainerStyle(),n.setupEventFlagData(),n.setupLoopPlay(),n.checkAutoPlayInMute(),n.autoHideMouse(),n.applyStyleOnVideoNodeChange(),n.on(Hr.PLAY_SESSION_START,(function(){n.hasMutePlayed=!1})),n.setStateKv(io.INIT,{type:ao.CORE_EVENT,ftime:Date.now(),ext:{stime:r}}),n}return c(t,e),t.registerSavedCommonKey=function(e){_o.SETTING_CONFIG[e]?console.warn("key ".concat(e," already registered")):_o.SETTING_CONFIG.push({dsKey:e,lsKey:"__thumbplayer_custom_".concat(e,"__")})},t.prototype.load=function(t,n){return t?(this.cacheLoadParam(t,n),this.corePlayer.load(),e.prototype.load.call(this,t,this.getParamWithStartTime(t,n))):e.prototype.load.call(this)},t.prototype.play=function(t,n){return t?(this.cacheLoadParam(t,n),this.corePlayer.load(),e.prototype.play.call(this,t,this.getParamWithStartTime(t,n))):e.prototype.play.call(this)},t.prototype.createPlugin=function(t,n){void 0===n&&(n={}),e.prototype.createPlugin.call(this,t,n);var r,o,i=n.pluginName;(void 0===i?t:i)===Vr&&(o=Mr((r=this).config.instanceId))&&Eo.forEach((function(e){o.on(e,(function(t){var n=t.data;r.emit(e,n)}))}))},t.prototype.replay=function(){var e,t,n=this.vid,r=this.playUrl;if(null===(t=null===(e=this.loadParam)||void 0===e?void 0:e.videoLoadParam)||void 0===t||delete t.startTime,n)return this.play(n,this.loadParam);if(r){var o=r.lastIndexOf("#");return o>0&&(r=r.slice(0,o)),this.play({url:r},this.loadParam)}this.log("Current player has no available vid or url to replay")},t.prototype.pause=function(t){return e.prototype.pause.call(this,t)},t.prototype.seek=function(t){var n=this.timeRange,r=n.startTime,o=n.endTime,i=Math.min(o,Math.max(r,t));return e.prototype.seek.call(this,i)},t.prototype.setPictureImage=function(e){void 0===e&&(e=fi.NORMAL),this.pictureDirection=e,this.isPlayingAd?this.setAdVideoStyle({transform:Vi[e]}):this.setVideoStyle({transform:Vi[e]}),e===fi.NORMAL&&(this.rotateDegree=0)},t.prototype.setRotate=function(e){"number"!=typeof e||Number.isNaN(e)||(this.rotateDegree=e,this.isPlayingAd?this.setAdVideoStyle({transform:"rotate(".concat(e,"deg)")}):this.setVideoStyle({transform:"rotate(".concat(e,"deg)")}))},t.prototype.getRotate=function(){return this.rotateDegree},t.prototype.requestFullScreen=function(e,t){return void 0===e&&(e=!0),f(this,void 0,void 0,(function(){return h(this,(function(n){return[2,this.fullscreenLogics.requestFullScreen(e,t)]}))}))},Object.defineProperty(t.prototype,"fullscreenMode",{get:function(){return this.fullscreenLogics.fullscreenMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"volume",{get:function(){return this.corePlayer.volume},set:function(e){var t;this.corePlayer.volume=e,null===(t=Mr(this.config.instanceId))||void 0===t||t.setAdVolume(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeRange",{get:function(){return this.playtimeLimiter.range},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){var e,t,n,r=this;try{this.stop(),this.pluginMsg.emit(jr.DESTROY)}catch(i){this.log(i)}this.plugins&&(Object.keys(this.plugins).forEach((function(e){var t,n;null===(n=null===(t=r.plugins[e])||void 0===t?void 0:t.destroy)||void 0===n||n.call(t)})),delete this.plugins),Br(null===(e=this.config)||void 0===e?void 0:e.instanceId,null),null===(t=this.containerResizeObserver)||void 0===t||t.disconnect(),this.containerResizeObserver=null,this.fullscreenLogics.destroy(),this.removeAllListeners(),this.pluginMsg.removeAllListeners(),this.corePlayer.destroy(),this.container.innerHTML="",null===(n=this.interactMod)||void 0===n||n.remove(),this.interactMod=null;var o=this.container.cloneNode();this.container.parentNode.replaceChild(o,this.container),this.container=o,clearTimeout(this.mouseMoveTimer),"none"===this.container.style.cursor&&(this.container.style.cursor="auto"),this._destroyed=!0},Object.defineProperty(t.prototype,"offlineLogPlugin",{get:function(){return this.plugins[Ko.pluginName]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pluginInstances",{get:function(){return this.plugins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"player",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,Jo.pluginName,{get:function(){return this.plugins[Jo.pluginName]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,_o.pluginName,{get:function(){return this.plugins[_o.pluginName]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,Ko.pluginName,{get:function(){return this.plugins[Ko.pluginName]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vid",{get:function(){return ro(this.currentPlayItem)?this.currentPlayItem:null},enumerable:!1,configurable:!0}),t.prototype.canGetinfoRetry=function(){return!!this.player.vid},Object.defineProperty(t.prototype,"url",{get:function(){var e;return null===(e=this.currentVideoInfo)||void 0===e?void 0:e.loadingUrl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paused",{get:function(){return this.state===E.PAUSE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"muted",{get:function(){return 0===this.volume},set:function(e){e?(this.mutedVolume=this.volume,this.volume=0):this.muted&&(this.volume=this.mutedVolume)},enumerable:!1,configurable:!0}),t.prototype.setStateKv=function(e,t,n){this.dataset.writeState(e,t,n)},t.prototype.setCommonKv=function(e,t,n){var r=this;"string"==typeof e?this.dataset.writeCommon(e,t,n):Object.keys(e).forEach((function(n){return r.dataset.writeCommon(n,e[n],t)}))},Object.defineProperty(t.prototype,"videoReqParam",{get:function(){var e;return null===(e=this.loadParam)||void 0===e?void 0:e.videoReqInfoParam},enumerable:!1,configurable:!0}),t.prototype.selectGetinfoModule=function(e){return null==e?void 0:e.getinfoModule},t.prototype.getParamWithStartTime=function(e,t){var n;void 0===t&&(t={});var r=this.playtimeLimiter;if(!e)return t;if(null===(n=t.videoLoadParam)||void 0===n?void 0:n.startTime)return t;if("string"==typeof e||"number"==typeof e)r.clearAllConfig(e);else{if(Array.isArray(e))return t;r.clearAllConfig(e.url)}return t.playTimeLimit&&r.addLimitConfig(t.playTimeLimit),u(u({},t),{videoLoadParam:u(u({},t.videoLoadParam),{startTime:this.timeRange.startTime})})},t.prototype.createClickMask=function(){var e=this,t=this.config,n=t.enableInteractMod,r=void 0===n||n,o=t.type;if(r&&o!==A.LIVE){var i=document.createElement("div");i.classList.add("thumbplayer-user-mod"),xe.css(i,{width:"100%",height:"100%",position:"absolute","z-index":1}),xe.append(this.container,i),i.addEventListener("click",(function(){[E.PAUSE,E.CANPLAY].includes(e.state)?e.play():[E.PLAYING,E.BUFFERING].includes(e.state)&&e.pause(di.USER_CLICK)})),this.interactMod=i}},t.prototype.initContainerStyle=function(){var e=this.container;e.style.outline="0 none",e.style.overflow="hidden",e.style.backgroundColor="#000","static"===getComputedStyle(e).position&&(e.style.position="relative")},t.prototype.forwardPluginEvents=function(){var e=this;this[_o.pluginName].on(oo.STATE_UPDATE,(function(t){var n=t.data;e.pluginMsg.emit(jr.DATASET_STATE_UPDATE,n)})),this[_o.pluginName].on(oo.UPDATE,(function(t){var n=t.data;e.pluginMsg.emit(jr.DATASET_UPDATE,n)})),this.on(S.SET_LOADING,(function(t){var n=t.data;e.pluginMsg.emit(jr.SET_LOADING,{value:n.show})}))},t.prototype.createInnerPlugins=function(){var e;this.createPlugin(_o.pluginName),Ko.isEnvSupport&&!(null===(e=this.config.offlineConfig)||void 0===e?void 0:e.disable)&&this.createPlugin(Ko.pluginName),this.createPlugin(Jo.pluginName),this.config.enableQAreporter&&this.createPlugin(this.config.type===A.LIVE?ci.pluginName:gi.pluginName)},t.prototype.cacheLoadParam=function(e,t){e&&(ro(e)&&this.pluginMsg.emit(jr.VID_CHANGE,{oldVal:this.vid,newVal:e}),this.currentPlayItem=e,t&&Object.keys(t).length&&(this.loadParam=t))},t.prototype.setupEventFlagData=function(){var e=this;this.on(Hr.AD_PLAYING,(function(){return e.isPlayingAd=!0})),this.on(Hr.AD_END,(function(){return e.isPlayingAd=!1}))},t.prototype.setupLoopPlay=function(){var e=this;this.on(Hr.PLAY_SESSION_END,(function(t){var n=t.data.endState===y.NORMAL;e.config.loop&&n&&e.replay()})),this.on(Hr.VIDEO_PLAYING,(function(t){if(t.data.isFirst&&e.config.loop){var n=e.currentVideoElement;n instanceof HTMLVideoElement&&(n.loop=Li(e.currentPlayItem)&&e.corePlayer.kernelName===K.ORIGIN)}}))},Object.defineProperty(t.prototype,"playUrl",{get:function(){var e=this.currentPlayItem;if(!ro(e)&&!Array.isArray(e))return null==e?void 0:e.url},enumerable:!1,configurable:!0}),t.prototype.checkAutoPlayInMute=function(){var e=this;if(this.config.autoPlayInMute||this.config.autoPlayPolicy===pi.IN_MUTED){var t=function(){var t;e.hasMutePlayed||(e.hasMutePlayed=!0,e.muted=!0,null===(t=Mr(e.config.instanceId))||void 0===t||t.setAdVolume(0),e.play())};this.on(Hr.AD_AUTOPLAY_BLOCKED,(function(){return setTimeout(t)})),this.on(Hr.VIDEO_AUTOPLAY_BLOCKED,t)}},t.prototype.autoHideMouse=function(){var e=this;this.container.addEventListener("mousemove",(function(){"none"===e.container.style.cursor&&(e.container.style.cursor="auto"),clearTimeout(e.mouseMoveTimer),e.mouseMoveTimer=setTimeout(e.hideMouseOnFullscreen.bind(e),5e3)}))},t.prototype.hideMouseOnFullscreen=function(){var e=document,t=e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement;(this.config.autoHideMouse||t)&&this.state===E.PLAYING&&(this.container.style.cursor="none")},t.prototype.initPlayerResizeObserver=function(){var e=this;this.containerResizeObserver=new bt((function(){var t=e.container,n=t.clientWidth,r=t.clientHeight;e.emit(S.CONTAINER_RESIZE,{width:n,height:r})})),this.containerResizeObserver.observe(this.container)},t.prototype.setVideoStyle=function(e){xe.css(this.corePlayer.currentVideoElement,e)},t.prototype.setAdVideoStyle=function(e){var t,n,r,o=null===(r=null===(n=Mr(null===(t=this.config)||void 0===t?void 0:t.instanceId))||void 0===n?void 0:n.videoAdPlayer)||void 0===r?void 0:r.videoElements;o&&o.forEach((function(t){return xe.css(t,e)}))},t.prototype.applyStyleOnVideoNodeChange=function(){var e=this,t=function(){if(void 0!==e.pictureDirection||void 0!==e.rotateDegree)return Vi[e.pictureDirection]||"rotate(".concat(e.rotateDegree,"deg)")};this.corePlayer.on(S.VIDEONODE_CHANGE,(function(){var n=t();n&&e.setVideoStyle({transform:n})})),this.on(Hr.AD_REQ_ASSETS_START,(function(n){if(Fr(n.data)){var r=t();r&&e.setAdVideoStyle({transform:r})}})),this.on(Hr.AD_END,(function(n){Fr(n.data)&&(t()&&e.setAdVideoStyle({transform:"none"}))}))},t.prototype.initPluginApis=function(){var e=this;this.playerApiProxy.replayInCurFlowNode=function(t,n){var r;return e.log("replayInCurFlowNode(), vid=".concat(t,", param=").concat(te.safelyStringify(n))),null===(r=e.flowManager.currentFlowNode)||void 0===r?void 0:r.replay(t,n)}},t.prototype.initGetinfoModule=function(e){var t=this.selectGetinfoModule(e);t&&(this.videoReqInfoPlugin=new t(this))},t.registerKernel=Zt.registerKernel,t.KernelFactory=Zt,d([Qi,p("design:type",Function),p("design:paramtypes",[Object,Object]),p("design:returntype",void 0)],t.prototype,"load",null),d([Qi,p("design:type",Function),p("design:paramtypes",[Object,Object]),p("design:returntype",void 0)],t.prototype,"play",null),d([Qi,p("design:type",Function),p("design:paramtypes",[]),p("design:returntype",void 0)],t.prototype,"replay",null),d([Qi,p("design:type",Function),p("design:paramtypes",[String]),p("design:returntype",void 0)],t.prototype,"pause",null),d([Qi,p("design:type",Function),p("design:paramtypes",[Number]),p("design:returntype",void 0)],t.prototype,"seek",null),t}(Mi);function Ui(e){return new Fi(e)}Fi.registerPlugin(_o.pluginName,_o),Fi.registerPlugin(Jo.pluginName,Jo),Fi.registerPlugin(Ko.pluginName,Ko),Fi.registerPlugin(gi.pluginName,gi),Fi.registerPlugin(ci.pluginName,ci);var Ki=1675660015991,ji="1.15.2",Hi=Object.freeze({__proto__:null,createH5Player:Ui,H5Player:Fi,BUILD_TIME:Ki,VERSION:ji,BaseReporter:ei,kernelEvtBus:dn,preloadEvtBus:pn,EvtEmitter:Je,PLAY_EVENT:S,VIDEO_STATE:E,KERNEL_NAME:K,PLAY_MODE:A,END_STATE:y,PRELOAD_TYPE:O,VIDEO_CODEC:R,CONTAINER_FORMAT:L,AUDIO_CODEC:k,get ErrorCode(){return Ur},get ErrorMsg(){return Kr},get FullScreenMode(){return mo},getAdPlugin:Mr,adEvents:Eo,BaseFlowNode:Pi,get FLOW_NODE_EVENT(){return wi},BeaconRequest:ti,ImageRequest:Zo,definePlugins:bi,autobind:Ci,logApiInvoke:Si,once:xi,get H5_EXT_EVENT(){return jr},get H5_PLAY_EVENT(){return Hr},Plugin:$r,isFunctionPlugin:eo,createPluginFactory:to,getHookMethodName:no,registerPlugin:zr,deregisterPlugin:Jr,getPlugin:Wr,getPlugins:Zr,pluginExists:Yr,AdPluginName:Vr,get AD_TYPE(){return Qr},isPreOrPostAd:Fr,isVideoId:ro,DRM_TYPE:uo,DRM_VALUE:po,OFFICIAL_PLUGIN:vi,PLUGIN_MAP:Ai,get H5_PAUSE_TYPE(){return di},get AUTO_PLAY_POLICY(){return pi},get PictureDirection(){return fi},get DATA_EVENTS(){return oo},get DATA_STATE(){return io},get LOG_TYPE(){return ao},get BUFFER_REASON(){return so},get LOCAL_KEY(){return lo},get PersistedUserSettings(){return co},DEFAULT_KEY:ho,COMMON_DATA_KEY:go}),qi="__thumbplayer-video-request";window.ThumbPlayerH5=Hi;var Gi=ee.mobile,Yi="txp_none";!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".txp_video_error{position:absolute;top:0;left:0;width:100%;height:100%;z-index:99;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;background-color:#111;color:#fff}.txp_video_error.txp_none,.txp_video_error .txp_none{display:none!important}.txp_video_error a{color:#fff;text-decoration:none}.txp_video_error .txp_error_title{margin:10px 20px;font-size:18px;line-height:1.6;text-align:center}.txp_video_error .txp_error_title .txp_btn{color:#ff6428;font-size:inherit}.txp_video_error .error-noise-bg{position:absolute;width:100%;height:100%;left:0;top:0;z-index:-1}.txp_video_error .txp_error_code{margin:30px 20px 0;line-height:1.5;color:#666;pointer-events:auto;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.txp_video_error .txp_error_code a{cursor:pointer;color:#666;border-bottom:1px solid}.txp_video_error .txp_error_code a:hover{color:#ff6428}.txp_video_error .txp_error_code::-moz-selection, .txp_video_error .txp_error_code ::-moz-selection{color:#fff;background:#eee}.txp_video_error .txp_error_code::selection,.txp_video_error .txp_error_code ::selection{color:#fff;background:#eee}.txp_video_error .txp_error_code::-moz-selection,.txp_video_error .txp_error_code ::-moz-selection{color:#fff;background:#eee}.txp_video_error .none{display:none}.txp_video_error .txp_link_refresh{color:#fc6526}.txp_video_error .txp_link_btn{display:block;outline:none;border:none;margin-bottom:16px;padding:0 20px;border-radius:15px;background:#26262b;color:#fc6526;font-size:14px;line-height:30px;cursor:pointer}.txp_video_error .txp_link_btn:hover{color:#fff;background-color:#fc6526}.txp_video_error .txp_browser a{text-decoration:underline;cursor:pointer}.txp_video_error .txp_browser a:hover{color:#ff6428}");var Wi,zi,Ji=[],Zi=!1,Xi=0,$i=function(e){if(Xi)e(Xi);else if(Ji.push(e),!Zi){if(Zi=!0,"qq.com"!=document.domain)throw new Error("document.domain is not qq.com");var t=document.createElement("iframe");t.src="javascript:'<script>window.onload=function(){document.write(\\'<script>document.domain=\\\"qq.com\\\";<\\\\/script>\\');document.close();};<\/script>'",t.style.cssText="display:none;",document.body.appendChild(t),t.getClient=function(e){Xi=e;for(var t=Ji.shift();t;)t&&t(e),t=Ji.shift()},t.src="//v.qq.com/iframe/client.html"}},ea={REPORT_LOG:"error-page:report-log"},ta={error:"txp-ui-error",errorMsg:"txp-ui-error-msg",errorHandler:"txp-ui-error-handler",errorRefresh:"txp-ui-error-refresh",errorCode:"txp-ui-error-code",background:"txp-ui-error-background",clientBtn:"txp-ui-error-client-btn",browserTip:"txp-ui-error-browser"};!function(e){e.DEFAULT="\u8fd9\u4e2a\u89c6\u9891\u88ab\u5916\u661f\u4eba\u52ab\u8d70\uff0c\u6682\u65f6\u770b\u4e0d\u4e86\u4e86~",e.LIMITED="\u5f88\u9057\u61be\uff0c\u5bf9\u6b64\u89c6\u9891\u7684\u8bbf\u95ee\u6682\u65f6\u53d7\u9650",e.SENSITIVE="\u6b64\u89c6\u9891\u5305\u542b\u654f\u611f\u4fe1\u606f\uff0c\u5df2\u88ab\u7ba1\u7406\u5458\u6349\u62ff~",e.NO_COPYRIGHT="\u6682\u65f6\u6ca1\u6709\u83b7\u5f97\u8be5\u89c6\u9891\u7248\u6743\uff0c\u52aa\u529b\u4e3a\u60a8\u4e89\u53d6\u4e2d~",e.NO_COPYRIGHT_IN_REGION="\u5f88\u62b1\u6b49\uff0c\u7531\u4e8e\u7248\u6743\u9650\u5236\uff0c\u60a8\u6240\u5728\u7684\u5730\u533a\u6682\u65f6\u65e0\u6cd5\u64ad\u653e\u8be5\u89c6\u9891",e.NO_PLAYBACK_COPYRIGHTS="\u5f88\u62b1\u6b49\uff0c\u8be5\u89c6\u9891\u6682\u65e0\u64ad\u653e\u7248\u6743",e.ENV_NOT_SUPPORT_ENCRYPTION="\u8be5\u89c6\u9891\u56e0\u7248\u6743\u65b9\u5b89\u5168\u4fdd\u5bc6\u7ea7\u522b\u8f83\u9ad8\uff0c\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u52a0\u5bc6\u64ad\u653e",e.ENV_NOT_SUPPORT_ENCRYPTION_LIVE="\u8be5\u76f4\u64ad\u56e0\u7248\u6743\u65b9\u5b89\u5168\u4fdd\u5bc6\u7ea7\u522b\u8f83\u9ad8\uff0c\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u52a0\u5bc6\u64ad\u653e"}(zi||(zi={}));var na={default:zi.DEFAULT},ra=((Wi={})[70023097]=zi.ENV_NOT_SUPPORT_ENCRYPTION_LIVE,Wi[70023098]=zi.ENV_NOT_SUPPORT_ENCRYPTION_LIVE,Wi);na[70013051]=na[70013052]=na[70013061]=na[70013062]=na[70013063]=na[70013065]=na[70013066]=na[70013069]=na[70013071]=na[70013073]=na[70013074]=na[70013076]=na[70013077]=na[70013081]=na[70013082]=na[70013086]=na[70013094]=zi.DEFAULT,na[70013064]=na[70013100]=zi.LIMITED,na[70013080.3]=na["70013080.10"]=na[70013080.11]=na[70013084]=zi.SENSITIVE,na[70013080]=na[70013080.7]=na[70013080.9]=na[70013083]=zi.NO_COPYRIGHT,na[70013080.1]=zi.NO_COPYRIGHT_IN_REGION,na[70013080.2]=zi.NO_PLAYBACK_COPYRIGHTS,na[70013069.4]=na["70013097.0"]=na[70013097.2]=na[70013098.1]=na[70013080.14]=zi.ENV_NOT_SUPPORT_ENCRYPTION;var oa=/^7009\d+(\.?-?\d+)?$/;function ia(e){if(e.support&&e.sso){try{!function(e){var t="qqlivechannel=channel1."+e;if(ee.browser.ie){var n=new Date;n.setTime(n.getTime()+864e5),document.cookie=t+";path=/;expires="+n.toUTCString()}else{var r=document.createElement("input");document.querySelector("body").append(r),r.style.position="absolute",r.style.top="-9999px",r.value=t,r.style.top=document.querySelector("body").scrollTop+"px",r.focus(),r.setSelectionRange(0,t.length),document.queryCommandSupported("copy")&&document.execCommand("copy",!0),r.remove()}}(e.atag)}catch(qe){}try{$i((function(t){t&&t.exist().done((function(){t.open(e.sso),e.success()})).fail((function(){e.error()}))}))}catch(t){console.log(t)}}}var aa={exist:!1,isLatestChromeSupportDrm:function(){var e=ee.os;if(e.windows)return parseFloat(e.version)>6;if(e.mac){if(ee.browser.qqbrowser)return!1;var t=(e.version||"").split(".");return parseFloat((t[0]||"0")+"."+(t[1]||"0"))>10.1}return!e.linux&&void 0},detect:function(){var e=new Ce,t=document.createElement("meta");return t.name="referrer",t.content="always",document.head.prepend(t),this.isLatestChromeSupportDrm()?fetch("http://127.0.0.1:28653/api/handle",{method:"POST",body:JSON.stringify({action:"GetQBVersion",cmd:""})}).then((function(e){return e.json()})).then((function(n){t.remove();var r=!1,o=n.result||"";o&&(r=-1!==J.Z.compareVersion(o,"10.2.2101.400")),r?(aa.exist=!0,e.resolve({exist:!0})):(aa.exist=!1,e.resolve({exist:!1}))})).catch((function(){t.remove(),aa.exist=!1,e.resolve({exist:!1})})):e.reject(),e},download:function(){try{location.assign("http://dldir1.qq.com/invc/tt/QQBrowser_Setup_DRM.exe")}catch(qe){}},open:function(e){if(aa.exist){var t=document.createElement("meta");t.name="referrer",t.content="always",document.head.prepend(t),fetch("http://127.0.0.1:28653/api/handle",{method:"POST",body:JSON.stringify({action:"Open",cmd:encodeURIComponent(e)})}).then((function(){t.remove()})).catch((function(){t.remove()}))}else this.download()}},sa={enable:!Gi,interval:150,performanceRatio:5,size:4,opacity:.05},la=function(e){function t(t,n,r){var o,i=e.call(this,t,n,r)||this;return i.innerElements={},i.clientExistDefer=new Ce,i.noiseAnimation=function(e,t,n,r,o){var i=Math.floor(n/o),a=e.createImageData(t,i),s=new Uint32Array(a.data.buffer);e.clearRect(0,0,t,n);for(var l=0;l<s.length;l++)s[l]=16777215+((255*Math.random()*r|0)<<24);for(l=0;l<=o;l++)e.putImageData(a,0,i*l)},i.browserTipClick=function(){aa.open(location.href)},i.config=u(u({},t.config.errorPageConfig),n),i.config.noiseConfig=u(u({},sa),null===(o=i.config)||void 0===o?void 0:o.noiseConfig),i.insertDOM(),i.setupDOMEvents(),i.setupPlayerEvents(),i}return c(t,e),t.prototype.show=function(e){void 0===e&&(e="\u51fa\u9519\u5566");var t=this.player.getCommonKv(go.flowid),n="object"===(0,s.Z)(e)&&Boolean(null==e?void 0:e.img);if("string"==typeof e)this.innerElements.errorMsg.innerHTML=e,this.innerElements.errorCode.innerHTML=t||"",this.innerElements.background.classList.add(Yi),this.innerElements.errorRefresh.classList.remove(Yi);else{var r=e.text,o=void 0===r?"\u51fa\u9519\u5566":r,i=e.code,a=void 0===i?"":i,l=e.img,c=void 0===l?"":l,u=e.hideRefresh,d=void 0!==u&&u;this.innerElements.errorMsg.innerHTML=o,this.innerElements.errorCode.innerHTML=a?String(a)+"-"+t:t,this.innerElements.background.src=c,this.innerElements.background.classList.toggle(Yi,!c),this.innerElements.errorRefresh.classList.toggle(Yi,d)}this.rootEl.classList.remove(Yi),this.setNoise(!n)},t.prototype.hide=function(){this.rootEl.classList.add(Yi),this.setNoise(!1),xe.addClass(this.innerElements.clientBtn,Yi),xe.addClass(this.innerElements.browserTip,Yi),xe.addClass(this.innerElements.errorRefresh,Yi)},t.prototype.destroy=function(){var t;this.setNoise(!1),this.rootEl.parentNode&&this.rootEl.remove(),this.innerElements={},null===(t=this.noiseBg)||void 0===t||t.remove(),this.noiseBg=null,this.rootEl=null,e.prototype.destroy.call(this)},t.prototype.insertDOM=function(){var e=this,t=this.player.container,n=this.config.noiseConfig,r='<div data-role="'+ta.error+'" class="txp_video_error '+'txp_none">\n      '+(n.enable?'<canvas class="error-noise-bg"></canvas>':"")+'\n      <img data-role="'+ta.background+'" alt="error-background"/>\n      <div data-role="'+ta.errorMsg+'" class="txp_error_title"></div>\n      <div data-role="'+ta.errorHandler+'" class="txp_error_desc">\n        <span data-role="'+ta.errorRefresh+'">\n          \u4f60\u53ef\u4ee5 <a href="javascript:;" class="txp_link_refresh">\u5237\u65b0</a> \u8bd5\u8bd5\n        </span>\n      </div>\n      <button data-role="'+ta.clientBtn+'" class="txp_link_btn '+'txp_none"></button>\n      <div data-role="'+ta.browserTip+'" class="txp_browser '+'txp_none"></div>\n      <div class="txp_error_code" data-role="'+ta.errorCode+'"></div>\n    </div>';t.insertAdjacentHTML("beforeend",r),this.rootEl=t.querySelector('[data-role="'+ta.error+'"]'),this.noiseBg=this.rootEl.querySelector("canvas"),Object.keys(ta).forEach((function(n){e.innerElements[n]=t.querySelector('[data-role="'+ta[n]+'"]')}))},t.prototype.setupDOMEvents=function(){var e=this;this.innerElements.errorRefresh.querySelector(".txp_link_refresh").addEventListener("click",(function(){e.config.useReplay?e.player.replay():location.reload()}));var n=0,r=0;this.innerElements.errorCode.addEventListener("click",(function(){(n+=1)>=5&&(n=0,e.emit(t.Events.REPORT_LOG)),r&&clearTimeout(r),r=window.setTimeout((function(){return n=0}),300)})),this.innerElements.clientBtn.addEventListener("click",(function(){e.clientExistDefer.promise.then((function(t){e.clickClientBtnOnExist(t)})).catch((function(){e.clickClientBtnOnNoExist()}))}))},t.prototype.setupPlayerEvents=function(){var e=this,t=this.player;t.on(Hr.PLAY_SESSION_END,(function(n){var r=n.data;if(e.config.showOnError){var o=r.code;if(o!==Ur.SUC){var i=e.config.img,a=e.config.hideRefresh,s=r.message,l=!1,c=t.config.type===A.LIVE;if(c&&r.data){if("setErrorView"!==r.data.name)return;var u=r.data.params,d=u.msg,p=u.hideRefresh,f=u.hideCode;d&&(s=d),ra[o]&&(s=ra[o]),p?xe.addClass(e.innerElements.errorRefresh,Yi):xe.removeClass(e.innerElements.errorRefresh,Yi),f?xe.addClass(e.innerElements.errorCode,Yi):xe.removeClass(e.innerElements.errorCode,Yi)}else o.startsWith(Ur.GETINFO_SERVER_CODE_PREFIX)&&(s=e.getVodErrMsg(o));(function(e,t){void 0===t&&(t=!1);var n=t?ra:na;return!!oa.test(e)||[zi.NO_PLAYBACK_COPYRIGHTS,zi.ENV_NOT_SUPPORT_ENCRYPTION,zi.ENV_NOT_SUPPORT_ENCRYPTION_LIVE].some((function(t){return n[e]}))})(o,c)&&(e.config.useClientBtn&&(e.checkClientExist(),e.setClientBtn(),a=!0,l=!0),e.config.useBrowserTip&&(e.setBrowserTip(),a=!0,l=!0),l&&(s=""+(function(e,t){return void 0===t&&(t=!1),oa.test(e)?t?zi.ENV_NOT_SUPPORT_ENCRYPTION_LIVE:zi.ENV_NOT_SUPPORT_ENCRYPTION:null}(o,c)||s)+function(e,t){switch(void 0===t&&(t=!1),(t?ra:na)[e]){case zi.ENV_NOT_SUPPORT_ENCRYPTION:case zi.ENV_NOT_SUPPORT_ENCRYPTION_LIVE:return"<p>\u4e3a\u4fdd\u62a4\u6b63\u7248\u9632\u6b62\u76d7\u7248\uff0c\u60a8\u53ef\u4ee5\u5c1d\u8bd5</p>";default:return"<p>\u60a8\u53ef\u4ee5\u5c1d\u8bd5</p>"}}(o,c))),e.show({code:o,text:s,hideRefresh:a,img:i})}}})),t.on(S.STATE_CHANGE,(function(t){var n=t.data.new;n!==E.PLAYING&&n!==E.CANPLAY||e.hide()})),t.on(Hr.PLAY_SESSION_START,(function(){return e.hide()}))},t.prototype.getVodErrMsg=function(e){return na[e]||na.default},t.prototype.setClientBtn=function(){var e=this,t=ee.os.mac?"Mac\u5ba2\u6237\u7aef\u89c2\u770b":"PC\u5ba2\u6237\u7aef\u89c2\u770b";ee.os.mac?this.innerElements.clientBtn.innerHTML="\u6253\u5f00"+t:this.clientExistDefer.promise.then((function(){e.innerElements.clientBtn.innerHTML="\u6253\u5f00"+t})).catch((function(){e.innerElements.clientBtn.innerHTML="\u4e0b\u8f7d"+t})),xe.removeClass(this.innerElements.clientBtn,Yi)},t.prototype.setNoise=function(e){var t=this;void 0===e&&(e=!0);var n=this.config.noiseConfig,r=n.enable,o=n.performanceRatio,i=n.opacity;if(r&&this.noiseBg&&(clearInterval(this.noiseTimer),xe.css(this.noiseBg,"display",e?"block":"none"),e)){var a=this.noiseBg.getContext("2d");this.resizeNoise();var s=this.noiseBg,l=s.width,c=s.height;if(!l||!c)return;this.noiseAnimation(a,l,c,i,o),this.noiseTimer=setInterval((function(){t.noiseAnimation(a,l,c,i,o)}),n.interval)}},t.prototype.resizeNoise=function(){if(this.noiseBg){var e=this.player.container,t=e.clientWidth,n=e.clientHeight,r=this.config.noiseConfig.size;this.noiseBg.width=t/r,this.noiseBg.height=n/r}},t.prototype.checkClientExist=function(){var e=this;try{$i((function(t){t?t.exist().done((function(){e.clientExistDefer.resolve(t)})).fail((function(){e.clientExistDefer.reject()})):e.clientExistDefer.reject()}))}catch(t){this.clientExistDefer.reject()}},t.prototype.clickClientBtnOnExist=function(e){if(this.player.config.type===A.LIVE){var t="qqlive://sso/pid="+(this.player.getCommonKv(go.livepid)||"")+"&projectid="+(this.player.vid||"");e.open(t)}else{var n=this.player.vid;ia({support:!0,atag:"playererror",sso:"qqlive://sso/vbarid="+(this.player.getCommonKv(go.cid)||"")+"&videoid="+n+"&start="+Math.max(this.player.playtime-5,0)+"&atag=web.playererror",success:function(){},error:function(){this.openDownLoadLink()}})}},t.prototype.clickClientBtnOnNoExist=function(){this.openDownLoadLink()},t.prototype.openDownLoadLink=function(){window.open("https://v.qq.com/download.html#"+(ee.os.mac?"Mac":"Windows"),"_blank")},t.prototype.setBrowserTip=function(){this.innerElements.browserTip.removeEventListener("click",this.browserTipClick),xe.removeClass(this.innerElements.browserTip,Yi),ee.os.mac?this.innerElements.browserTip.innerHTML="\u6216\u4e0b\u8f7d\u6700\u65b0 Chrome\u3001Safari \u6d4f\u89c8\u5668\u89c2\u770b":this.innerElements.browserTip.innerHTML="\u6216\u4e0b\u8f7d\u6700\u65b0 Chrome\u3001Edge \u6d4f\u89c8\u5668\u89c2\u770b"},t.Events=ea,t.pluginName="error-page",t}($r);Fi.registerPlugin(la.pluginName,la);var ca=n(2689),ua=n.n(ca);var da,pa=function(){function e(e,t,n){this.player=e,this.config=n,this.CLICK_EVENT_NAME="click",this.eventMap={};var r=e.container;this.el=r.querySelector(t),this.isMobile=null==n?void 0:n.isMobile,this.isLive="live"===this.config.mode,this.showEl()}return e.isEnabled=function(e){return!0},Object.defineProperty(e.prototype,"playtime",{get:function(){var e=this.config.timeOffset,t=this.player.playtime;return e?e(t,!1):t},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var e;(null===(e=this.el)||void 0===e?void 0:e.parentNode)&&this.el.remove(),this.setEvts(!0),this.el=null,this.player=null},e.prototype.setEvts=function(e){var t=this;void 0===e&&(e=!1);var n=e?this.player.off:this.player.on;Object.keys(this.eventMap).forEach((function(e){n.call(t.player,e,t.eventMap[e])}))},e.prototype.showEl=function(t){void 0===t&&(t=this.el),t&&t.classList.remove(e.hideClassName)},e.prototype.hideEl=function(t){void 0===t&&(t=this.el),t&&t.classList.add(e.hideClassName)},e.sel="",e.disabledClassName="txp_disabled",e.curClassName="txp_current",e.hideClassName="txp_none",e}(),fa="txp_none",ha="txp_disabled",ga=[E.END,E.IDLE,E.LOAD_START],va=function(e){function t(n,r,o){var i=e.call(this,n,t.sel,r)||this;i.config=r,i.ctrlbar=o,i.handlePlayerCanPlay=function(){i.hideDependOnKernel(),i.setBtnState(!0)},i.handleSetLevelEnd=function(){i.hideDependOnKernel()},i.handlePlayerSessionEnd=function(){i.setBtnState(!1)},i.handleClick=function(){var e,t;null===(t=null===(e=i.player.currentVideoElement)||void 0===e?void 0:e.webkitShowPlaybackTargetPicker)||void 0===t||t.call(e)};var a=!ga.includes(i.player.state);return i.setupDOMEvents(),i.setupPlayerEvents(!0),i.show(),i.setBtnState(a),i}return c(t,e),t.isEnabled=function(e){var t=e.isMobile;return ee.browser.safari&&!t},t.prototype.show=function(){this.el.classList.remove(fa)},t.prototype.hide=function(){this.el.classList.add(fa)},t.prototype.setBtnState=function(e){if(e)return this.el.classList.remove(ha);this.el.classList.add(ha)},t.prototype.destroy=function(){var e;this.setupPlayerEvents(!1),null===(e=this.el)||void 0===e||e.remove()},t.prototype.setupPlayerEvents=function(e){void 0===e&&(e=!0);var t=e?this.player.on.bind(this.player):this.player.off.bind(this.player);t(Hr.VIDEO_CANPLAY,this.handlePlayerCanPlay),t(Hr.PLAY_SESSION_END,this.handlePlayerSessionEnd),t(Hr.VIDEO_SETLEVEL_END,this.handleSetLevelEnd)},t.prototype.setupDOMEvents=function(){this.el=this.player.container.querySelector(t.sel),this.el.addEventListener("click",this.handleClick)},t.prototype.hideDependOnKernel=function(){this.player.kernelName===K.WASM?this.hide():this.show()},t.sel=".plugin_ctrl_airplay_btn",t.compName="AirPlayBtn",t}(pa);!function(e){e.HOT_MOUSE_OVER="ctrl:hotpoint-mouseover",e.HOT_MOUSE_MOVE="ctrl:hotpoint-mousemove",e.HOT_MOUSE_OUT="ctrl:hotpoint-mouseout"}(da||(da={}));var Aa,ya,_a=u(u({FULLSCREEN_CHANGE:"windowFullscreenChange",FULLSCREEN_ERROR:"fullscreenError",FAKE_FULLSCREEN_CHANGE:"browserFullscreenChange",CLICK_PIPBTN:"ctrl:click-pipbtn",CLICK_NEXTBTN:"ctrl:click-nextbtn",CLICK_PLAYBTN:"ctrl:click-playbtn",CLICK_REPLAY:"ctrl:click-replay",SET_LANGUAGE:"ctrl:set-language",SET_LEVEL:"ctrl:set-level",SET_AUDIO:"ctrl:set-audio",SET_PLAYRATE:"ctrl:set-playrate",SET_VOLUME:"ctrl:set-volume",TOGGLE_OVERLAY:"ctrl:toggle-overlay",MOUSE_DONW:"ctrl:progress-mousedown",MOUSE_DOWN:"ctrl:progress-mousedown",MOUSE_MOVE:"ctrl:progress-mousemove",MOUSE_UP:"ctrl:progress-mouseup",SHOW:"ctrl:show",HIDE:"ctrl:hide"},da),{TEST_EVENT:"ctrl:inner-test-event",RESIZE:"ctrl:resize",SHOW_LEVELS:"ctrl:show-levels",HOVER_PROGRESS:"ctrl:hover-progress"}),ma=function(e){return e?".plugin_ctrl_mobile_txp_bottom":".plugin_ctrl_txp_bottom"},Ea=".plugin_ctrl_txp_shadow",Ia=".plugin_ctrl_txp_gradient_bottom";!function(e){e.LARGE="large",e.NORMAL="normal"}(Aa||(Aa={})),function(e){e.PAUSE="pause",e.PLAY="play",e.REPLAY="replay",e.STOP="stop"}(ya||(ya={}));var ba=function(e){function t(t,n,r){var o=e.call(this,t,n.selector,n)||this;return o.ctrlbar=r,o.hideEl(),o.popup=o.isMobile?o.player.container.querySelector(n.modSelector):o.el.querySelector(".txp_popup"),o.el?(o.label=o.el.querySelector(".txp_label"),o.isMobile?o.label.addEventListener(o.CLICK_EVENT_NAME,(function(){!o.popup.classList.contains(pa.hideClassName)?o.hideEl(o.popup):(o.showEl(o.popup),o.popup.classList.add("overlay_flex")),o.ctrlbar.emit(_a.TOGGLE_OVERLAY,!0),o.hideEl(o.ctrlbar.el)})):(o.label.addEventListener("mouseover",(function(){return o.showEl(o.popup)})),o.el.addEventListener("mouseleave",(function(){o.hideEl(o.popup)}))),o.initItemClick(),o):o}return c(t,e),Object.defineProperty(t.prototype,"curClass",{get:function(){return this.isMobile?"current":pa.curClassName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this.selectedValue},set:function(e){var t,n=null===(t=this.popupOptions)||void 0===t?void 0:t.find((function(t){return String(t.value)===String(e)}));if(this.selectedValue=e,!n)return this.label.textContent="",void this.hideEl();this.showEl(),this.setCurrent(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupOptions",{get:function(){return this.allValue},set:function(e){var t=this,n=e.find((function(e){return String(e.value)===String(t.selectedValue)}));n?(this.setCurrent(n),this.showEl()):this.label.textContent="",this.allValue=e;var r=this.isMobile?"li":"div",o=/(<([^>]+)>)/;this.popup.querySelector(this.isMobile?".select_list":".txp_popup_content").innerHTML=e.map((function(e){return"<"+r+' \n      class="txp_menuitem '+(e.value===t.selected?t.curClass:"")+'" \n      data-label="'+(o.test(e.label)?"":e.label)+'"\n      data-value="'+e.value+'" \n      data-payload="'+(e.payload||"")+'">'+e.label+"</"+r+">"})).join("")},enumerable:!1,configurable:!0}),t.prototype.setCurrent=function(e){var t,n=this;this.label.innerHTML=null!==(t=null==e?void 0:e.btnLabel)&&void 0!==t?t:null==e?void 0:e.label,this.popup.querySelectorAll(".txp_menuitem").forEach((function(t){t.getAttribute("data-value")===String(e.value)?t.classList.add(n.curClass):t.classList.remove(n.curClass)}))},t.prototype.hookPlaySessionEnd=function(){this.el&&this.el.classList.add(pa.disabledClassName)},t.prototype.hookFlowNodeStart=function(e){"VideoFlowNode"===e.data.name&&this.el.classList.remove(pa.disabledClassName)},t.prototype.initItemClick=function(){var e=this;this.popup.addEventListener(this.CLICK_EVENT_NAME,(function(t){var n,r;e.player.setStateKv("ctrlbar:"+e.popupName+":"+e.CLICK_EVENT_NAME,{type:ao.USER_ACTION});for(var o=t.target;o&&!(null===(n=o.classList)||void 0===n?void 0:n.contains("txp_menuitem"));)o=o.parentNode;e.isMobile&&(e.hideEl(e.popup),e.popup.classList.remove("overlay_flex"),e.ctrlbar.emit(_a.TOGGLE_OVERLAY,!1));var i=null==o?void 0:o.dataset;(null==i?void 0:i.value)&&i.value!==String(e.selected)&&(null===(r=e.onSelect)||void 0===r||r.call(e,i),e.config.hidePopupOnClick&&e.hideEl(e.popup))}))},t.compName="popup",t}(pa),Ca=function(e){function t(n,r,o){var i=e.call(this,n,u(u({},r),{selector:t.popupSelector}),o)||this;return i.popupName="audiotrack",i.onSelect=function(e){i.ctrlbar.emit(_a.SET_AUDIO,e)},i}return c(t,e),t.isEnabled=function(e){return!(e.isMobile||e.disableAudioTrack)},t.compName="AudioTrackPopup",t.popupSelector=".txp_right_controls .txp_btn_audio_track",t}(ba);function wa(e,t){t.isInRequest?e.triggerAutoplay().then((function(){return e.play()})):e.play()}var Sa,xa,Pa=function(e){function t(n,r,o){var i=e.call(this,n,t.sel,r)||this;return i.config=r,i.ctrlbar=o,i.prepareDOM(),i.initDOMEvents(),i.initPlayerEvents(),i}return c(t,e),t.isEnabled=function(e){var t=e.showCenterPlayBtn,n=e.showCenterReplayBtn;return t||n},t.prototype.initDOMEvents=function(){var e=this;this.playBtn.addEventListener("click",(function(){e.hideEl(e.playBtn),wa(e.player,e.ctrlbar)})),this.replayBtn.addEventListener("click",(function(){e.hideEl(e.replayBtn),e.player.replay()}))},t.prototype.initPlayerEvents=function(){var e=this,t=this.player,n=function(){e.config.showCenterPlayBtn&&e.showEl(e.playBtn)};n(),t.on(Hr.AD_AUTOPLAY_BLOCKED,(function(e){e.data.adType===Qr.PRE&&n()})),t.on(Hr.AD_PAUSE,(function(){e.showEl(e.playBtn)})),t.on(Hr.AD_RESUME,(function(){e.hideEl(e.playBtn)})),t.on(Hr.VIDEO_AUTOPLAY_BLOCKED,n),t.on(Hr.AD_PLAYING,(function(){return e.hideEl(e.playBtn)})),t.on(Hr.VIDEO_PLAYING,(function(t){t.data.isFirst&&e.hideEl(e.playBtn)})),t.on(Hr.PLAY_SESSION_END,(function(t){var n=t.data;e.hideEl(e.playBtn),e.config.showCenterReplayBtn&&n.endState===y.NORMAL&&e.showEl(e.replayBtn)})),t.on(Hr.PLAY_SESSION_START,(function(){e.hideEl(e.replayBtn)}))},t.prototype.prepareDOM=function(){var e='<div class="'+t.sel.slice(1)+'">\n      <div class="btn_play '+pa.hideClassName+'">\n        <svg class="icon_play" viewBox="0 0 100 100">\n          <circle cx="50" cy="50" r="50" style="fill:#222;fill-opacity:0.75"></circle>\n          <path\n            transform="translate(36, 33)"\n            d="M0.6,2C0.6,2,0,3.5,0,16.9C0,30.3,0.6,32,0.6,32c0,1.5,1.6,2.5,2.9,1.8c0,0,3-0.5,15.2-6.6c12.2-6.1,14.2-8.4,14.2-8.4c1.5-0.7,1.5-2.8,0-3.6c0,0-3.3-3.1-14.2-8.6C7.9,1.1,3.5,0.2,3.5,0.2C2.1-0.5,0.6,0.5,0.6,2z"\n            style="fill:#fff;"\n          />\n        </svg>\n      </div>\n\n      <div class="btn_replay '+pa.hideClassName+'">\n        <svg class="icon_replay" viewBox="0 0 30 30">\n          <use xlink:href="#txp_svg_replay"></use>\n        </svg>\n        <div>\u91cd\u65b0\u64ad\u653e</div>\n      </div>\n    </div>';this.ctrlbar.el.insertAdjacentHTML("beforebegin",e),this.el=this.player.container.querySelector(t.sel),this.playBtn=this.el.querySelector(".btn_play"),this.replayBtn=this.el.querySelector(".btn_replay")},t.sel=".plugin_ctrl_center_btn",t.compName="CenterBtn",t}(pa),Ta=function(e){function t(n,r,o){var i=e.call(this,n,u(u({},r),{selector:t.popupSelector,modSelector:t.modSelector}),o)||this;return i.popupName="definition",i.onSelect=function(e){i.ctrlbar.emit(_a.SET_LEVEL,e)},i.onShowLevel=function(){i.ctrlbar.emit(_a.SHOW_LEVELS)},i.label.addEventListener("mouseover",i.onShowLevel),i}return c(t,e),t.isEnabled=function(){return!0},t.compName="DefinitionPopup",t.popupSelector=".txp_right_controls .txp_btn_definition",t.modSelector=".mod_overlay.definition",t}(ba),Da=function(e){function t(n,r,o){var i=e.call(this,n,t.sel,r)||this;return i.ctrlbar=o,i.tip=i.el.querySelector(".txp_tooltip"),i.el.classList.remove(pa.hideClassName),i.setupDOMEvents(),i}return c(t,e),t.isEnabled=function(e){var t=e.disableFakeFullscreen,n=e.useH5FakeFullscreen,r=e.isMobile;return r&&void 0!==n?!!n:void 0!==t?!t:!(!ee.os.android&&r)},Object.defineProperty(t.prototype,"isFullScreen",{get:function(){return this.player.fullscreenMode===mo.FAKE_FULLSCREEN},enumerable:!1,configurable:!0}),t.prototype.setTipStatus=function(e){this.el.dataset.status=String(e),this.isMobile||(this.tip.innerText=e?"\u9000\u51fa\u7f51\u9875\u5168\u5c4f":"\u7f51\u9875\u5168\u5c4f")},t.prototype.requestFullScreen=function(e){void 0===e&&(e="enter");var t="enter"===e;this.player.requestFullScreen(t,mo.FAKE_FULLSCREEN)},t.prototype.setupDOMEvents=function(){var e=this;this.el.addEventListener(this.CLICK_EVENT_NAME,(function(){e.player.setStateKv("ctrlbar:"+t.compName+":"+e.CLICK_EVENT_NAME,{type:ao.USER_ACTION}),e.requestFullScreen(e.isFullScreen?"exit":"enter")})),this.isMobile||(this.el.addEventListener("mouseover",(function(){e.showEl(e.tip)})),this.el.addEventListener("mouseout",(function(){e.hideEl(e.tip)}))),this.player.on(S.FULLSCREEN_CHANGE,(function(n){var r=n.data,o=r.mode,i=r.isEnter;if(o===mo.FAKE_FULLSCREEN){var a=e.player.config.fullscreenContainer||e.player.container;e.setTipStatus(i),a.classList.toggle(t.fullscreenClassName,i),e.ctrlbar.emit(_a.FAKE_FULLSCREEN_CHANGE,i)}}))},t.sel=".txp_right_controls .txp_btn_fake",t.fullscreenClassName="plugin_ctrl_txp_mode_fullscreen",t.compName="FakeFullscreen",t}(pa),Oa=function(e){function t(n,r,o){var i=e.call(this,n,t.sel,r)||this;return i.ctrlbar=o,i.onFullscreenChange=function(e){var t=e.data,n=t.mode,r=t.isEnter;n===mo.FULL_SCREEN&&(i.setDOMStatus(r?Sa.Exit:Sa.Enter),i.ctrlbar.emit(_a.FULLSCREEN_CHANGE,r),(i.player.config.fullscreenContainer||i.player.container).classList.toggle("thumbplayer-fullscreen",r))},i.onPlaySessionEnd=function(){ee.os.ios&&i.el.classList.add(pa.disabledClassName)},i.onPlaySessionStart=function(){i.el.classList.remove(pa.disabledClassName)},i.tip=i.el.querySelector(".txp_tooltip"),i.setupDOMEvents(),i.isMobile||i.listenDblclick(),i}return c(t,e),t.isEnabled=function(e){var t=e.isMobile,n=e.useH5FakeFullscreen;return t&&void 0!==n?!n:!(!ee.os.ios&&t)},Object.defineProperty(t.prototype,"isFullScreen",{get:function(){return this.player.fullscreenMode===mo.FULL_SCREEN},enumerable:!1,configurable:!0}),t.prototype.setDOMStatus=function(e){this.el.dataset.status=e,this.isMobile||(this.tip.innerText=e===Sa.Exit?"\u9000\u51fa\u5168\u5c4f":"\u5168\u5c4f")},t.prototype.requestFullScreen=function(e){var t=this;return void 0===e&&(e="enter"),this.player.requestFullScreen("enter"===e,mo.FULL_SCREEN).catch((function(e){t.ctrlbar.emit(_a.FULLSCREEN_ERROR,e)}))},t.prototype.listenDblclick=function(){var e=this;this.player.container.querySelector(Ea).addEventListener("dblclick",(function(){var t;(null===(t=e.ctrlbar.instances.FakeFullscreen)||void 0===t?void 0:t.isFullScreen)?e.ctrlbar.instances.FakeFullscreen.requestFullScreen("exit"):e.requestFullScreen(e.isFullScreen?"exit":"enter")}))},t.prototype.setupDOMEvents=function(){var e=this;this.el.addEventListener("click",(function(){e.el.classList.contains(pa.disabledClassName)||(e.player.setStateKv("ctrlbar:"+t.compName+":click",{type:ao.USER_ACTION,message:"fullscreen="+e.isFullScreen}),e.requestFullScreen(e.isFullScreen?"exit":"enter"))})),this.isMobile||(this.el.addEventListener("mouseover",(function(){return e.showEl(e.tip)})),this.el.addEventListener("mouseout",(function(){return e.hideEl(e.tip)}))),this.player.on(S.FULLSCREEN_CHANGE,this.onFullscreenChange),this.player.on(Hr.PLAY_SESSION_END,this.onPlaySessionEnd),this.player.on(Hr.PLAY_SESSION_START,this.onPlaySessionStart)},t.sel=".txp_right_controls .txp_btn_fullscreen",t.compName="Fullscreen",t}(pa);!function(e){e.Enter="false",e.Exit="true"}(Sa||(Sa={})),function(e){e.DEFAULT="default",e.WITH_PREVIEW="with-preview",e.NONE="none"}(xa||(xa={}));var Na,Ra={mouseover:da.HOT_MOUSE_OVER,mousemove:da.HOT_MOUSE_MOVE,mouseout:da.HOT_MOUSE_OUT},ka=function(e){function t(n,r,o){var i,a=e.call(this,n,t.sel,r)||this;return a.ctrlbar=o,a.hotPointMap={},a.isReady=!1,a.onVideoCanPlay=function(){a.isReady||(a.isReady=!0,a.renderDom())},a.onPlaySessionEnd=function(){a.isReady=!1,a.tipEl.classList.add(t.hideClassName),a.clearHotPoints()},a.config.hotPointTipType||(a.config.hotPointTipType=xa.DEFAULT),a.mouseEvtHandler=a.mouseEvtHandler.bind(a),a.mouseEvtFuncMap={mouseover:a.onMouseOver.bind(a),mousemove:ua()(a.onMouseMove.bind(a),16.6,{trailing:!1}),mouseout:a.onMouseOut.bind(a)},a.eventMap=((i={})[Hr.VIDEO_CANPLAY]=a.onVideoCanPlay,i[Hr.PLAY_SESSION_END]=a.onPlaySessionEnd,i),a.config.hotPointTipType===xa.DEFAULT&&a.setupTip(),a.setEvts(!1),a.logger=new ue(a.player.config.instanceId,"Ctrl:HotPoints"),a}return c(t,e),t.isEnabled=function(e){return!e.isMobile},t.prototype.clearHotPoints=function(){Object.values(this.hotPointMap).forEach((function(e){var t=e.el;t instanceof HTMLElement&&t.remove()})),this.hotPointMap={}},t.prototype.addHotPoints=function(e){var t=this;if(null==e?void 0:e.length){var n=e.map((function(e){var n=u({},e);return n.uuid=J.Z.createGUID(),t.hotPointMap[n.uuid]=n,n}));return this.isReady&&this.renderDom(),n}},t.prototype.deleteHotPoints=function(e){var t=this;e.forEach((function(e){var n,r=t.hotPointMap[e];r&&(null===(n=r.el)||void 0===n||n.remove(),delete t.hotPointMap[e])}))},t.prototype.setEvts=function(t){var n=this;void 0===t&&(t=!1);var r=t?this.el.removeEventListener:this.el.addEventListener;Object.keys(Ra).forEach((function(e){r.call(n.el,e,n.mouseEvtHandler,!1)})),e.prototype.setEvts.call(this,t)},t.prototype.isValidHotPoint=function(e){return e.timing<=this.player.duration},t.prototype.renderDom=function(){var e=this;Object.entries(this.hotPointMap).forEach((function(t){var n=t[0],r=t[1];if(!(r.el instanceof HTMLElement)){var o=e.createPointElement(r);o&&(e.el.insertAdjacentElement("beforeend",o),e.hotPointMap[n]=u(u({},r),{el:o}))}}))},t.prototype.createPointElement=function(e){if(this.isValidHotPoint(e)){var n=document.createElement("div"),r=e.timing/this.player.duration*100;return n.classList.add(t.defaultPointClass),n.style.left=r+"%",n.dataset.info=JSON.stringify(e),n}this.logger.warn("ctrlbar: hotpoint \u5165\u503c\u975e\u6cd5\uff0c\u5df2\u5ffd\u7565",e)},t.prototype.setupTip=function(){var e;this.config.hotPointCustomTipEl?e=this.config.hotPointCustomTipEl:(e=document.createElement("div")).classList.add(t.defaultTipClass),e.classList.add(t.hideClassName),this.el.insertAdjacentElement("beforeend",e),this.tipEl=e},Object.defineProperty(t.prototype,"offsetLeft",{get:function(){return this.player.container.getBoundingClientRect().left},enumerable:!1,configurable:!0}),t.prototype.mouseEvtHandler=function(e){var t=e.target.dataset;if(t.info){var n=this.config.hotPointTipType,r=JSON.parse(t.info);n===xa.DEFAULT&&this.mouseEvtFuncMap[e.type]({point:r,mouseEvent:e}),this.ctrlbar.emit(Ra[e.type],{point:r,mouseEvent:e,hotPointTipType:n})}},t.prototype.onMouseOver=function(e){var n=e.point;this.tipEl&&n.text&&(this.tipEl.textContent=n.text,this.tipEl.classList.remove(t.hideClassName))},t.prototype.onMouseMove=function(e){if(this.tipEl){var t=e.mouseEvent,n=this.player.container,r=this.tipEl.getBoundingClientRect().width,o=t.clientX-this.offsetLeft-r/2;o<0&&(o=0),o>n.clientWidth-r&&(o=n.clientWidth-r),this.tipEl.style.transform="translateX("+o+"px)"}},t.prototype.onMouseOut=function(){this.tipEl&&this.tipEl.classList.add(t.hideClassName)},t.sel=".txp_hotpoint",t.compName="HotPoint",t.defaultPointClass="txp_interact_dot",t.defaultTipClass="txp_hotpoint_tip",t}(pa),La=function(e){function t(n,r,o){var i=e.call(this,n,u(u({},r),{selector:t.popupSelector,modSelector:t.modSelector}),o)||this;return i.popupName="language",i.onSelect=function(e){i.ctrlbar.emit(_a.SET_LANGUAGE,e)},i}return c(t,e),t.isEnabled=function(e){return!(e.isMobile||e.disableLang)},t.compName="LanguagePopup",t.modSelector=".mod_overlay.language",t.popupSelector=".txp_right_controls .txp_btn_language",t}(ba),Ba=function(e){function t(n,r,o){var i,a=e.call(this,n,t.sel,r)||this;a.ctrlbar=o,a.isMouseDown=!1,a.maxPercent=1,a.isActive=!0,a.shouldHideHoverTime=!1,a.onMouseMove=function(e){if(e.preventDefault(),a.isMouseDown){var t=Math.min(a.getPercentByClientX(e),a.maxPercent);a.updateProgress(t),a.ctrlbar.emit(_a.MOUSE_MOVE,t),e.preventDefault()}},a.onMouseUp=function(e){if(e.preventDefault(),document.removeEventListener("touchmove",a.onMouseMove),document.removeEventListener("mousemove",a.onMouseMove),document.removeEventListener("touchend",a.onMouseUp),document.removeEventListener("mouseup",a.onMouseUp),a.isMouseDown){a.player.setStateKv("ctrlbar:"+t.compName+":"+(a.isMobile?"touchend":"mouseup"),{type:ao.USER_ACTION,eventId:a.evtId}),a.isMouseDown=!1;var n=parseFloat(a.progressPlayed.style.width)/100;a.doSeek(n),a.ctrlbar.emit(_a.MOUSE_UP,n)}},a.onMouseDown=function(e){if(e.preventDefault(),document.addEventListener("touchend",a.onMouseUp),document.addEventListener("mouseup",a.onMouseUp),document.addEventListener("touchmove",a.onMouseMove,{passive:!1}),document.addEventListener("mousemove",a.onMouseMove,{passive:!1}),a.evtId=a.player.dataset.generateEvtId(),a.player.setStateKv("ctrlbar:"+t.compName+":"+(a.isMobile?"touchstart":"mousedown"),{type:ao.USER_ACTION,eventId:a.evtId}),a.player.state!==E.IDLE){a.beforeSeek(),a.isMouseDown=!0;var n=Math.min(a.getPercentByClientX(e),a.maxPercent);a.updateProgress(n),a.ctrlbar.emit(_a.MOUSE_DOWN,n)}},a.eventMap=((i={})[S.TIME_UPDATE]=a.onTimeUpdate.bind(a),i[S.STATE_CHANGE]=a.onStateChange.bind(a),i[S.VIDEO_BUFFER_CHANGE]=function(){return a.updateBufferedBar()},i),a.setEvts(),a.progressLoaded=a.el.querySelector(".txp_progress_load"),a.progressPlayed=a.el.querySelector(".txp_progress_play"),a.scrubber=a.el.querySelector(".txp_btn_scrubber"),a.tooltip=a.el.querySelector(".txp_tooltip");return a.tooltipPosLimit=45/a.player.container.clientWidth/2*100+.5,a.isMobile&&a.el.appendChild(a.scrubber),a.el.addEventListener("touchstart",a.onMouseDown),a.el.addEventListener("mousedown",a.onMouseDown),a.isMobile||(a.setTooltipOnHover(),a.el.addEventListener("mouseover",(function(){o.emit(_a.HOVER_PROGRESS)}))),a.listenReqInfoEnd(),a}return c(t,e),Object.defineProperty(t.prototype,"offsetLeft",{get:function(){return this.el.getBoundingClientRect().left},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bufferedTime",{get:function(){var e=this,t=this.player.videoBuffered,n=t.length;if(1===n)return t[0].end;var r=0;return t.forEach((function(o,i){var a=o.start,s=o.end,l=e.playtime;if(l>=a&&l<=s)if(n>i+1)for(var c=i+1;c<n;c++){var u=t[c].start-t[c-1].end;if(!(0<=u&&u<=.2)){r=t[c-1].end;break}r=t[c].end}else r=o.end})),r},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){this.el.removeEventListener("touchstart",this.onMouseDown),this.el.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("touchmove",this.onMouseMove),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchend",this.onMouseUp),document.removeEventListener("mouseup",this.onMouseUp),e.prototype.destroy.call(this)},t.prototype.setActive=function(e){this.isActive!==e&&(this.isActive=e,this.setEvts(!this.isActive),this.isActive?this.showEl():this.hideEl())},t.prototype.setTooltip=function(e){var t=this.tooltip,n=this.tooltipPosLimit;t.innerText=J.Z.formatPlayTime(e*this.ctrlbar.duration);var r=Math.max(n,Math.min(100*e,100-n));t.style.left=r+"%"},t.prototype.updateBufferedBar=function(e){if(void 0===e&&(e=this.bufferedTime),0!==e){if(this.ctrlbar.duration&&"number"==typeof e){var t=Math.min(Math.round(100*e/this.ctrlbar.duration),100*this.maxPercent);t>=99&&(t=100),this.progressLoaded.style.width=t+"%"}}else this.progressLoaded.style.width="0"},t.prototype.updateProgress=function(e){if(!Number.isNaN(e)){var t=100*e;this.progressPlayed.style.width=t+"%",this.scrubber.style.left=t+"%"}},t.prototype.getPercentByClientX=function(e){var t=("touches"in e?e.touches[0]:e).clientX-this.offsetLeft;Math.abs(t-this.el.clientWidth)<=1&&(t=this.el.clientWidth);var n=t/this.el.clientWidth;return n=Math.max(0,Math.min(1,n))},t.prototype.onTimeUpdate=function(){if(!this.isMouseDown){var e=this.playtime/this.ctrlbar.duration;this.updateProgress(e),this.updateBufferedBar()}},t.prototype.onStateChange=function(e){var t=e.data;-1!==[E.IDLE,E.END].indexOf(t.new)&&(this.updateProgress(0),this.updateBufferedBar(0))},t.prototype.setTooltipOnHover=function(){var e=this;this.el.addEventListener("mouseover",(function(t){if(!(e.config.hideHoverTime||void 0===e.config.hideHoverTime&&e.shouldHideHoverTime)){var n=e.getPercentByClientX(t);e.setTooltip(n),e.showEl(e.tooltip),e.tooltip.style.display="flex"}})),this.el.addEventListener("mouseout",(function(){return e.hideEl(e.tooltip)})),this.el.addEventListener("mousemove",(function(t){var n=e.getPercentByClientX(t);e.setTooltip(n)}))},t.prototype.beforeSeek=function(){var e=this;this.pauseTimer=window.setTimeout((function(){return e.player.pause()}),300)},t.prototype.doSeek=function(e){var t=this.config.timeOffset,n=e*this.ctrlbar.duration;this.player.seek(t?t(n,!0):n),this.pauseTimer&&(window.clearTimeout(this.pauseTimer),this.pauseTimer=null),this.player.state!==E.PAUSE||this.player.config.remainPauseStateAfterSeek||this.player.play()},t.prototype.listenReqInfoEnd=function(){var e=this;this.player.pluginMsg.on(jr.GETINFO_OVER,(function(t){var n,r,o,i=t.data,a=e.player.plugins,s=a["ui-preview"]||a["ui-preview-list"],l=(null===(n=i.parseData)||void 0===n?void 0:n.preview)>0;e.shouldHideHoverTime=!(!s||l||!(null===(o=null===(r=i.parseData)||void 0===r?void 0:r.previewList)||void 0===o?void 0:o.length))}))},t.sel=".txp_progress_bar_container",t.compName="Progress",t}(pa);!function(e){e.IDLE="idle",e.BACK_PLAYING="backPlaying",e.LIVE_PLAYING="livePlaying"}(Na||(Na={}));var Ma,Qa=function(e){function t(t,n,r,o){var i=e.call(this,t,n,r)||this;return i.ctrlbar=r,i.timeupdateTimerID=0,i.playbackStateInner=Na.IDLE,i.maxBackDurationOverflow=!1,i.curBackDurationMS=0,i.liveStateTimeStr="",i.isSwitchBackOp=!1,i.playerApiForPlugins=null==o?void 0:o.api,i.logger=new ue(i.player.config.instanceId,"LiveProgress"),i.addReturnLiveBtn(),i.addLiveTimeDisplay(),i.setActive(!1),i.addPlayerEvts(),i}return c(t,e),t.isEnabled=function(e){return!e.isMobile},t.prototype.destroy=function(){var t,n;(null===(t=this.liveTimeDisplayDom)||void 0===t?void 0:t.parentNode)&&(this.liveTimeDisplayDom.remove(),this.liveTimeDisplayDom=null),(null===(n=this.returnLiveBtn)||void 0===n?void 0:n.parentNode)&&(this.returnLiveBtn.remove(),this.returnLiveBtn=null),this.playerApiForPlugins=null,this.setTimeupdateTimer(!1),e.prototype.destroy.call(this)},t.prototype.setActive=function(t){e.prototype.setActive.call(this,t),this.liveTimeDisplayDom.style.display=t?"flex":"none",this.hideEl(this.returnLiveBtn)},t.prototype.setTooltip=function(e){var t=this.tooltip,n=this.tooltipPosLimit,r=Math.max(n,Math.min(100*e,100-n)),o=this.getTimeTip(e);t.style.left=r+"%",t.innerText=o},t.prototype.updateBufferedBar=function(e){void 0===e&&(e=this.bufferedTime)},t.prototype.onTimeUpdate=function(){},t.prototype.onStateChange=function(){},t.prototype.beforeSeek=function(){},t.prototype.doSeek=function(e){this.seek(e)},t.prototype.addLiveTimeDisplay=function(){var e=this.ctrlbar.el.querySelector(".txp_left_controls");this.liveTimeDisplayDom=xe.creatDom('<txpdiv class="txp_time_display txp_time_display_live" style="display: none;">\n      <txpdiv class="txp_live_badge" style="display: block">\u76f4\u64ad\u4e2d</txpdiv>\n    </txpdiv>'),this.liveBadgeDom=this.liveTimeDisplayDom.querySelector(".txp_live_badge"),e.append(this.liveTimeDisplayDom)},t.prototype.addReturnLiveBtn=function(){var e=this,t=this.ctrlbar.el.querySelector(".txp_left_controls");this.returnLiveBtn=xe.creatDom('<txpdiv class="txp_btn txp_btn_return txp_none">\n      <txpdiv class="txp_label">\u8fd4\u56de\u76f4\u64ad</txpdiv>\n    </txpdiv>'),t.append(this.returnLiveBtn),this.returnLiveBtn.addEventListener("click",(function(){e.seek(1)}))},t.prototype.updateLiveTime=function(e,t){void 0===t&&(t=""),xe.text(this.liveBadgeDom,e+" "+t)},t.prototype.setPlayBackState=function(e){e?(xe.addClass(this.liveBadgeDom,"txp_live_badge_back"),this.showEl(this.returnLiveBtn)):(xe.removeClass(this.liveBadgeDom,"txp_live_badge_back"),this.hideEl(this.returnLiveBtn))},t.prototype.addPlayerEvts=function(){var e=this;this.player.on(Hr.VIDEO_REQ_INFO_END,(function(t){var n,r=t.data.data;if(r&&!r.error){var o=(r||{}).resData;e.clientStartTimeMS=Date.now(),e.playbackData=null===(n=o)||void 0===n?void 0:n.playback,e.playbackData?e.playbackState===Na.IDLE&&(e.setPlayBackEnabled(!0),e.player.loadParam.videoReqInfoParam.playbacktime>0?e.enterState(Na.BACK_PLAYING):e.enterState(Na.LIVE_PLAYING)):e.setPlayBackEnabled(!1)}})),this.player.on(Hr.PLAY_SESSION_END,(function(){e.isSwitchBackOp?e.isSwitchBackOp=!1:e.enterState(Na.IDLE)})),this.player.on(Hr.VIDEO_PLAYING,(function(){e.isSwitchBackOp=!1}))},t.prototype.setPlayBackEnabled=function(e){this.setActive(e),this.setTimeupdateTimer(e)},t.prototype.enterState=function(e,t){var n=this;if(this.playbackData&&this.playbackState!==e){var r=this.playbackState;if(this.logger.log("enterState from "+r+" to "+e),r===Na.IDLE&&e===Na.LIVE_PLAYING)this.playbackState=e;else if(r===Na.LIVE_PLAYING&&e===Na.BACK_PLAYING){var o=t.backDurationMS,i=this.calcBackAbsoluteTimeS(Date.now(),o);this.switchPlay(i,(function(){n.curBackDurationMS=o,n.playbackState=e}),(function(e){n.playbackState=Na.LIVE_PLAYING;var t=e||{},r=t.code,o=t.message,i=t.data;(null==r?void 0:r.startsWith(Ur.GETINFO_LIVE_SERVER_CODE_PREFIX))&&n.emitPlayerEvts("playbackFailed",u({code:r,message:o},i));var a=n.player.plugins.tips;"function"==typeof(null==a?void 0:a.show)&&a.show("\u62b1\u6b49\uff0c\u8fdb\u5165\u56de\u770b\u5931\u8d25..."),n.logger.warn("enter playback failed, code="+r+", message="+o)}))}else r===Na.BACK_PLAYING&&e===Na.LIVE_PLAYING?this.switchPlay(0,(function(){n.playbackState=e})):e===Na.IDLE&&(this.playbackState=e)}},Object.defineProperty(t.prototype,"playbackState",{get:function(){return this.playbackStateInner},set:function(e){this.playbackStateInner=e,this.onPlaybackStateChange(e),this.emitPlayerEvts("playbackStateChange",{state:this.playbackState})},enumerable:!1,configurable:!0}),t.prototype.onPlaybackStateChange=function(e){switch(e){case Na.LIVE_PLAYING:this.exitBackPlaying();break;case Na.BACK_PLAYING:this.enterBackPlaying();break;case Na.IDLE:this.exitBackPlaying(),this.setPlayBackEnabled(!1)}},t.prototype.emitPlayerEvts=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(t=this.player).emit.apply(t,g([e],n,!1))},t.prototype.switchPlay=function(e,t,n){var r;this.isSwitchBackOp=!0,(null===(r=this.playerApiForPlugins)||void 0===r?void 0:r.replayInCurFlowNode)&&this.playerApiForPlugins.replayInCurFlowNode(this.player.vid,{videoReqInfoParam:{playbacktime:e}}).then((function(){null==t||t()})).catch((function(e){null==n||n(e)}))},t.prototype.seekInBackState=function(e){var t,n=e.backDurationMS,r=this.calcBackAbsoluteTimeS(Date.now(),n),o=this.player.currentVideoInfo.loadingUrl,i=Ee.updateUrlParam(o,"wsStreamTimeABS",""+r);this.curBackDurationMS=n,this.isSwitchBackOp=!0,(null===(t=this.playerApiForPlugins)||void 0===t?void 0:t.replayInCurFlowNode)&&this.playerApiForPlugins.replayInCurFlowNode({url:i})},t.prototype.enterBackPlaying=function(){this.setPlayBackState(!0),this.updateLiveTime("\u56de\u770b\u4e2d")},t.prototype.exitBackPlaying=function(){this.updateProgress(1),this.setPlayBackState(!1),this.curBackDurationMS=0,this.updatePlaybackTime(0),this.updateLiveTime("\u76f4\u64ad\u4e2d")},t.prototype.updatePlaybackTime=function(e){var t,n;this.player.loadParam.videoReqInfoParam.playbacktime=e,null===(n=(t=this.player).updateReqInfo)||void 0===n||n.call(t,{videoReqInfoParam:{playbacktime:e}})},t.prototype.setTimeupdateTimer=function(e){e?0===this.timeupdateTimerID&&(this.timeupdateTimerID=window.setInterval(this.onTimeupdate.bind(this),200)):this.timeupdateTimerID>0&&(window.clearInterval(this.timeupdateTimerID),this.timeupdateTimerID=0)},t.prototype.calcMaxBackDurationS=function(e){var t=this.playbackData.playbacktime;if(this.maxBackDurationOverflow)return t;var n=this.calcStreamAbsoluteDurationMS(e)/1e3;return n<t?(this.maxBackDurationOverflow=!1,n):(this.maxBackDurationOverflow=!0,t)},t.prototype.calcAbsoluteTimeMS=function(e){return 1e3*this.playbackData.svrtick+(e-this.clientStartTimeMS)},t.prototype.calcStreamAbsoluteDurationMS=function(e){return this.calcAbsoluteTimeMS(e)-1e3*this.playbackData.playbackstart},t.prototype.calcBackAbsoluteTimeS=function(e,t){return Math.round((this.calcAbsoluteTimeMS(e)-t)/1e3)},t.prototype.onTimeupdate=function(){if(!this.isMouseDown&&this.player.state===E.PLAYING){var e="",t="",n=Date.now(),r=this.calcStreamAbsoluteDurationMS(n);if(this.playbackState===Na.BACK_PLAYING){var o=this.calcMaxBackDurationS(n),i=(r-this.curBackDurationMS)/1e3,a=this.calcBackAbsoluteTimeS(n,this.curBackDurationMS);if(this.updatePlaybackTime(a),t="\u56de\u770b\u4e2d",e=""+J.Z.formatPlayTime(i),!this.maxBackDurationOverflow){var s=(o-this.curBackDurationMS/1e3)/o;this.updateProgress(s)}}else t="\u76f4\u64ad\u4e2d",e=""+J.Z.formatPlayTime(r/1e3);this.liveStateTimeStr!==e&&(this.liveStateTimeStr=e,this.updateLiveTime(t,e))}},t.prototype.calcPercent2BackTimeS=function(e){return(1-e)*this.calcMaxBackDurationS(Date.now())},t.prototype.getTimeTip=function(e){var t=this.calcPercent2BackTimeS(e);return"\u56de\u9000"+J.Z.formatPlayTime(t)},t.prototype.seek=function(e){if(1===e)return this.logger.log("percent===1, return to live"),void this.enterState(Na.LIVE_PLAYING);var t=1e3*this.calcPercent2BackTimeS(e);this.playbackState===Na.LIVE_PLAYING?(this.logger.log("live to playback"),this.enterState(Na.BACK_PLAYING,{backDurationMS:t})):this.playbackState===Na.BACK_PLAYING&&(this.logger.log("seek in playback"),this.seekInBackState({backDurationMS:t}))},t}(Ba);!function(e){e.Loop="true",e.NotLoop="false"}(Ma||(Ma={}));var Va="thumbplayer-h5-loop",Fa=function(e){function t(n,r){var o=e.call(this,n,t.sel,r)||this;return o.tip=o.el.querySelector(".txp_tooltip"),o.setupDOMEvents(),o.initLoopConfig(),o}return c(t,e),t.isEnabled=function(e){var t=e.enableLoop,n=e.isMobile;return t&&!n},Object.defineProperty(t.prototype,"isLoopMode",{get:function(){return this.el.dataset.status===Ma.Loop},set:function(e){this.player.config.loop=e,this.el.dataset.status=String(e),this.tip.innerText=e?"\u5173\u95ed\u5faa\u73af\u64ad\u653e":"\u6253\u5f00\u5faa\u73af\u64ad\u653e"},enumerable:!1,configurable:!0}),t.prototype.setupDOMEvents=function(){var e=this;this.el.addEventListener(this.CLICK_EVENT_NAME,(function(){e.isLoopMode=!e.isLoopMode,_e.setData(Va,e.isLoopMode?Ma.Loop:Ma.NotLoop)}))},t.prototype.initLoopConfig=function(){var e=this.player.config.loop;if(void 0===e){var t=_e.getData(Va);t&&(this.isLoopMode=t===Ma.Loop)}else this.isLoopMode=!!e},t.compName="Loop",t.sel=".txp_left_controls .txp_btn_loop",t}(pa),Ua=function(e){function t(n,r,o){var i,a=e.call(this,n,t.sel,r)||this;a.ctrlbar=o;var s=r.showNextBtnUIOnly;return s?a.el.classList.remove(pa.disabledClassName):(a.onVideoNodeChange=a.onVideoNodeChange.bind(a),a.eventMap=((i={})[S.VIDEONODE_CHANGE]=a.onVideoNodeChange,i[S.LIST_CHANGE]=a.onVideoNodeChange,i),a.setEvts()),a.el.addEventListener(a.CLICK_EVENT_NAME,(function(){if(a.player.setStateKv("ctrlbar:"+t.compName+":"+a.CLICK_EVENT_NAME,{type:ao.USER_ACTION}),a.ctrlbar.emit(_a.CLICK_NEXTBTN),!s){var e=a.player.currentVideoInfoIdx;-1===e||e>=a.player.totalVideoInfoCount-1||a.player.playNext()}})),a}return c(t,e),t.isEnabled=function(e){var t=e.isMobile,n=e.disableNextBtn,r=e.showNextBtnUIOnly;return!(t||n&&!r)},t.prototype.onVideoNodeChange=function(){var e=this.player.currentVideoInfoIdx;-1!==e&&e+1<this.player.totalVideoInfoCount?this.el.classList.remove(pa.disabledClassName):this.el.classList.add(pa.disabledClassName)},t.sel=".txp_left_controls .txp_btn_next",t.compName="NextBtn",t}(pa),Ka=function(e){function t(n,r,o){var i=e.call(this,n,t.sel,r)||this;return i.ctrlbar=o,i.isPiP=!1,i.onEnterPiP=function(){i.isPiP=!0,i.setDOMStatus(!1)},i.onLeavePiP=function(){i.isPiP=!1,i.setDOMStatus(!0)},void 0===HTMLVideoElement.prototype.requestPictureInPicture?(i.el.classList.add(pa.hideClassName),i):(i.setupDOMEvents(),i.setupPlayerEvents(),i.tooltip=i.el.querySelector(".txp_tooltip"),i)}return c(t,e),t.isEnabled=function(e){return!e.isMobile},t.prototype.enterPicInPic=function(){var e=this.player.currentVideoElement;e&&(e.requestPictureInPicture(),this.setDOMStatus(!1))},t.prototype.leavePicInPic=function(){var e,t;try{null===(t=null===(e=document.exitPictureInPicture())||void 0===e?void 0:e.catch)||void 0===t||t.call(e,(function(){}))}catch(qe){}this.setDOMStatus(!0)},t.prototype.destroy=function(){this.setupVideoListener(!1),this.leavePicInPic(),e.prototype.destroy.call(this)},t.prototype.setupDOMEvents=function(){var e=this;this.el.addEventListener("click",(function(){e.isPiP?(e.leavePicInPic(),e.isPiP=!1):(e.enterPicInPic(),e.isPiP=!0),e.ctrlbar.emit(_a.CLICK_PIPBTN,e.isPiP)}))},t.prototype.setupPlayerEvents=function(){var e=this;this.player.on(Hr.VIDEO_PLAYING,(function(t){t.data.isFirst&&e.setPipSupportStatus(e.isKernelSupport())})),this.player.on(Hr.VIDEO_SETLEVEL_END,(function(t){t.data.code===Ur.SUC&&e.setPipSupportStatus(e.isKernelSupport())}))},t.prototype.setPipSupportStatus=function(e){e?(this.el.classList.remove(pa.hideClassName),this.setVideoPip()):(this.leavePicInPic(),this.el.classList.add(pa.hideClassName))},t.prototype.isKernelSupport=function(){var e=this.player.currentVideoElement;return e instanceof HTMLVideoElement&&"function"==typeof e.requestPictureInPicture},t.prototype.setVideoPip=function(){this.isPiP&&this.enterPicInPic(),this.setupVideoListener(!1),this.setupVideoListener(!0)},t.prototype.setupVideoListener=function(e){void 0===e&&(e=!0);var t=this.player.currentVideoElement;if(t){var n=e?t.addEventListener:t.removeEventListener;n.call(t,"enterpictureinpicture",this.onEnterPiP),n.call(t,"leavepictureinpicture",this.onLeavePiP)}},t.prototype.setDOMStatus=function(e){this.el&&(this.tooltip&&(this.tooltip.innerText=e?"\u753b\u4e2d\u753b":"\u9000\u51fa\u753b\u4e2d\u753b"),this.el.dataset.status=String(!e))},t.sel=".txp_right_controls .txp_btn_pip",t.compName="PictureInPicture",t}(pa);function ja(e,t){var n=e.plugins.tips;"function"==typeof(null==n?void 0:n.show)&&n.show(t)}function Ha(e){var t=e,n=t.flowManager,r=t.videoNode;return!(!Mr(e.config.instanceId)||!r||r===n.currentFlowNode)}var qa,Ga=function(e){function t(n,r,o){var i,a=e.call(this,n,t.sel,r)||this;return a.ctrlbar=o,a.onPlaySessionStart=function(){a.setPlayStatus(ya.PLAY),a.tooltip.innerText="\u64ad\u653e"},a.onPlaySessionEnd=function(){a.setPlayStatus(a.isLive?ya.PLAY:ya.REPLAY),a.tooltip.innerText="\u64ad\u653e"},a.eventMap=((i={})[S.STATE_CHANGE]=a.onPlayerStateChange.bind(a),i[Hr.PLAY_SESSION_START]=a.onPlaySessionStart,i[Hr.PLAY_SESSION_END]=a.onPlaySessionEnd,i),a.setPlayStatus(ya.PLAY),a.setEvts(),a.tooltip=a.el.querySelector(".txp_tooltip"),a.addEventListener(),a}return c(t,e),t.prototype.setPlayStatus=function(e){this.el.dataset.status=e,this.el.className="txp_btn txp_btn_play play_btn_"+e},t.prototype.addEventListener=function(){var e=this,n=this.player;this.el.addEventListener("click",(function(){if(n.setStateKv("ctrlbar:"+t.compName+":"+e.CLICK_EVENT_NAME,{type:ao.USER_ACTION}),!e.el.classList.contains(pa.disabledClassName))switch(e.ctrlbar.emit(_a.CLICK_PLAYBTN,e.el.dataset),e.el.dataset.status){case ya.PAUSE:n.pause(di.USER_CLICK);break;case ya.STOP:n.stop();break;case ya.PLAY:if(!e.isLive)return wa(n,e.ctrlbar);e.replay();break;case ya.REPLAY:e.ctrlbar.emit(_a.CLICK_REPLAY),e.replay()}}))},t.prototype.replay=function(){var e=this.player;e.vid?e.triggerAutoplay().then((function(){return e.replay()})):e.replay()},t.prototype.onVodPlaying=function(){var e=this.tooltip;this.setPlayStatus(ya.PAUSE),e.innerText="\u6682\u505c"},t.prototype.onLivePlaying=function(){var e=this,t=this.tooltip,n=function(){e.setPlayStatus(ya.STOP),t.innerText="\u505c\u6b62"};Ha(this.player)?this.player.once(Hr.AD_END,n):n()},t.prototype.onPlayerStateChange=function(e){var t=this,n=e.data.new,r=this.tooltip;switch(n){case E.PLAYING:this.isLive?this.onLivePlaying():this.onVodPlaying();break;case E.PAUSE:case E.CANPLAY:var o=function(){t.setPlayStatus(ya.PLAY),r.innerText="\u64ad\u653e"};Ha(this.player)?this.player.once(Hr.AD_END,o):o()}},t.sel=".txp_left_controls .txp_btn_play",t.compName="PlayBtn",t}(pa),Ya=function(e){function t(n,r,o){var i=e.call(this,n,u(u({},r),{selector:t.popupSelector,modSelector:t.modSelector}),o)||this;return i.popupName="playrate",i.onSelect=function(e){var t=i,n=t.player;t.ctrlbar.emit(_a.SET_PLAYRATE,e);var r=Number(e.value);n.playbackRate!==r&&(n.playbackRate=r,i.selected=r,ja(i.player,"\u6b63\u5728<em>"+r+"</em>\u500d\u901f\u5ea6\u64ad\u653e"))},i.onPlayRestart=function(){i.el.classList.toggle(pa.hideClassName,!i.player.supportPlaybackRate)},i.popupOptions=[{label:"0.5X",value:.5},{label:"0.75X",value:.75},{label:"1.0X",value:1,btnLabel:"\u500d\u901f"},{label:"1.25X",value:1.25},{label:"1.5X",value:1.5},{label:"1.75X",value:1.75},{label:"2.0X",value:2}],i.selected=1,i.bindEvts(!0),i}return c(t,e),t.isEnabled=function(e){var t=e.isMobile,n=e.enablePlayrate;return!t||t&&n},t.prototype.destroy=function(){this.bindEvts(!1),e.prototype.destroy.call(this)},t.prototype.bindEvts=function(e){(e?this.player.on.bind(this.player):this.player.off.bind(this.player))(S.RESTART,this.onPlayRestart)},t.compName="PlayratePopup",t.popupSelector=".txp_right_controls .txp_btn_playrate",t.modSelector=".mod_overlay.playrate",t}(ba),Wa=function(e){function t(n,r,o){var i,a=e.call(this,n,t.sel,r)||this;a.ctrlbar=o,a.clickCount=0,a.clickTimer=0,a.onMouseup=function(){a.isMouseDown=!1},a.onMousemove=function(e){var t=e.data;a.timeCur.innerText=J.Z.formatPlayTime(t*a.ctrlbar.duration)},a.onMousedown=function(e){var t=e.data;a.isMouseDown=!0,a.timeCur.innerText=J.Z.formatPlayTime(t*a.ctrlbar.duration)};var s=_a.MOUSE_DOWN,l=_a.MOUSE_MOVE,c=_a.MOUSE_UP;return a.eventMap=((i={})[S.DURATION_CHANGE]=a.onDurationChange.bind(a),i[S.TIME_UPDATE]=a.onTimeUpdate.bind(a),i[S.STATE_CHANGE]=a.onPlayerStateChange.bind(a),i),a.setEvts(),o.on(s,a.onMousedown),o.on(l,a.onMousemove),o.on(c,a.onMouseup),a.timeCur=a.el.querySelector(".txp_time_current"),a.timeDur=a.el.querySelector(".txp_time_duration"),r.disableTestEvent||a.bindClickOnMobile(),a}return c(t,e),t.prototype.bindClickOnMobile=function(){var e=this;if(this.isMobile){this.el.addEventListener("click",(function(){e.clickCount+=1,e.clickCount>=5&&(e.clickCount=0,e.ctrlbar.emit(_a.TEST_EVENT)),e.clickTimer&&clearTimeout(e.clickTimer),e.clickTimer=window.setTimeout((function(){e.clickCount=0}),300)}))}},t.prototype.onPlayerStateChange=function(e){e.data.new===E.IDLE&&(this.timeCur.innerText="00:00")},t.prototype.onDurationChange=function(){var e=this.ctrlbar.duration;this.timeDur.innerText=J.Z.formatPlayTime(e),this.el.classList.toggle("reach_hour",e>=3600)},t.prototype.onTimeUpdate=function(){if(!this.isMouseDown){var e=J.Z.formatPlayTime(this.playtime);this.timeCur.innerText!==e&&(this.timeCur.innerText=e)}},t.sel=".txp_left_controls .txp_time_display",t.compName="TimeArea",t}(pa);!function(e){e.Mute="mute",e.Normal="normal"}(qa||(qa={}));var za,Ja="thumbplayer-h5-volume",Za="thumbplayer-h5-volume:muted";!function(e){e.muted="true",e.unmuted="false"}(za||(za={}));var Xa,$a=function(e){function t(n,r,o){var i,a=e.call(this,n,t.sel,r)||this;return a.ctrlbar=o,a.lastVolume=.5,a.dragVolume=-1,a.onVideoPlaying=function(e){e.data.isFirst&&(a.isInLiveAd()||a.player.muted&&a.setUi(0))},a.onVolumeChange=function(){if(!a.isInLiveAd()){var e=a.player.volume;a.player.muted&&(e=0),a.setUi(e)}},a.onAdVolumeChange=function(e){var t=e.data;Ha(a.player)&&a.setUi(t.volume)},a.isMobile||(a.eventMap=((i={})[Hr.VIDEO_VOLUME_CHANGE]=a.onVolumeChange,i[Hr.AD_VOLUME_CHANGE]=a.onAdVolumeChange,i[Hr.VIDEO_PLAYING]=a.onVideoPlaying,i),a.setEvts(),a.popup=a.el.querySelector(".txp_popup_volume"),a.volumeSvg=a.el.querySelector(".txp_icon_volume"),a.volumeValue=a.el.querySelector(".txp_volume_range_current"),a.volumeRange=a.el.querySelector(".txp_volume_range"),a.volumeText=a.el.querySelector(".txp_volume_text"),a.initDOMEvents(),a.config.disableCacheVolume||a.setVolumeByCache()),a}return c(t,e),t.isEnabled=function(e){return!e.isMobile},t.prototype.setVolumeByCache=function(){var e=Number(_e.getData(Ja)),t=_e.getData(Za);(Number.isNaN(e)||e>1)&&(e=1,_e.setData(Ja,"1")),e&&(this.lastVolume=e),t===za.muted&&(e=0),this.setVolume(e),this.setUi()},t.prototype.setUi=function(e){void 0===e&&(e=this.getCurrentNodeVolume()),this.el.dataset.status=0===e?qa.Mute:qa.Normal,this.volumeValue.style.height=100*e+"%",this.volumeText.innerText=String(Math.round(100*e))},t.prototype.getCurrentNodeVolume=function(){var e,t,n=this.player;return Ha(n)&&null!==(t=null===(e=Mr(n.config.instanceId))||void 0===e?void 0:e.getAdVolume())&&void 0!==t?t:n.volume},t.prototype.isInLiveAd=function(){return this.isLive&&Ha(this.player)},t.prototype.setPercent=function(e,t){var n=e.clientY;this.clientY=this.volumeRange.getBoundingClientRect().top,this.clientHeight=this.volumeRange.clientHeight;var r=(n-this.clientY)/this.clientHeight;r=Math.floor(100*(1-r));var o=(r=Math.max(Math.min(r,100),0))/100;this.player.volume!==o&&(this.ctrlbar.emit(_a.SET_VOLUME,o),this.dragVolume=r),this.setVolume(o),this.setUi(),t&&(_e.setData(Ja,o),_e.setData(Za,!1))},t.prototype.setVolume=function(e){var t;this.isInLiveAd()?null===(t=Mr(this.player.config.instanceId))||void 0===t||t.setAdVolume(e):this.player.volume=e},t.prototype.initDOMEvents=function(){this.setupBtnMouseEvents(),this.setupVolumeClick(),this.setupVolumeRangeMouseEvents()},t.prototype.showVolumeTips=function(){var e=this;if(-1!==this.dragVolume){this.clearTipsTimer();this.volumeTipsTimer=window.setTimeout((function(){ja(e.player,"\u5f53\u524d\u97f3\u91cf: <em>"+e.dragVolume.toFixed(0)+"</em>")}),500)}},t.prototype.clearTipsTimer=function(){this.volumeTipsTimer&&(window.clearTimeout(this.volumeTipsTimer),this.volumeTipsTimer=0)},t.prototype.setupBtnMouseEvents=function(){var e=this;this.el.addEventListener("mouseenter",(function(){e.showEl(e.popup),e.dragVolume=-1,e.clearTipsTimer()})),this.el.addEventListener("mouseleave",(function(){e.isMouseDown||(e.hideEl(e.popup),e.showVolumeTips())}))},t.prototype.setupVolumeRangeMouseEvents=function(){var e=this,t=this.volumeRange,n=this.player;t.addEventListener("mousedown",(function(){e.isMouseDown=!0})),t.addEventListener("mousemove",(function(t){e.isMouseDown&&e.setPercent(t)})),n.container.addEventListener("mousemove",(function(t){e.isMouseDown&&e.setPercent(t)})),t.addEventListener("mouseup",(function(t){e.isMouseDown=!1,e.setPercent(t,!0)})),n.container.addEventListener("mouseup",(function(t){e.isMouseDown&&(e.isMouseDown=!1,e.setPercent(t,!0),e.hideEl(e.popup),e.showVolumeTips())}))},t.prototype.setupVolumeClick=function(){var e=this;this.volumeSvg.addEventListener(this.CLICK_EVENT_NAME,(function(){e.el.dataset.status===qa.Mute?(e.el.dataset.status=qa.Normal,e.setVolume(e.lastVolume),_e.setData(Za,za.unmuted),_e.setData(Ja,e.lastVolume)):(e.lastVolume=e.getCurrentNodeVolume(),e.el.dataset.status=qa.Mute,e.setVolume(0),_e.setData(Za,za.muted)),e.player.played&&-1===[E.END,E.IDLE].indexOf(e.player.state)||e.setUi()}))},t.compName="Volume",t.sel=".txp_btn_volume",t}(pa),es=".thumbplayer.txp_controls",ts=function(e){function t(t,n,r){var o,i=e.call(this,t,ma(n.isMobile),n)||this;i.ctrlbar=r,i.isMouseHoverControl=!1,i.isMouseDown=!1,i.shadowClickDisabled=!1,i.onShadowClick=function(e){if(e.target===i.shadow&&(i.clearClickTimer(),!i.shadowClickDisabled)){i.clickTimer=window.setTimeout((function(){var e=i.player;e.state===E.PLAYING?e.pause(di.USER_CLICK):wa(e,i.ctrlbar)}),300)}},i.clearClickTimer=function(){i.clickTimer&&(clearTimeout(i.clickTimer),i.clickTimer=null)},i.clearHideTimer=function(){i.hideTid&&(clearTimeout(i.hideTid),i.hideTid=null)},i.clearTouchTimer=function(){i.touchTid&&(clearTimeout(i.touchTid),i.touchTid=null)},i.hideDelay=n.autoHideDelay||3e3,i.show=i.show.bind(i),i.hide=i.hide.bind(i),i.onFullscreenChange=i.onFullscreenChange.bind(i),i.eventMap=((o={})[S.STATE_CHANGE]=i.onPlayerStateChange.bind(i),o[S.VIDEONODE_START_PLAY]=i.onStartPlay.bind(i),o),i.setEvts(),i.control=t.container.querySelector(es),i.shadow=t.container.querySelector(Ea),i.gradientBottom=t.container.querySelector(Ia),r.on(_a.FULLSCREEN_CHANGE,i.onFullscreenChange),r.on(_a.FAKE_FULLSCREEN_CHANGE,i.onFullscreenChange);var a=n.showCtrlShadow;return void 0===a||a||(i.shadow.remove(),i.shadow=null),i.addEventListener(),i.isMobile&&i.toggleControlOnClick(),i}return c(t,e),Object.defineProperty(t.prototype,"isShow",{get:function(){return!this.el.classList.contains(pa.hideClassName)},enumerable:!1,configurable:!0}),t.prototype.show=function(){this.autoHide(),this.isShow||(this.showEl(),this.showEl(this.gradientBottom),this.ctrlbar.emit(_a.SHOW))},t.prototype.hide=function(e){this.isShow&&(e||!this.isMouseHoverControl&&this.player.state!==E.PAUSE)&&(this.hideEl(),this.hideEl(this.gradientBottom),this.ctrlbar.emit(_a.HIDE))},t.prototype.autohide=function(){this.autoHide()},t.prototype.autoHide=function(){this.clearHideTimer(),this.hideDelay!==1/0&&(this.hideTid=window.setTimeout(this.hide,this.hideDelay))},t.prototype.destroy=function(){this.clearHideTimer(),this.clearClickTimer(),this.clearTouchTimer(),e.prototype.destroy.call(this)},t.prototype.toggleShadowClickDisabled=function(e){this.shadowClickDisabled=e},t.prototype.addEventListener=function(){var e=this,t=this,n=t.ctrlbar,r=t.player,o=t.shadow,i=r.container;this.isMobile?(n.on(_a.TOGGLE_OVERLAY,(function(t){var n=t.data;e.isMouseHoverControl=n,n||e.autoHide()})),n.on(_a.MOUSE_DOWN,(function(){return e.isMouseHoverControl=!0})),n.on(_a.MOUSE_UP,(function(){e.autoHide(),e.isMouseHoverControl=!1}))):(this.control.addEventListener("mouseenter",(function(){return e.isMouseHoverControl=!0})),this.control.addEventListener("mouseleave",(function(){return e.isMouseHoverControl=!1})),n.on(_a.MOUSE_DOWN,(function(){return e.isMouseDown=!0})),n.on(_a.MOUSE_UP,(function(){return e.isMouseDown=!1})),i.addEventListener("mouseenter",this.show),i.addEventListener("mousemove",this.show),i.addEventListener("mouseleave",(function(){e.isMouseDown||e.hide()})),!this.isLive&&o&&(o.addEventListener("click",this.onShadowClick),o.addEventListener("dblclick",this.clearClickTimer)))},t.prototype.toggleControlOnClick=function(){var e,t=this;null===(e=this.shadow)||void 0===e||e.addEventListener("click",(function(){t.isShow?t.hide():t.show()}))},t.prototype.onFullscreenChange=function(){this.isMouseHoverControl=!1,this.hide()},t.prototype.onPlayerStateChange=function(e){var t=e.data.new;-1!==[E.PAUSE,E.END,E.IDLE].indexOf(t)?this.show():t===E.PLAYING&&this.autoHide()},t.prototype.onStartPlay=function(){this.autoHide()},t.compName="CtrlShow",t}(pa);!function(e){e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.Space=" ",e.Escape="Escape",e.LEFT_SQUARE_BRACKET="[",e.LEFT_SQUARE_BRACKET_CN="\u3010",e.RIGHT_SQUARE_BRACKET="]",e.RIGHT_SQUARE_BRACKET_CN="\u3011"}(Xa||(Xa={}));var ns=[Xa.ArrowUp,Xa.ArrowDown,Xa.Escape],rs=function(){function e(e,t,n){var r,o=this;this.player=e,this.config=t,this.comps=n,this.isDisabled=!1,this.spyKeyUpOnBody=function(e){o.isEvtKeyInConfig(e)&&o.spyKeyUp(e)},this.spyKeyDownOnBody=function(e){o.isEvtKeyInConfig(e)&&o.spyKeyDown(e)},this.fastBackwardHandler=function(){var e=o.player,t=e.duration;o.backwardPlaytime=e.playtime;var n=function(){o.backwardPlaytime=Math.max(0,o.backwardPlaytime-2),o.comps.progress.updateProgress(o.backwardPlaytime/t),e.seek(o.backwardPlaytime),ja(e,"\u5feb\u9000\u81f3 "+J.Z.formatPlayTime(o.backwardPlaytime))};o.backwardTimer=setInterval(n,500),n()},this.fastForwardHandler=function(){var e=o.config.pressFastForwardRate,t=void 0===e?3:e,n=o.comps.playRate,r=(n||{}).selected;if(r&&!(t<=r)){var i={label:t+"X",value:t};o.player.play(),o.lastPlaybackRate=n.selected,o.player.playbackRate=t,ja(o.player,"\u6b63\u5728 <em>"+i.value+"</em> \u500d\u64ad\u653e\u4e2d"),setTimeout((function(){n.setCurrent(i)}),0)}},this.spyKeyUp=this.spyKeyUp.bind(this),this.spyKeyDown=this.spyKeyDown.bind(this);var i=e.container;ee.mobile||(i.tabIndex=-1),i.addEventListener("keyup",this.spyKeyUp),i.addEventListener("keydown",this.spyKeyDown),(null===(r=this.config.keysListenedOnBody)||void 0===r?void 0:r.length)&&(document.body.addEventListener("keyup",this.spyKeyUpOnBody),document.body.addEventListener("keydown",this.spyKeyDownOnBody))}return e.prototype.destroy=function(){var e;if(this.player){var t=this.player.container;this.cancelPressState(),t.removeEventListener("keyup",this.spyKeyUp),t.removeEventListener("keydown",this.spyKeyDown),(null===(e=this.config.keysListenedOnBody)||void 0===e?void 0:e.length)&&(document.body.removeEventListener("keyup",this.spyKeyUpOnBody),document.body.removeEventListener("keydown",this.spyKeyDownOnBody)),this.player=null}},e.prototype.isEvtKeyInConfig=function(e){return this.config.keysListenedOnBody.includes(e.key)&&e.target===document.body},e.prototype.prevent=function(e){var t,n;null===(t=e.preventDefault)||void 0===t||t.call(e),null===(n=e.stopPropagation)||void 0===n||n.call(e)},e.prototype.spyKeyUp=function(e){var t;if(!e.shiftKey&&!this.isDisabled){var n=e.key,r=this.player,o=r.state,i=this.config.seekGap,a=void 0===i?5:i;if(this.pressKey)n===this.pressKey&&this.cancelPressState();else if(!this.isLive()||ns.includes(n))switch(n){case Xa.ArrowLeft:r.setStateKv("ctrlbar:hotkey:"+n,{type:ao.USER_ACTION}),r.seek(r.playtime-a),this.prevent(e),this.showSeekLeftTips();break;case Xa.ArrowRight:r.setStateKv("ctrlbar:hotkey:"+n,{type:ao.USER_ACTION}),r.seek(r.playtime+a),this.prevent(e),this.showSeekRightTips();break;case Xa.Space:r.setStateKv("ctrlbar:hotkey:space",{type:ao.USER_ACTION}),o===E.PLAYING||o===E.BUFFERING?r.pause(di.USER_CLICK):r.play(),this.prevent(e);break;case Xa.Escape:(null===(t=this.comps.fakeFullscreen)||void 0===t?void 0:t.isFullScreen)&&(this.comps.fakeFullscreen.requestFullScreen("exit"),this.prevent(e));break;case Xa.LEFT_SQUARE_BRACKET:case Xa.LEFT_SQUARE_BRACKET_CN:this.setNextPlayBackRate(!0),this.prevent(e);break;case Xa.RIGHT_SQUARE_BRACKET:case Xa.RIGHT_SQUARE_BRACKET_CN:this.setNextPlayBackRate(!1),this.prevent(e)}}},e.prototype.setNextPlayBackRate=function(e){void 0===e&&(e=!1);var t=this.comps.playRate,n=t.popupOptions,r=t.selected,o=n.findIndex((function(e){return e.value===r}));if(-1!==o&&!(e&&0===o||!e&&o===n.length-1)){var i=Number(n[e?o-1:o+1].value);this.player.playbackRate=i,ja(this.player,"\u6b63\u5728 <em>"+i+"</em> \u500d\u901f\u64ad\u653e\u4e2d")}},e.prototype.enterPressMode=function(e){var t=this;if(!this.pressKey){var n=this.config,r=n.pressFastBackwardGap,o=void 0===r?.5:r,i=n.pressFastForwardGap,a=e?void 0===i?.5:i:o,s=e?this.fastForwardHandler:this.fastBackwardHandler;a&&(clearTimeout(this.pressTimer),this.pressTimer=setTimeout((function(){var e=t.player.state;[E.PAUSE,E.PLAYING].includes(e)&&s()}),1e3*a))}},e.prototype.cancelPressState=function(){var e,t,n=this.comps.playRate;n&&this.lastPlaybackRate&&(n.selected=this.lastPlaybackRate,this.player.playbackRate=this.lastPlaybackRate),e=this.player,"function"==typeof(null==(t=e.plugins.tips)?void 0:t.hide)&&t.hide(),this.lastPlaybackRate=NaN,this.pressKey=null,this.backwardPlaytime=NaN,this.pressKey=null,clearTimeout(this.backwardTimer),clearTimeout(this.pressTimer)},e.prototype.spyKeyDown=function(e){if(e.shiftKey||this.isDisabled||this.pressKey)this.prevent(e);else{var t=e.key,n=e.repeat,r=this.player;if(!this.isLive()||ns.includes(t))switch(t){case Xa.ArrowUp:r.volume=this.volumeToFixedNumber(r.volume+.05),this.prevent(e),this.showVolumeTips();break;case Xa.ArrowDown:r.volume=this.volumeToFixedNumber(r.volume-.05),this.prevent(e),this.showVolumeTips();break;case Xa.Space:this.prevent(e);break;case Xa.ArrowLeft:case Xa.ArrowRight:this.prevent(e),n&&(this.enterPressMode(t===Xa.ArrowRight),this.pressKey=t)}}},e.prototype.isLive=function(){return this.config.mode===A.LIVE},e.prototype.volumeToFixedNumber=function(e){var t=Math.max(Math.min(e,1),0);return t=Number(t.toFixed(2)),_e.setData(Ja,t),t},e.prototype.showSeekLeftTips=function(){if(this.player.state!==E.IDLE){var e=this.config.seekGap,t=void 0===e?5:e,n=Math.max(0,this.player.playtime-t);ja(this.player,"\u5feb\u9000\u81f3 "+J.Z.formatPlayTime(n))}},e.prototype.showSeekRightTips=function(){if(this.player.state!==E.IDLE){var e=this.player,t=e.playtime,n=e.duration,r=this.config.seekGap,o=void 0===r?5:r,i=Math.min(t+o,n);ja(this.player,"\u5feb\u8fdb\u81f3 "+J.Z.formatPlayTime(i))}},e.prototype.showVolumeTips=function(){var e;(null===(e=this.comps.volume)||void 0===e?void 0:e.popup.classList.contains(pa.hideClassName))&&ja(this.player,"\u5f53\u524d\u97f3\u91cf: <em>"+(100*this.player.volume).toFixed(0)+"</em>")},e.compName="HotKeys",e}(),os={PlayBtn:Ga,NextBtn:Ua,TimeArea:Wa,Progress:Ba,Fullscreen:Oa,FakeFullscreen:Da,Volume:$a,CtrlShow:ts,HotPoint:ka,Loop:Fa,PictureInPicture:Ka,LiveProgress:Qa,CenterBtn:Pa,DefinitionPopup:Ta,PlayratePopup:Ya,LanguagePopup:La,AudioTrackPopup:Ca},is=function(e){function t(t,n,r){var o,i,a,s,l,c,d=e.call(this,t,n,r)||this;d.instances={},d.isInRequest=!1,d.hasCustomPlayBackRate=!1,d.config=u(u({},t.config.ctrlConfig),n);var p=ee.mobile;return null!==(o=(s=d.config).mode)&&void 0!==o||(s.mode=d.player.config.type),null!==(i=(l=d.config).isMobile)&&void 0!==i||(l.isMobile=p),null!==(a=(c=d.config).showCenterPlayBtn)&&void 0!==a||(c.showCenterPlayBtn=p),d.setMaxListeners(20),d.insertDom(),d.createSubComponents(r),d.setupResizeEvent(),d.setPluginEvts(!0),function(e,t){ee.mobile&&(t.on(Hr.AD_PLAYING,(function(){return e.hide(!0)})),t.on(Hr.AD_END,(function(){return e.el.style.display=""})))}(d,t),d.config.isMobile&&d.hide(!0),d.config.uiDuration&&(d.duration=d.config.uiDuration),d}return c(t,e),Object.defineProperty(t.prototype,"duration",{get:function(){var e;return null!==(e=this.uiDuration)&&void 0!==e?e:this.player.duration},set:function(e){isNaN(e)&&void 0!==e||(this.uiDuration=e,this.instances[Wa.compName]&&(this.instances[Wa.compName].timeDur.innerText=J.Z.formatPlayTime(e)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"audio",{get:function(){var e;return null===(e=this.instances[Ca.compName])||void 0===e?void 0:e.selected},set:function(e){this.instances[Ca.compName]&&(this.instances[Ca.compName].selected=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"audioOpts",{get:function(){var e;return null===(e=this.instances[Ca.compName])||void 0===e?void 0:e.popupOptions},set:function(e){this.instances[Ca.compName]&&(this.instances[Ca.compName].popupOptions=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){var e;return null===(e=this.instances[Ta.compName])||void 0===e?void 0:e.selected},set:function(e){this.instances[Ta.compName]&&(this.instances[Ta.compName].selected=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"levelOpts",{get:function(){var e;return null===(e=this.instances[Ta.compName])||void 0===e?void 0:e.popupOptions},set:function(e){this.instances[Ta.compName]&&(this.instances[Ta.compName].popupOptions=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lang",{get:function(){var e;return null===(e=this.instances[La.compName])||void 0===e?void 0:e.selected},set:function(e){this.instances[La.compName]&&(this.instances[La.compName].selected=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"langOpts",{get:function(){var e;return null===(e=this.instances[La.compName])||void 0===e?void 0:e.popupOptions},set:function(e){this.instances[La.compName]&&(this.instances[La.compName].popupOptions=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playrate",{get:function(){var e;return null===(e=this.instances[Ya.compName])||void 0===e?void 0:e.selected},set:function(e){this.instances[Ya.compName]&&(this.instances[Ya.compName].selected=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playrateOpts",{get:function(){var e;return null===(e=this.instances[Ya.compName])||void 0===e?void 0:e.popupOptions},set:function(e){this.instances[Ya.compName]&&(this.instances[Ya.compName].popupOptions=e)},enumerable:!1,configurable:!0}),t.prototype.getIsHotKeysDisabled=function(){return this.hotKeys.isDisabled},t.prototype.prependElementToLevels=function(e){var t,n,r;null===(r=null===(n=null===(t=this.instances)||void 0===t?void 0:t[Ta.compName])||void 0===n?void 0:n.popup)||void 0===r||r.firstElementChild.insertAdjacentElement("afterbegin",e)},t.prototype.show=function(e){void 0===e&&(e=!1),this.el.classList.remove(pa.hideClassName),this.instances.CtrlShow.gradientBottom.classList.remove(pa.hideClassName),e&&(this.el.style.display="",this.instances.CtrlShow.gradientBottom.style.display=""),this.emit(_a.SHOW)},t.prototype.hide=function(e){void 0===e&&(e=!1),this.el.classList.add(pa.hideClassName),this.instances.CtrlShow.gradientBottom.classList.add(pa.hideClassName),e&&(this.el.style.display="none",this.instances.CtrlShow.gradientBottom.style.display="none"),this.emit(_a.HIDE)},t.prototype.setHotKeysDisable=function(e){void 0===e&&(e=!0),this.hotKeys&&(this.hotKeys.isDisabled=!!e)},t.prototype.setCompDisable=function(e,t){var n=this;void 0===t&&(t=!0),(Array.isArray(e)?e:[e]).forEach((function(e){var r,o;"CtrlShow"!==e?null===(o=null===(r=n.instances[e])||void 0===r?void 0:r.el)||void 0===o||o.classList.toggle(pa.disabledClassName,t):n.instances.CtrlShow.toggleShadowClickDisabled(t)}))},t.prototype.setCompVisable=function(e,t){var n=this;void 0===t&&(t=!0),(Array.isArray(e)?e:[e]).forEach((function(e){var r,o;null===(o=null===(r=n.instances[e])||void 0===r?void 0:r.el)||void 0===o||o.classList.toggle(pa.hideClassName,!t)}))},t.prototype.removeComponent=function(e){var t,n;null===(n=null===(t=this.instances[e])||void 0===t?void 0:t.el)||void 0===n||n.remove()},t.prototype.destroy=function(){var t,n;this.setPluginEvts(!1),this.callAllComponents("destroy"),(null===(t=this.el)||void 0===t?void 0:t.parentNode)&&this.el.remove(),this.el=null,null===(n=this.hotKeys)||void 0===n||n.destroy(),e.prototype.destroy.call(this)},t.prototype.hookVideoCanplay=function(){this.config.isMobile&&this.show(!0)},t.prototype.hookAdReqInfoStart=function(){this.isInRequest=!0},t.prototype.hookAdReqInfoEnd=function(){this.isInRequest=!1},t.prototype.hookVideoReqInfoStart=function(){this.isInRequest=!0},t.prototype.hookVideoReqInfoEnd=function(){this.isInRequest=!1},t.prototype.hookVideoRateChange=function(e){var t,n=e.rate;if(!(null===(t=this.playrateOpts)||void 0===t?void 0:t.find((function(e){return Number(e.value)===n})))){var r=g([],this.playrateOpts||[],!0);if(this.hotKeys.pressKey)return;return this.hasCustomPlayBackRate&&(r=this.deleteCustomPlaybackRate(r)),this.playrateOpts=g([this.getCustomPlaybackRate(n)],r,!0),this.hasCustomPlayBackRate=!0,void(this.playrate=n)}this.hasCustomPlayBackRate&&(this.hasCustomPlayBackRate=!1,this.playrateOpts=this.deleteCustomPlaybackRate(this.playrateOpts)),this.playrate=n},t.prototype.hookVideoPlaying=function(e){var t;e.isFirst&&(null===(t=this.instances.CtrlShow.shadow)||void 0===t||t.classList.remove(pa.hideClassName))},t.prototype.hookPlaySessionEnd=function(e){this.callAllComponents("hookPlaySessionEnd",e)},t.prototype.onFlowNodeStart=function(e){this.callAllComponents("hookFlowNodeStart",e)},t.prototype.callAllComponents=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o={};Object.keys(this.instances).forEach((function(r){try{var i=t.instances[r];if(o[i.compName])return;o[i.compName]=!0,"function"==typeof i[e]&&i[e].apply(i,n)}catch(a){t.error("ctrlbar "+e+" err: ",a)}}))},t.prototype.setPluginEvts=function(e){var t=this;this.pluginMsgEvtMap||(this.pluginMsgEvtMap={FLOW_NODE_START:this.onFlowNodeStart.bind(this)});var n=e?this.msg.on:this.msg.off;Object.keys(this.pluginMsgEvtMap).forEach((function(e){n.call(t.msg,e,t.pluginMsgEvtMap[e])}))},t.prototype.getCustomPlaybackRate=function(e){return{value:e,label:"\u81ea\u5b9a\u4e49\uff08"+e+"x\uff09",btnLabel:e+"x",payload:{customOpt:!0}}},t.prototype.deleteCustomPlaybackRate=function(e){return e.filter((function(e){var t;return!0!==(null===(t=e.payload)||void 0===t?void 0:t.customOpt)}))},t.prototype.insertDom=function(){var e=this.player.container,n=this.config.isMobile;e.classList.add("_mod_thumbplayer_container_"),e.insertAdjacentHTML("beforeend",function(e){return'\n<div class="'+Ia.slice(1)+'"></div>\n<div class="'+ma(e).slice(1)+'">\n    <div class="thumbplayer txp_controls">\n        <div class="txp_left_controls">\n            <div class="txp_none txp_btn txp_btn_play" data-status="play" aria-label="\u64ad\u653e/\u6682\u505c">\n                <svg class="txp_icon txp_icon_play" viewBox="0 0 28 28">\n                    <use class="txp_svg_symbol txp_svg_play" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#txp_svg_play"></use>\n                    <use class="txp_svg_symbol txp_svg_pause" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#txp_svg_pause"></use>\n                    <use class="txp_svg_symbol txp_svg_stop" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#txp_svg_stop"></use>\n                    <use class="txp_svg_symbol txp_svg_replay" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#txp_svg_replay"></use>\n                </svg>\n                <div class="txp_tooltip">\u64ad\u653e</div>\n            </div>\n            <div class="txp_none txp_btn txp_btn_next txp_disabled" aria-label="\u4e0b\u4e00\u4e2a">\n                <svg class="txp_icon txp_icon_next" viewBox="0 0 28 28">\n                    <use class="txp_svg_symbol txp_svg_next" xlink:href="#txp_svg_next"></use>\n                </svg>\n                <div class="txp_tooltip">\u4e0b\u4e00\u4e2a</div>\n            </div>\n            <div class="txp_btn txp_btn_loop txp_none" data-status="false" aria-label="\u5faa\u73af\u64ad\u653e">   \n                <svg data-role="txp-ui-control-loop-play-btn" class="txp_icon txp_icon_loop" viewBox="0 0 28 28">\n                    <use class="txp_svg_symbol txp_svg_loop" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#txp_svg_loop"></use>\n                    <use class="txp_svg_symbol txp_svg_loop_off" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#txp_svg_loop_off"></use>\n                </svg>\n                <div class="txp_tooltip">\u6253\u5f00\u5faa\u73af\u64ad\u653e</div> \n            </div>\n\n            <div class="txp_btn txp_btn_volume txp_none" data-status="normal" aria-label="\u97f3\u91cf">     \n                <svg class="txp_icon txp_icon_volume" viewBox="0 0 28 28">         \n                    <use class="txp_svg_symbol txp_svg_volume" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#txp_svg_volume"></use> \n                    <use class="txp_svg_symbol txp_svg_volume_mute" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#txp_svg_volume_mute"></use>     \n                </svg>      \n                <div class="txp_popup txp_popup_volume txp_none">\n                    <div class="txp_popup_content">             \n                        <div class="txp_volume_text">100</div>     \n                        <div class="txp_volume_range">                 \n                            <div class="txp_volume_range_current" style="height: 100%;">                     \n                                <div class="txp_volume_handle"></div>                 \n                            </div>             \n                        </div>\n                    </div>\n                </div>\n            </div>  \n\n            <div class="txp_none txp_time_display">\n                <div class="txp_time_current">00:00</div>\n                <div class="txp_time_separator">/</div>\n                <div class="txp_time_duration">00:00</div>\n            </div>\n        </div>\n\n        <div class="txp_none txp_progress_bar_container">\n            <div class="txp_progress_list">\n                <div class="txp_progress_load" style="width: 0;"></div>\n                <div class="txp_progress_play" style="width: 0;">\n                </div>\n                <div class="txp_btn_scrubber" style="left: 0">\n                    <div class="txp_scrubber_indicator"></div>\n                </div>\n            </div>\n            <div class="txp_tooltip txp_none"></div>\n            \x3c!-- \u8fdb\u5ea6\u6761\u6807\u8bb0\u6253\u70b9 --\x3e\n            <div class="txp_hotpoint"></div> \n        </div>\n\n        <div class="txp_center_controls"></div>\n\n        <div class="txp_right_controls">\n            <div class="txp_btn txp_btn_definition txp_none" aria-label="\u6e05\u6670\u5ea6">\n                <div class="txp_label">\u6e05\u6670\u5ea6</div>\n                <div class="txp_popup txp_popup_definition txp_none">\n                    <div class="txp_popup_content"></div>\n                </div>\n            </div>\n\n            <div class="txp_btn txp_btn_playrate txp_none" aria-label="\u500d\u901f">\n                <div class="txp_label">\u500d\u901f</div>\n                <div class="txp_popup txp_popup_playrate txp_none">\n                    <div class="txp_popup_content"></div>\n                </div>\n            </div>\n\n            <div class="txp_btn txp_btn_language txp_none" aria-label="\u8bed\u8a00">\n                <div class="txp_label">\u8bed\u8a00</div>\n                <div class="txp_popup txp_popup_language txp_none">\n                    <div class="txp_popup_content"></div>\n                </div>\n            </div>\n\n            <div class="txp_btn txp_btn_audio_track txp_none" aria-label="\u591a\u97f3\u8f68">\n                <div class="txp_label">\u591a\u97f3\u8f68</div>\n                <div class="txp_popup txp_popup_audio_track txp_none">\n                    <div class="txp_popup_content"></div>\n                </div>\n            </div>\n            \n            <div class="txp_btn plugin_ctrl_airplay_btn txp_air_play txp_none" aria-label="AirPlay">\n                <svg class="txp_icon txp_icon_airplay" viewBox="0 0 1024 1024">\n                    <use class="txp_svg_symbol" xlink:href="#txp_air_play"></use>\n                </svg>\n                <div class="txp_tooltip">AirPlay</div> \n            </div>\n\n            <div class="txp_btn txp_btn_pip txp_none" data-status="false" aria-label="\u753b\u4e2d\u753b">   \n                <svg class="txp_icon txp_icon_pip" viewBox="0 0 28 28">     \n                    <use class="txp_svg_symbol txp_svg_pip" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#txp_svg_pip"></use>   \n                </svg>  \n                <div class="txp_tooltip">\u753b\u4e2d\u753b</div> \n            </div>\n\n            <div class="txp_btn txp_btn_fake txp_none" data-status="false" aria-label="\u7f51\u9875\u5168\u5c4f">   \n                <svg class="txp_icon txp_icon_fake" viewBox="0 0 28 28">     \n                    <use class="txp_svg_symbol txp_svg_fake" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#txp_svg_fake"></use>   \n                    <use class="txp_svg_symbol txp_svg_fake_true" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#txp_svg_fake"></use>  \n                </svg>  \n                <div class="txp_tooltip">\u7f51\u9875\u5168\u5c4f</div> \n            </div>\n\n            <div class="txp_btn txp_btn_fullscreen txp_none" data-status="false" aria-label="\u7cfb\u7edf\u5168\u5c4f">\n                <svg class="txp_icon txp_icon_fullscreen" viewBox="0 0 28 28">     \n                    <use class="txp_svg_symbol txp_svg_fullscreen" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#txp_svg_fullscreen"></use>     \n                    <use class="txp_svg_symbol txp_svg_fullscreen_true" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#txp_svg_fullscreen_true"></use>   \n                </svg>\n                <div class="txp_tooltip">\u5168\u5c4f</div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="'+Ea.slice(1)+'"></div>\n'}(n));var r=n?'.plugin_ctrl_txp_shadow{position:absolute;z-index:2;left:0;top:0;width:100%;height:100%}.plugin_ctrl_txp_shadow.txp_none{display:none}.plugin_ctrl_airplay_btn svg{-webkit-transform:scale(.9);transform:scale(.9)}.plugin_ctrl_center_btn{position:absolute;left:0;top:0;width:100%;height:100%;z-index:5;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;pointer-events:none}.plugin_ctrl_center_btn.txp_none{display:none}.plugin_ctrl_center_btn .txp_none{display:none!important}.plugin_ctrl_center_btn .btn_play{width:68px;height:68px;pointer-events:auto;cursor:pointer}.plugin_ctrl_center_btn .btn_play .icon_play{width:100%;height:100%}.plugin_ctrl_center_btn .btn_replay{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:0 22px;line-height:40px;border-radius:99em;color:#fff;font-size:14px;background-color:rgba(59,59,59,.95);pointer-events:auto;cursor:pointer}.plugin_ctrl_center_btn .btn_replay .icon_replay{margin-right:4px;width:15px;height:15px;fill:#fff}.plugin_ctrl_txp_gradient_bottom{position:absolute;z-index:3;left:0;bottom:0;width:100%;height:120px;background-image:-webkit-gradient(linear,left bottom, left top,color-stop(0, rgba(0,0,0,.5)),to(transparent));background-image:linear-gradient(0deg,rgba(0,0,0,.5) 0,transparent);opacity:1;-webkit-transition:opacity .15s ease-out;transition:opacity .15s ease-out;pointer-events:none}.plugin_ctrl_txp_gradient_bottom.txp_none{display:none}.plugin_ctrl_fake_fullscreen{overflow:hidden}._mod_thumbplayer_container_:-webkit-full-screen{width:100%!important;height:100%!important}._mod_thumbplayer_container_.thumbplayer-fullscreen{width:100%!important;height:100%!important}.plugin_ctrl_mobile_txp_bottom{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;position:absolute;z-index:6;bottom:0;left:0;width:100%;height:40px;overflow:initial;line-height:1;max-width:100%;max-height:100%;color:#fff;font-size:14px;font-family:PingFangSC-Regular,Helvetica Neue,Helvetica,Roboto,sans-serif;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-smoothing:antialiased;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none}.plugin_ctrl_mobile_txp_bottom.txp_none{display:none}.plugin_ctrl_mobile_txp_bottom .txp_disabled{opacity:.5;pointer-events:none}.plugin_ctrl_mobile_txp_bottom *,.plugin_ctrl_mobile_txp_bottom :after,.plugin_ctrl_mobile_txp_bottom :before{margin:0;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box}.plugin_ctrl_mobile_txp_bottom a,.plugin_ctrl_mobile_txp_bottom a:hover,.plugin_ctrl_mobile_txp_bottom a:visited{color:#fff;text-decoration:none!important;pointer-events:auto}.plugin_ctrl_mobile_txp_bottom .txp_btn:active,.plugin_ctrl_mobile_txp_bottom .txp_btn:focus,.plugin_ctrl_mobile_txp_bottom a:focus{outline:0 none}.plugin_ctrl_mobile_txp_bottom .txp_icon{position:relative;display:inline-block;fill:#fff}.plugin_ctrl_mobile_txp_bottom .txp_icon:after,.plugin_ctrl_mobile_txp_bottom .txp_icon:before,.plugin_ctrl_mobile_txp_bottom .txp_icon_inner:after,.plugin_ctrl_mobile_txp_bottom .txp_icon_inner:before{content:"";position:absolute;-webkit-box-sizing:content-box;box-sizing:content-box}.plugin_ctrl_mobile_txp_bottom .txp_icon_inner{position:absolute;width:100%;height:100%}.plugin_ctrl_mobile_txp_bottom .txp_left_controls,.plugin_ctrl_mobile_txp_bottom .txp_right_controls{position:relative;float:left;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.plugin_ctrl_mobile_txp_bottom .txp_left_controls{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.plugin_ctrl_mobile_txp_bottom .txp_right_controls{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.plugin_ctrl_mobile_txp_bottom .txp_btn{position:relative;cursor:pointer;background:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:PingFangSC-Regular,Helvetica Neue,Helvetica,Roboto,Microsoft Yahei,Arial,sans-serif;border:none;text-align:center;-webkit-box-flex:0;-ms-flex:none;flex:none;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.plugin_ctrl_mobile_txp_bottom .txp_btn_play{width:60px;height:100%}.plugin_ctrl_mobile_txp_bottom .txp_btn_play .txp_icon_play{display:block;width:30px;height:30px;margin:auto;fill:#fff}.plugin_ctrl_mobile_txp_bottom .txp_btn_play use{display:none}.plugin_ctrl_mobile_txp_bottom .txp_btn_play.play_btn_pause .txp_svg_pause,.plugin_ctrl_mobile_txp_bottom .txp_btn_play.play_btn_play .txp_svg_play,.plugin_ctrl_mobile_txp_bottom .txp_btn_play.play_btn_replay .txp_svg_replay,.plugin_ctrl_mobile_txp_bottom .txp_btn_play.play_btn_stop .txp_svg_stop{display:block}.plugin_ctrl_mobile_txp_bottom .txp_time_display{height:100%;padding:4px 8px 0 0;white-space:nowrap;font-size:0;-webkit-box-flex:0;-ms-flex:none;flex:none;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.plugin_ctrl_mobile_txp_bottom .txp_time_display>div{display:inline;font-size:9px}.plugin_ctrl_mobile_txp_bottom .txp_time_display .txp_time_separator{margin:0 1px}.plugin_ctrl_mobile_txp_bottom .txp_btn_fullscreen{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:45px;height:100%;-webkit-box-flex:0;-ms-flex:none;flex:none}.plugin_ctrl_mobile_txp_bottom .txp_icon_fullscreen{display:block;width:30px;height:30px;margin:auto}.plugin_ctrl_mobile_txp_bottom .txp_icon_fullscreen use{display:none}.plugin_ctrl_mobile_txp_bottom .txp_btn_fullscreen[data-status=false] .txp_svg_fullscreen,.plugin_ctrl_mobile_txp_bottom .txp_btn_fullscreen[data-status=true] .txp_svg_fullscreen_true{display:block}.plugin_ctrl_mobile_txp_bottom .txp_unfullscreen .txp_btn_value{background-position:right 0}.plugin_ctrl_mobile_txp_bottom .txp_btn_fullsize{width:45px;height:100%;-webkit-box-flex:0;-ms-flex:none;flex:none;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.plugin_ctrl_mobile_txp_bottom .txp_btn_fullsize[data-status=false] .txp_svg_fullscreen,.plugin_ctrl_mobile_txp_bottom .txp_btn_fullsize[data-status=true] .txp_svg_fullscreen_true{display:block}.plugin_ctrl_mobile_txp_bottom .txp_unfullsize .txp_btn_value{background-position:right 0}.plugin_ctrl_mobile_txp_bottom .txp_progress_bar_container{position:relative;height:100%;padding:0;vertical-align:top;-webkit-box-flex:1000;-ms-flex:1000;flex:1000}.plugin_ctrl_mobile_txp_bottom .txp_progress_list{position:absolute;left:0;top:20px;width:100%;height:2px;background-color:rgba(31,31,31,.9);-webkit-transform:translateZ(0);transform:translateZ(0)}.plugin_ctrl_mobile_txp_bottom .txp_progress_play{position:absolute;left:0;top:0;height:100%;width:2px;background-color:#fd9000}.plugin_ctrl_mobile_txp_bottom .txp_btn_scrubber{position:absolute;width:30px;height:40px;margin-left:-10px}.plugin_ctrl_mobile_txp_bottom .txp_scrubber_indicator{position:absolute;top:16px;left:10px;width:10px;height:10px;border-radius:99em;background-color:#ff7000}.plugin_ctrl_mobile_txp_bottom .txp_scrubber_indicator:before{content:"";position:absolute;left:-4px;top:-4px;width:18px;height:18px;background-color:#ff7000;opacity:.4;border-radius:99em}.plugin_ctrl_mobile_txp_bottom .txp_btn_definition,.plugin_ctrl_mobile_txp_bottom .txp_btn_playrate{position:relative;padding:0 8px;height:44px;color:#fff;white-space:nowrap;text-align:center;-webkit-box-flex:0;-ms-flex:none;flex:none;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.plugin_ctrl_mobile_txp_bottom .txp_btn_definition .txp_label,.plugin_ctrl_mobile_txp_bottom .txp_btn_playrate .txp_label{margin:auto}.plugin_ctrl_mobile_txp_bottom .txp_btn .txp_tooltip{display:none!important}.plugin_ctrl_mobile_txp_bottom .txp_right_controls{min-width:15px}.plugin_ctrl_mobile_txp_bottom .txp_none{display:none}.plugin_ctrl_mobile_txp_bottom~video::-webkit-media-controls,.plugin_ctrl_mobile_txp_bottom~video::-webkit-media-controls-start-playback-button{display:none!important}.plugin_ctrl_mod_overlay_wrapper{position:static}.plugin_ctrl_mod_overlay_wrapper ol,.plugin_ctrl_mod_overlay_wrapper ul{list-style:none}.plugin_ctrl_mod_overlay_wrapper li{vertical-align:top}.plugin_ctrl_mod_overlay_wrapper *{-webkit-box-sizing:border-box;box-sizing:border-box}.plugin_ctrl_mod_overlay_wrapper .mod_overlay{position:absolute;background:rgba(0,0,0,.75);left:0;top:0;right:0;bottom:0;z-index:998;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;color:#fff}.plugin_ctrl_mod_overlay_wrapper .mod_overlay.overlay_flex{display:-webkit-box;display:-ms-flexbox;display:flex}.plugin_ctrl_mod_overlay_wrapper .mod_overlay.txp_none{display:none}.plugin_ctrl_mod_overlay_wrapper .mod_speed_select{width:100%;text-align:center}.plugin_ctrl_mod_overlay_wrapper .mod_speed_select .title{font-size:16px}.plugin_ctrl_mod_overlay_wrapper .mod_speed_select ul{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;font-size:18px;font-weight:700;padding:0 12px}.plugin_ctrl_mod_overlay_wrapper .mod_speed_select li{height:70px;margin-right:6px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:0 12px}.plugin_ctrl_mod_overlay_wrapper .mod_speed_select li div:last-child{margin-top:6px;font-size:14px;font-weight:500}.plugin_ctrl_mod_overlay_wrapper .mod_speed_select li.current{color:#ff6022}.plugin_ctrl_mod_overlay_wrapper .mod_speed_select li.current span{position:relative}.plugin_ctrl_mod_overlay_wrapper .mod_speed_select li.current span:after{content:"";width:100%;height:3px;background:#ff6022;position:absolute;bottom:-3px;left:0}.plugin_ctrl_mod_overlay_wrapper .txp_btn_playrate{position:relative;width:55px;height:44px;color:#fff;white-space:nowrap;text-align:center;-webkit-box-flex:0;-ms-flex:none;flex:none;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.plugin_ctrl_txp_mode_fullscreen .plugin_ctrl_mobile_txp_bottom{padding-bottom:env(safe-area-inset-bottom)}':'.plugin_ctrl_txp_shadow{position:absolute;z-index:2;left:0;top:0;width:100%;height:100%}.plugin_ctrl_txp_shadow.txp_none{display:none}.plugin_ctrl_airplay_btn svg{-webkit-transform:scale(.9);transform:scale(.9)}.plugin_ctrl_center_btn{position:absolute;left:0;top:0;width:100%;height:100%;z-index:5;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;pointer-events:none}.plugin_ctrl_center_btn.txp_none{display:none}.plugin_ctrl_center_btn .txp_none{display:none!important}.plugin_ctrl_center_btn .btn_play{width:68px;height:68px;pointer-events:auto;cursor:pointer}.plugin_ctrl_center_btn .btn_play .icon_play{width:100%;height:100%}.plugin_ctrl_center_btn .btn_replay{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:0 22px;line-height:40px;border-radius:99em;color:#fff;font-size:14px;background-color:rgba(59,59,59,.95);pointer-events:auto;cursor:pointer}.plugin_ctrl_center_btn .btn_replay .icon_replay{margin-right:4px;width:15px;height:15px;fill:#fff}.plugin_ctrl_txp_gradient_bottom{position:absolute;z-index:3;left:0;bottom:0;width:100%;height:120px;background-image:-webkit-gradient(linear,left bottom, left top,color-stop(0, rgba(0,0,0,.5)),to(transparent));background-image:linear-gradient(0deg,rgba(0,0,0,.5) 0,transparent);opacity:1;-webkit-transition:opacity .15s ease-out;transition:opacity .15s ease-out;pointer-events:none}.plugin_ctrl_txp_gradient_bottom.txp_none{display:none}.plugin_ctrl_fake_fullscreen{overflow:hidden}._mod_thumbplayer_container_:-webkit-full-screen{width:100%!important;height:100%!important}._mod_thumbplayer_container_.thumbplayer-fullscreen{width:100%!important;height:100%!important}@-webkit-keyframes txp_icon_scale{0%{-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:center center;transform-origin:center center}50%{-webkit-transform:scale(1.2);transform:scale(1.2);-webkit-transform-origin:center center;transform-origin:center center}to{-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:center center;transform-origin:center center}}@keyframes txp_icon_scale{0%{-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:center center;transform-origin:center center}50%{-webkit-transform:scale(1.2);transform:scale(1.2);-webkit-transform-origin:center center;transform-origin:center center}to{-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:center center;transform-origin:center center}}.plugin_ctrl_txp_bottom{position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:6;bottom:0;left:0;width:100%;height:48px;line-height:1;max-width:100%;max-height:100%;overflow:initial;text-indent:0;text-align:left;white-space:normal;word-break:break-all;color:#fff;font-size:14px;font-family:PingFangSC-Regular,Helvetica Neue,Helvetica,Roboto,Microsoft Yahei,Arial,sans-serif;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-smoothing:antialiased;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none}.plugin_ctrl_txp_bottom.txp_none{display:none}.plugin_ctrl_txp_bottom .txp_btn{position:relative;cursor:pointer;background:none;border:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:inherit}.plugin_ctrl_txp_bottom .txp_btn:hover .txp_icon{fill:#ff6022;cursor:pointer}.plugin_ctrl_txp_bottom .txp_icon_airplay .txp_icon_pip,.plugin_ctrl_txp_bottom .txp_icon_fake,.plugin_ctrl_txp_bottom .txp_icon_fullscreen,.plugin_ctrl_txp_bottom .txp_icon_volume,.plugin_ctrl_txp_bottom .txp_icon_volume_mute{stroke:#fff}.plugin_ctrl_txp_bottom .txp_btn:hover .txp_icon_airplay,.plugin_ctrl_txp_bottom .txp_btn:hover .txp_icon_fake,.plugin_ctrl_txp_bottom .txp_btn:hover .txp_icon_fullscreen,.plugin_ctrl_txp_bottom .txp_btn:hover .txp_icon_pip,.plugin_ctrl_txp_bottom .txp_btn:hover .txp_icon_volume,.plugin_ctrl_txp_bottom .txp_btn_fake[data-status=true] .txp_icon_fake{stroke:#ff6022}.plugin_ctrl_txp_bottom .txp_btn_pip[data-status=true] .txp_icon_pip{stroke:#ff6022;fill:#ff6022}.plugin_ctrl_txp_bottom .txp_controls{display:-webkit-box;display:-ms-flexbox;display:flex;position:absolute;bottom:0;left:0;width:100%;height:100%}.plugin_ctrl_txp_bottom *,.plugin_ctrl_txp_bottom :after,.plugin_ctrl_txp_bottom :before{margin:0;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box;text-indent:0}.plugin_ctrl_txp_bottom a,.plugin_ctrl_txp_bottom a:hover,.plugin_ctrl_txp_bottom a:visited{color:#fff;text-decoration:none!important}.plugin_ctrl_txp_bottom :focus,.plugin_ctrl_txp_bottom a:active{outline:0 none}.plugin_ctrl_txp_bottom .txp_left_controls,.plugin_ctrl_txp_bottom .txp_right_controls{position:relative;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.plugin_ctrl_txp_bottom .txp_controls .txp_btn{height:100%;text-align:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.plugin_ctrl_txp_bottom .txp_left_controls .txp_btn{margin-right:16px;text-align:center;-webkit-box-flex:0;-ms-flex:none;flex:none}.plugin_ctrl_txp_bottom .txp_left_controls .txp_btn:first-child{margin-left:16px}.plugin_ctrl_txp_bottom .txp_center_controls{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.plugin_ctrl_txp_bottom .txp_right_controls{z-index:8}.plugin_ctrl_txp_bottom .txp_right_controls .txp_btn{margin-right:16px}.plugin_ctrl_txp_bottom .txp_right_controls .txp_btn_definition,.plugin_ctrl_txp_bottom .txp_right_controls .txp_btn_language,.plugin_ctrl_txp_bottom .txp_right_controls .txp_btn_playrate{margin-right:24px}.plugin_ctrl_txp_bottom .txp_left_controls .txp_icon{display:block;margin:auto}.plugin_ctrl_txp_bottom .txp_left_controls .txp_icon_next{pointer-events:none}.plugin_ctrl_txp_bottom .txp_right_controls .txp_icon{display:block}.plugin_ctrl_txp_bottom .txp_controls .txp_tooltip{position:absolute;z-index:14;height:26px;border-radius:16px;font-size:12px;line-height:18px;display:none;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;top:-30px;padding:4px 12px;white-space:nowrap;background-color:rgba(0,0,0,.8);left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}.plugin_ctrl_txp_bottom .txp_controls .txp_btn_fake .txp_tooltip{left:-15px;-webkit-transform:translate(0);transform:translate(0)}.plugin_ctrl_txp_bottom .txp_controls .txp_btn_play .txp_tooltip{left:-6px;-webkit-transform:translate(0);transform:translate(0)}.plugin_ctrl_txp_bottom .txp_controls .txp_btn_next .txp_tooltip{left:-11px;-webkit-transform:translate(0);transform:translate(0)}.plugin_ctrl_txp_bottom .txp_controls .txp_btn_fullscreen .txp_tooltip{left:auto;right:-10px;-webkit-transform:translate(0);transform:translate(0)}.plugin_ctrl_txp_bottom .txp_btn_setting:hover .txp_icon_setting{-webkit-animation:txp_icon_rotate .3s ease both;animation:txp_icon_rotate .3s ease both}.plugin_ctrl_txp_bottom .txp_air_play:hover .txp_icon,.plugin_ctrl_txp_bottom .txp_btn_fake:hover .txp_icon,.plugin_ctrl_txp_bottom .txp_btn_fullscreen:hover .txp_icon,.plugin_ctrl_txp_bottom .txp_btn_pip:hover .txp_icon{-webkit-animation:txp_icon_scale .4s ease both;animation:txp_icon_scale .4s ease both}.plugin_ctrl_txp_bottom .txp_time_display{height:100%;margin-left:8px;white-space:nowrap;font-size:0;-webkit-box-flex:0;-ms-flex:none;flex:none;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.plugin_ctrl_txp_bottom .txp_time_display.reach_hour{margin-left:-8px}.plugin_ctrl_txp_bottom .txp_time_display.reach_hour .txp_time_current,.plugin_ctrl_txp_bottom .txp_time_display.reach_hour .txp_time_duration{width:50px}.plugin_ctrl_txp_bottom .txp_time_display.reach_hour .txp_time_current{text-align:right}.plugin_ctrl_txp_bottom .txp_time_display.reach_hour .txp_time_duration{text-align:left}.plugin_ctrl_txp_bottom .txp_time_display>div{display:inline;font-size:12px}.plugin_ctrl_txp_bottom .txp_time_display .txp_time_separator{margin:0 3px;color:hsla(0,0%,100%,.5)}.plugin_ctrl_txp_bottom .txp_time_display .txp_time_current,.plugin_ctrl_txp_bottom .txp_time_display .txp_time_duration{width:32px;text-align:center}.plugin_ctrl_txp_bottom .txp_time_display .txp_time_duration{color:hsla(0,0%,100%,.5)}.plugin_ctrl_txp_bottom .txp_time_display .txp_live_badge{position:relative;font-size:12px;display:inline;margin-top:-1px;line-height:40px;padding-left:10px;cursor:default}.plugin_ctrl_txp_bottom .txp_time_display .txp_live_badge:before{content:"";position:absolute;left:0;top:17px;display:inline-block;width:6px;height:6px;border-radius:100%;background-color:#ff7000}.plugin_ctrl_txp_bottom .txp_time_display .txp_live_badge_back:before{background-color:#bbb}.plugin_ctrl_txp_bottom .txp_time_display_live{margin-left:0}.plugin_ctrl_txp_bottom .txp_progress_bar_container{position:absolute;z-index:4;left:0;top:-8px;width:100%;height:8px;padding:0;vertical-align:top;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.plugin_ctrl_txp_bottom .txp_progress_bar_container:after{content:"";display:block;width:100%;height:12px;position:absolute;bottom:-2px;z-index:-1}.plugin_ctrl_txp_bottom .txp_progress_bar_container:hover{z-index:9;cursor:pointer}.plugin_ctrl_txp_bottom .txp_progress_list{position:absolute;left:0;top:0;height:8px;width:100%}.plugin_ctrl_txp_bottom .txp_progress_list:after{content:"";position:absolute;left:0;top:0;width:100%;height:100%;background-color:hsla(0,0%,100%,.35);-webkit-transform:scaleY(.5);transform:scaleY(.5);-webkit-transition:all .15s ease;transition:all .15s ease;z-index:-1}.plugin_ctrl_txp_bottom .txp_progress_load,.plugin_ctrl_txp_bottom .txp_progress_play{position:absolute;left:0;top:0;height:100%;width:2px;background-color:#ff6429;-webkit-transform:scaleY(.5);transform:scaleY(.5);-webkit-transition:all .15s ease;transition:all .15s ease}.plugin_ctrl_txp_bottom .txp_progress_bar_container:hover .txp_progress_list:after,.plugin_ctrl_txp_bottom .txp_progress_bar_container:hover .txp_progress_load,.plugin_ctrl_txp_bottom .txp_progress_bar_container:hover .txp_progress_play,.plugin_ctrl_txp_bottom .txp_progress_bar_container:hover .txp_progress_role{-webkit-transform:scaleY(1);transform:scaleY(1)}.plugin_ctrl_txp_bottom .txp_progress_load{background-color:hsla(0,0%,100%,.5)}.plugin_ctrl_txp_bottom .txp_progress_role{position:absolute;left:0;top:0;height:100%;width:2px;background-color:rgba(178,250,77,.5);-webkit-transform:scaleY(.5);transform:scaleY(.5);-webkit-transition:all .15s ease;transition:all .15s ease}.plugin_ctrl_txp_bottom .txp_btn_scrubber{position:absolute;width:12px;height:12px;top:-2px;margin-left:-6px;cursor:pointer;-webkit-transform:scale(0);transform:scale(0);-webkit-transition:all .15s ease;transition:all .15s ease}.plugin_ctrl_txp_bottom .txp_scrubber_indicator{position:relative;width:12px;height:12px;border-radius:100%;background-color:#ff6429}.plugin_ctrl_txp_bottom .txp_scrubber_indicator:before{content:"";position:absolute;left:-4px;top:-4px;width:20px;height:20px;border-radius:100%;display:block;background-color:rgba(254,100,41,.3)}.plugin_ctrl_txp_bottom .txp_progress_bar_container:hover .txp_btn_scrubber{-webkit-transform:scale(1);transform:scale(1)}.plugin_ctrl_txp_bottom .txp_btn_scrubber:hover .txp_scrubber_indicator:before{width:24px;height:24px;left:-6px;top:-6px}.plugin_ctrl_txp_bottom .txp_btn_play .txp_svg_symbol{visibility:hidden;opacity:0}.plugin_ctrl_txp_bottom .txp_btn_play[data-status=pause] .txp_svg_pause,.plugin_ctrl_txp_bottom .txp_btn_play[data-status=play] .txp_svg_play,.plugin_ctrl_txp_bottom .txp_btn_play[data-status=replay] .txp_svg_replay,.plugin_ctrl_txp_bottom .txp_btn_play[data-status=stop] .txp_svg_stop{visibility:visible;opacity:1;-webkit-animation:none;animation:none}.plugin_ctrl_txp_bottom .txp_popup{position:absolute;bottom:34px;z-index:20;width:100%;padding-bottom:24px;color:#eee;cursor:default}.plugin_ctrl_txp_bottom .txp_popup_content{background-color:rgba(0,0,0,.8);border-radius:4px}.plugin_ctrl_txp_bottom .txp_popup_audio_track,.plugin_ctrl_txp_bottom .txp_popup_definition,.plugin_ctrl_txp_bottom .txp_popup_language,.plugin_ctrl_txp_bottom .txp_popup_playrate{width:auto;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%);font-size:0}.plugin_ctrl_txp_bottom .txp_popup_audio_track .txp_popup_content,.plugin_ctrl_txp_bottom .txp_popup_definition .txp_popup_content,.plugin_ctrl_txp_bottom .txp_popup_language .txp_popup_content,.plugin_ctrl_txp_bottom .txp_popup_playrate .txp_popup_content{padding-top:10px}.plugin_ctrl_txp_bottom .txp_popup_audio_track .txp_menuitem,.plugin_ctrl_txp_bottom .txp_popup_definition .txp_menuitem,.plugin_ctrl_txp_bottom .txp_popup_language .txp_menuitem,.plugin_ctrl_txp_bottom .txp_popup_playrate .txp_menuitem{min-width:104px;position:relative;padding:10px 22px;font-size:14px;text-align:center;cursor:pointer;white-space:nowrap;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.plugin_ctrl_txp_bottom .txp_popup_audio_track .txp_menuitem:last-of-type,.plugin_ctrl_txp_bottom .txp_popup_definition .txp_menuitem:last-of-type,.plugin_ctrl_txp_bottom .txp_popup_language .txp_menuitem:last-of-type,.plugin_ctrl_txp_bottom .txp_popup_playrate .txp_menuitem:last-of-type{padding-bottom:20px}.plugin_ctrl_txp_bottom .txp_popup_audio_track .txp_menuitem:active,.plugin_ctrl_txp_bottom .txp_popup_audio_track .txp_menuitem:hover,.plugin_ctrl_txp_bottom .txp_popup_definition .txp_menuitem:active,.plugin_ctrl_txp_bottom .txp_popup_definition .txp_menuitem:hover,.plugin_ctrl_txp_bottom .txp_popup_language .txp_menuitem:active,.plugin_ctrl_txp_bottom .txp_popup_language .txp_menuitem:hover,.plugin_ctrl_txp_bottom .txp_popup_playrate .txp_menuitem:active,.plugin_ctrl_txp_bottom .txp_popup_playrate .txp_menuitem:hover{color:#ff6429}.plugin_ctrl_txp_bottom .txp_btn .txp_label{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;padding:1px 4px;cursor:pointer;color:#ececec;white-space:nowrap;border:2px solid #fff;border-radius:4px;font-weight:700}.plugin_ctrl_txp_bottom .txp_btn .txp_label:hover{color:#ff6022;border-color:#ff6022}.plugin_ctrl_txp_bottom .txp_btn_definition{position:relative;height:100%;white-space:nowrap;text-align:center;-webkit-box-flex:0;-ms-flex:none;flex:none}.plugin_ctrl_txp_bottom .txp_volume{position:relative;display:table-cell;width:44px;height:45px;vertical-align:top;color:#fff}.plugin_ctrl_txp_bottom .txp_volume_text{padding-top:8px}.plugin_ctrl_txp_bottom .txp_btn_volume .txp_svg_symbol{display:none}.plugin_ctrl_txp_bottom .txp_btn_volume[data-status=mute] .txp_svg_volume_mute,.plugin_ctrl_txp_bottom .txp_btn_volume[data-status=normal] .txp_svg_volume{display:block}.plugin_ctrl_txp_bottom .txp_popup_volume{width:42px;-webkit-transform:translate(-50%);transform:translate(-50%);left:50%}.plugin_ctrl_txp_bottom .txp_popup_volume .txp_popup_content{overflow:hidden}.plugin_ctrl_txp_bottom .txp_volume_range{position:relative;margin:10px 19px;width:4px;height:90px;background-color:hsla(0,0%,65.1%,.5);border-radius:2px;cursor:pointer}.plugin_ctrl_txp_bottom .txp_volume_range:after{content:"";display:block;width:42px;height:90px;position:absolute;left:-19px;top:0}.plugin_ctrl_txp_bottom .txp_volume_range_current{position:absolute;left:0;bottom:0;width:100%;height:50%;background-color:#ff6429;border-radius:2px;z-index:1}.plugin_ctrl_txp_bottom .txp_volume_handle{position:absolute;top:-4px;left:-2px;width:8px;height:8px;background-color:#fff;border-radius:100%;cursor:pointer}.plugin_ctrl_txp_bottom .txp_volume_handle:before{content:"";display:block;position:absolute;left:-3px;top:-3px;width:14px;height:14px;opacity:0;-webkit-transform:scale(0);transform:scale(0);background-color:hsla(0,0%,100%,.2);border-radius:7px}.plugin_ctrl_txp_bottom .txp_volume_handle:after{content:"";width:32px;height:32px;display:block;position:absolute;left:-12px;top:-12px;z-index:-1;opacity:.5;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAADAUExURQAAAP+ZAP+RAP9/AP+aAP9/AP+OCP//AP9/AP+qAP+QDf+SDP+TDv+TCv+RCP+ZAP+TC/+TCP+QC/+RCv+SCf+SCv+QCv+RCv+TCf+PD/+PCP+RDP+RCf+RCv+PCf+RB/+RCv+RCf6RCv+ZEf+RC/+RCf+RC/+RC/6RCv+OB/+QC/+RC/+RCv+TC/+QC/+SC/+RC/+RCv+RCv+RCv+RC/6RCv6RCv6RCv6SCv6SCv2QC/+RCv+SCv+RC/+RCv2RCn+uAUwAAABAdFJOUwAFBwYIBAsBAgMNExEYOAoWHit4JUtXYhoQHCg1MT4gRmmHD1SlsbaUIi5BIy1DUltIb2VygY+Jm6KYrHyYuqzDURAFAAAB/klEQVQ4y6WVWZeiMBSEhQZmDAgJO7LIIrivuNv2/P9/NTdRp7VlTmfO1BMP36kKl5ui1XrQD9DPm+hzq1lXqn3TlW3mKCXLApMsU7aBpHaUehMlJvGNsq+mzE6mlKEwGZSVX0yZnSBKBkJFoIGCAiFDEgVm+oUDO4Q0FeMOCGNVQ+hq+kAyDuwCFfuE9ECE+FgNwJSRz5yCNMCmdmiCQnsKqIaURxKCKVeone4onMWRDoriWTgiHbWg5D0cDAXRQGqH2GasJ/N0tUrniR6bNpDIEIW7JQtGGnDjKEmdhQtaOGkSjYHU0Gc4GEoowF17rE+c/tKrs6z2ln1noo/tLg6QdLdsyzTYH5nRxHG9bGOBNpnnOpPIHPk0XG5fQUFSNEzCOHHcem1t8/0+31rr2nWSOCRYU6glBekJVX8609O+t37Pd8PTabjL39deP9VnU7CkL85A0SjghGC4zKx8eDiW5fEwzK1sCZZwygKyGSiISgDJ0Xzhbba7Q/mrqs7lYbfdeIt5BNmBAhNiIByx0zMhuQbD47kaDKrzESxryDZ7dELP4MrNrP2prAYfH4OqvOytzF39H/h9NO/LcI/nZeCXS/PAuT8h91Lc1ow0rRl5XDPuxeW+CtyXi/u68hfAn0pRnitFeakU7pJ6rj0E+lvt8RcpfzX/Q9l/8/v4DS6tX+XyhPN2AAAAAElFTkSuQmCC);background-size:32px 32px;pointer-events:none}.plugin_ctrl_txp_bottom .txp_volume_handle:hover:before{opacity:1;-webkit-transform:scale(1);transform:scale(1)}.plugin_ctrl_txp_bottom .txp_volume_handle:hover:after{opacity:1}.plugin_ctrl_txp_bottom .txp_right_controls .txp_btn_popup{width:24px}.plugin_ctrl_txp_bottom .txp_right_controls .txp_icon_popup{width:20px;height:20px;margin-top:0}.plugin_ctrl_txp_bottom .txp_btn_fake .txp_svg_symbol,.plugin_ctrl_txp_bottom .txp_btn_fullscreen .txp_svg_symbol{display:none}.plugin_ctrl_txp_bottom .txp_btn_fake[data-status=false] .txp_svg_fake,.plugin_ctrl_txp_bottom .txp_btn_fake[data-status=true] .txp_svg_fake_true,.plugin_ctrl_txp_bottom .txp_btn_fullscreen[data-status=false] .txp_svg_fullscreen,.plugin_ctrl_txp_bottom .txp_btn_fullscreen[data-status=true] .txp_svg_fullscreen_true{display:block}.plugin_ctrl_txp_bottom .txp_popup .txp_current{color:#ff6429}.plugin_ctrl_txp_bottom .txp_btn_loop .txp_svg_loop,.plugin_ctrl_txp_bottom .txp_btn_loop .txp_svg_loop_off{display:none}.plugin_ctrl_txp_bottom .txp_btn_loop[data-status=false] .txp_svg_loop_off,.plugin_ctrl_txp_bottom .txp_btn_loop[data-status=true] .txp_svg_loop,.plugin_ctrl_txp_bottom .txp_controls .txp_btn:hover .txp_tooltip{display:block}.plugin_ctrl_txp_bottom .txp_controls .txp_btn:visited .txp_tooltip{display:none}.plugin_ctrl_txp_bottom .txp_popup:hover{display:block}.plugin_ctrl_txp_bottom .txp_icon{position:relative;width:28px;height:28px;fill:#fff}.plugin_ctrl_txp_bottom .txp_icon:after,.plugin_ctrl_txp_bottom .txp_icon:before,.plugin_ctrl_txp_bottom .txp_icon_inner:after,.plugin_ctrl_txp_bottom .txp_icon_inner:before{content:"";position:absolute;-webkit-box-sizing:content-box;box-sizing:content-box}.plugin_ctrl_txp_bottom .txp_icon_inner{position:absolute;width:100%;height:100%}.plugin_ctrl_txp_bottom .txp_controls .txp_disabled{cursor:default;opacity:.5;pointer-events:none}.plugin_ctrl_txp_bottom .txp_gradient_top{display:none}.plugin_ctrl_txp_bottom .txp_btn_scrubber,.plugin_ctrl_txp_bottom .txp_progress_load,.plugin_ctrl_txp_bottom .txp_progress_play{-webkit-transition:-webkit-transform .15s ease;transition:-webkit-transform .15s ease;transition:transform .15s ease;transition:transform .15s ease, -webkit-transform .15s ease}.plugin_ctrl_txp_bottom .txp_none{display:none!important}.plugin_ctrl_txp_mode_fullscreen .txp_controls .txp_btn_fullscreen .txp_tooltip{left:auto;right:0;-webkit-transform:translate(0);transform:translate(0)}.plugin_ctrl_txp_mode_fullscreen .txp_controls .txp_btn_fake .txp_tooltip{left:-26px;-webkit-transform:translate(0);transform:translate(0)}.plugin_ctrl--large .plugin_ctrl_txp_gradient_bottom{height:100px}.plugin_ctrl--large .plugin_ctrl_txp_bottom{height:88px}.plugin_ctrl--large .plugin_ctrl_txp_bottom .txp_popup{bottom:64px}.plugin_ctrl--large .plugin_ctrl_txp_bottom .txp_left_controls .txp_btn,.plugin_ctrl--large .plugin_ctrl_txp_bottom .txp_right_controls .txp_btn{margin-right:24px}.plugin_ctrl--large .plugin_ctrl_txp_bottom .txp_left_controls .txp_btn .txp_label,.plugin_ctrl--large .plugin_ctrl_txp_bottom .txp_right_controls .txp_btn .txp_label{height:26px;font-size:16px}.plugin_ctrl--large .plugin_ctrl_txp_bottom .txp_left_controls .txp_icon,.plugin_ctrl--large .plugin_ctrl_txp_bottom .txp_right_controls .txp_icon{width:40px;height:40px}.plugin_ctrl--large .plugin_ctrl_txp_bottom .txp_left_controls .txp_time_display{margin-left:0}.plugin_ctrl--large .plugin_ctrl_txp_bottom .txp_left_controls .txp_btn:first-child{margin-left:32px}.plugin_ctrl--large .plugin_ctrl_txp_bottom .txp_right_controls .txp_btn_definition,.plugin_ctrl--large .plugin_ctrl_txp_bottom .txp_right_controls .txp_btn_language,.plugin_ctrl--large .plugin_ctrl_txp_bottom .txp_right_controls .txp_btn_playrate{margin-right:32px}.txp_interact_dot{position:absolute;top:2px;width:4px;height:4px;margin-left:-2px;border-radius:100%;background-color:#fff;-webkit-transition:all .1s;transition:all .1s}.txp_interact_dot:after{position:absolute;top:-4px;right:-4px;bottom:-4px;left:-4px;content:""}.txp_interact_dot:hover{-webkit-transform:scale(2);transform:scale(2);-webkit-box-shadow:0 0 2px #ffb821;box-shadow:0 0 2px #ffb821}.txp_hotpoint_tip{color:#fff;position:relative;width:200px;bottom:60px;font-size:12px;line-height:24px;height:50px;padding:0 6px;background-color:rgba(0,0,0,.9);display:-webkit-box;overflow:hidden;text-overflow:ellipsis;-webkit-box-orient:vertical;-webkit-line-clamp:2;word-wrap:break-word}.txp_hotpoint_tip .txp_hotpoint_tip_title{color:#bbb}.txp_hotpoint_tip .txp_hotpoint_tip_detail{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}';xe.insertStyle(r,t.styleDataTag);var o=ma(n);this.el=e.querySelector(o),document.querySelector(".thumbplayer.txp_svg_sprite")||document.body.insertAdjacentHTML("afterbegin",n?'\n<svg class="thumbplayer txp_svg_sprite" display="none" xmlns="http://www.w3.org/2000/svg">\n\t<symbol id="txp_svg_play" viewBox="0 0 56 56">\n\t\t<path d="M14.569 13.867s-.563 1.42-.563 14.059.563 14.188.563 14.188a1.925 1.925 0 0 0 2.8 1.677s2.938-.442 14.763-6.211 13.8-7.914 13.8-7.914a1.859 1.859 0 0 0 0-3.352s-3.24-2.875-13.8-8.095c-10.444-5.165-14.767-6.029-14.767-6.029a1.924 1.924 0 0 0-2.796 1.677z" style="fill:#fff" />\n\t</symbol>\n    <symbol id="txp_svg_replay" viewBox="0 0 32 32">\n      <path d="M18 30a13.956 13.956 0 0 1-9.9-4.1l2.121-2.121A11 11 0 1 0 7 16h4.006L5.5 22 0 16h4a14 14 0 1 1 14 14z">\n      </path>\n    </symbol>\n    <symbol id="txp_svg_pause" viewBox="0 0 56 56">\n      <path d="M39 49a4 4 0 0 1-4-4V11a4 4 0 0 1 4-4 4 4 0 0 1 4 4v34a4 4 0 0 1-4 4zm-22 0a4 4 0 0 1-4-4V11a4 4 0 0 1 4-4 4 4 0 0 1 4 4v34a4 4 0 0 1-4 4z">\n      </path>\n    </symbol>\n    <symbol id="txp_svg_stop" viewBox="0 0 32 32">\n      <path d="M24 26H12c-1.1 0-2-0.9-2-2V12c0-1.1 0.9-2 2-2h12c1.1 0 2 0.9 2 2v12C26 25.1 25.1 26 24 26z"></path>\n    </symbol>\n\n\t<symbol id="txp_svg_fullscreen" viewBox="0 0 48 48">\n\t\t<path d="M9.5 37h10a1.5 1.5 0 0 1 0 3h-10a1.5 1.5 0 0 1 0-3zm0-10a1.5 1.5 0 0 1 1.5 1.5v10a1.5 1.5 0 0 1-3 0v-10A1.5 1.5 0 0 1 9.5 27zM8.43 37.353L19.353 26.43a1.545 1.545 0 1 1 2.185 2.184L10.614 39.538a1.545 1.545 0 1 1-2.184-2.185zM28.5 8h10a1.5 1.5 0 0 1 0 3h-10a1.5 1.5 0 0 1 0-3zm10 0A1.5 1.5 0 0 1 40 9.5v10a1.5 1.5 0 0 1-3 0v-10A1.5 1.5 0 0 1 38.5 8zM26.43 19.354L37.353 8.43a1.545 1.545 0 0 1 2.185 2.184L28.614 21.538a1.545 1.545 0 0 1-2.184-2.184z"/>\n\t</symbol>\n\t<symbol id="txp_svg_fullscreen_true" viewBox="0 0 48 48">\n\t\t<path d="M39.538 10.615L31.153 19H37.5a1.5 1.5 0 0 1 0 3h-10a1.5 1.5 0 0 1-1.386-.937 1.52 1.52 0 0 1-.114-.735V10.5a1.5 1.5 0 0 1 3 0v6.283l8.353-8.353a1.545 1.545 0 1 1 2.185 2.185zM20.5 39a1.5 1.5 0 0 1-1.5-1.5v-6.347l-8.386 8.385a1.545 1.545 0 1 1-2.184-2.184L16.783 29H10.5a1.5 1.5 0 0 1 0-3h9.828a1.518 1.518 0 0 1 .733.113A1.5 1.5 0 0 1 22 27.5v10a1.5 1.5 0 0 1-1.5 1.5z"/>\n\t</symbol>\n\t<symbol id="txp_svg_pause" viewBox="0 0 56 56">\n\t\t<path d="M39 49a4 4 0 0 1-4-4V11a4 4 0 0 1 4-4 4 4 0 0 1 4 4v34a4 4 0 0 1-4 4zm-22 0a4 4 0 0 1-4-4V11a4 4 0 0 1 4-4 4 4 0 0 1 4 4v34a4 4 0 0 1-4 4z"/>\n\t</symbol>\n\t<symbol id="txp_svg_replay" viewBox="0 0 32 32">\n\t\t<path d="M18 30a13.956 13.956 0 0 1-9.9-4.1l2.121-2.121A11 11 0 1 0 7 16h4.006L5.5 22 0 16h4a14 14 0 1 1 14 14z"/>\n\t</symbol>\n\t<symbol id="txp_svg_next" viewBox="0 0 60 60">\n\t\t<path d="M47.13825,15.0141429 C45.3628929,15.0141429 43.9239643,16.4530714 43.9239643,18.2284286 L43.9239643,41.7998571 C43.9239643,43.5752143 45.3628929,45.0141429 47.13825,45.0141429 C48.9136071,45.0141429 50.3525357,43.5752143 50.3525357,41.7998571 L50.3525357,18.2284286 C50.3525357,16.4530714 48.9136071,15.0141429 47.13825,15.0141429 M39.7389643,28.4327143 C39.7389643,28.4327143 36.7936071,25.737 27.1946786,20.8437857 C17.6986071,16.002 13.7686071,15.192 13.7686071,15.192 C12.6050357,14.5995 11.2261071,15.4502143 11.2261071,16.7637857 C11.2261071,16.7637857 10.7139643,18.0955714 10.7139643,29.9455714 C10.7139643,41.7945 11.2261071,43.2462857 11.2261071,43.2462857 C11.2261071,44.5598571 12.6050357,45.4116429 13.7686071,44.8180714 C13.7686071,44.8180714 16.4396786,44.4034286 27.1893214,38.9948571 C37.9411071,33.5852143 39.7389643,31.5762857 39.7389643,31.5762857 C41.0171786,30.9248571 41.0171786,29.0852143 39.7389643,28.4327143" id="Fill-1"></path>\n\t</symbol>\n</svg>\n':'\n<svg class="thumbplayer txp_svg_sprite" display="none" xmlns="http://www.w3.org/2000/svg">\n    <symbol id="txp_svg_play" viewBox="0 0 28 28">\n        <path d="M6.308 6.057S6 6.857 6 13.964c0 7.108.308 7.978.308 7.978 0 .788.827 1.299 1.526.943 0 0 1.603-.25 8.057-3.493 6.455-3.244 7.534-4.45 7.534-4.45.767-.39.767-1.493 0-1.884 0 0-1.768-1.617-7.531-4.553-5.7-2.904-8.06-3.39-8.06-3.39a1.051 1.051 0 0 0-1.526.942" fill-rule="evenodd"/>\n    </symbol>\n    <symbol id="txp_svg_replay" viewBox="0 0 28 28">\n        <path d="M14 4a9.994 9.994 0 0 1 8.5 4.731V6a1 1 0 0 1 2 0v5a1 1 0 0 1-.883.993L23.5 12h-5a1 1 0 0 1 0-2h2.43a8 8 0 1 0 .816 6.01 1 1 0 0 1 1.936.5A10.003 10.003 0 0 1 14 24C8.477 24 4 19.523 4 14S8.477 4 14 4Z" fill-rule="evenodd"/>\n    </symbol>\n    <symbol id="txp_svg_pause" viewBox="0 0 28 28">\n        <path d="M9 5a1.5 1.5 0 0 1 1.5 1.5v15A1.5 1.5 0 0 1 9 23h-.5A1.5 1.5 0 0 1 7 21.5v-15A1.5 1.5 0 0 1 8.5 5H9Zm10.5 0A1.5 1.5 0 0 1 21 6.5v15a1.5 1.5 0 0 1-1.5 1.5H19a1.5 1.5 0 0 1-1.5-1.5v-15A1.5 1.5 0 0 1 19 5h.5Z" fill-rule="evenodd"/>\n    </symbol>\n    <symbol id="txp_svg_stop" viewBox="0 0 28 28">\n      <rect x="5" y="5" width="18" height="18" rx="4" fill-rule="evenodd"/>\n    </symbol>\n\n    <symbol id="txp_svg_fake" viewBox="0 0 28 28">\n        <rect fill="none" stroke-width="1.75" transform="translate(0 3.5)" x="5.25" y="3.5" width="17.5" height="14" rx="2.042"/>\n    </symbol>\n\n    <symbol id="txp_svg_loop_off" viewBox="0 0 28 28">\n        <g fill-rule="evenodd"><path d="M16.859 14.22c2.738 0 4.958 2.164 4.958 4.834 0 2.67-2.22 4.834-4.958 4.834-2.739 0-4.959-2.164-4.959-4.834 0-2.67 2.22-4.835 4.959-4.835Zm0 .966c-2.19 0-3.967 1.732-3.967 3.868s1.776 3.867 3.967 3.867c2.19 0 3.967-1.731 3.967-3.867s-1.776-3.868-3.967-3.868Zm-1.206 2.02.069.056 2.975 2.9a.475.475 0 0 1 0 .684.506.506 0 0 1-.633.056l-.068-.056-2.975-2.9a.475.475 0 0 1 0-.684.506.506 0 0 1 .632-.056ZM12.591 4.9a.69.69 0 0 1 .456.171l3.812 3.346H11.9v-.001H8.925c-1.584 0-2.88 1.208-2.97 2.731l-.005.17v3.868c0 1.545 1.239 2.808 2.8 2.896l.175.005.992-.001v1.934h-.992c-2.664 0-4.838-2.048-4.953-4.619l-.005-.215v-3.868c0-2.597 2.101-4.717 4.737-4.83l.221-.004H11.9v-.892c0-.382.31-.691.691-.691Zm7.243 1.68c2.19.433 3.856 2.274 3.961 4.512l.006.225v3.868c0 .432-.058.85-.167 1.248l-1.817-2.215v-2.9c0-1.263-.827-2.338-1.982-2.736V6.581Z" fill-rule="nonzero"/></g>\n    </symbol>\n    <symbol id="txp_svg_loop" viewBox="0 0 28 28">\n        <g fill-rule="evenodd"><path d="M9 8.877a3 3 0 0 0-2.995 2.824L6 11.877v4a3 3 0 0 0 2.824 2.995l.176.005a1 1 0 1 1 0 2 5 5 0 0 1-4.995-4.783L4 15.877v-4a5 5 0 0 1 4.783-4.995L9 6.877h3V5.5a.5.5 0 0 1 .834-.372L17 8.878H9Zm11 10a3 3 0 0 0 2.995-2.823l.005-.177v-4a3 3 0 0 0-2.824-2.995L20 8.877a1 1 0 0 1 0-2 5 5 0 0 1 4.995 4.783l.005.217v4a5 5 0 0 1-4.783 4.996l-.217.004h-3v1.378a.5.5 0 0 1-.834.371L12 18.877h8Z" fill-rule="nonzero"/></g>\n    </symbol>\n\n    <symbol id="txp_svg_next" viewBox="0 0 28 28">\n        <path d="M21.5 7A1.5 1.5 0 0 1 23 8.5v11a1.5 1.5 0 0 1-3 0v-11A1.5 1.5 0 0 1 21.5 7Zm-16.261.822a.817.817 0 0 1 1.186-.732s1.835.378 6.266 2.636c4.481 2.282 5.855 3.54 5.855 3.54a.825.825 0 0 1 0 1.467s-.839.936-5.857 3.46c-5.017 2.522-6.264 2.715-6.264 2.715a.817.817 0 0 1-1.186-.732S5 19.498 5 13.97v-.326c.01-5.226.239-5.823.239-5.823Z" fill-rule="evenodd"/>\n    </symbol>\n\n    <symbol id="txp_svg_fullscreen" viewBox="0 0 28 28">   \n        <path d="M7.438 17.063v2.625c0 .483.391.875.875.875h2.624m0-13.125H8.312a.875.875 0 0 0-.875.875v2.624h0m13.126 6.126v2.625a.875.875 0 0 1-.875.875h-2.625 0m0-13.125h2.625c.483 0 .875.391.875.874v2.625h0" stroke-width="2.188" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/>\n    </symbol>\n    <symbol id="txp_svg_fullscreen_true" viewBox="0 0 28 28">\n        <g stroke-width="2.188" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><path d="M10.938 20.563v-2.625a.875.875 0 0 0-.875-.875H7.438h0M7.438 10.938h2.625a.875.875 0 0 0 .874-.876V7.438h0M17.063 20.562v-2.625c0-.483.391-.875.875-.875h2.625M20.563 10.938h-2.625a.875.875 0 0 1-.875-.876V7.438h0"/></g>\n    </symbol>\n\n    <symbol id="txp_svg_volume_mute" viewBox="0 0 28 28">\n        <g stroke-width="2" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><path d="M8.75 10.041H5.749c-.828 0-1.499.671-1.499 1.499v4.92c0 .828.671 1.499 1.499 1.499H8.75l4.143 4.143a.502.502 0 0 0 .857-.355V6.253a.502.502 0 0 0-.857-.355L8.75 10.041ZM17.5 11l6 6M23.5 11l-6 6"/></g>\n    </symbol>\n    <symbol id="txp_svg_volume" viewBox="0 0 28 28">\n        <g stroke-width="2" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><path d="M8.75 10.041H5.749c-.828 0-1.499.671-1.499 1.499v4.92c0 .828.671 1.499 1.499 1.499H8.75l4.143 4.143a.502.502 0 0 0 .857-.355V6.253a.502.502 0 0 0-.857-.355L8.75 10.041ZM20.786 7a9.717 9.717 0 0 1 2.964 7 9.717 9.717 0 0 1-2.964 7M17.75 9.477c1.235 1.154 2 2.753 2 4.522 0 1.746-.747 3.328-1.955 4.478"/></g>\n    </symbol>\n\n    <symbol id="txp_svg_pip" viewBox="0 0 28 28">\n        <path d="M23.625 15.75c.966 0 1.75.784 1.75 1.75v4.375a1.75 1.75 0 0 1-1.75 1.75H17.5a1.75 1.75 0 0 1-1.75-1.75V17.5c0-.966.784-1.75 1.75-1.75h6.125ZM21 5.25a2.625 2.625 0 0 1 2.62 2.47l.005.155v5.25a.875.875 0 0 1-1.744.102l-.006-.102v-5.25a.875.875 0 0 0-.773-.87L21 7H7a.875.875 0 0 0-.87.773l-.005.102V19.25c0 .449.338.819.773.87l.102.005h6.125a.875.875 0 0 1 .102 1.744l-.102.006H7a2.625 2.625 0 0 1-2.62-2.47l-.005-.155V7.875a2.625 2.625 0 0 1 2.47-2.62L7 5.25h14Z" stroke-width=".5" fill-rule="evenodd"/>\n    </symbol>\n\n    <symbol id="txp_air_play" viewBox="0 0 1024 1024">\n        <path d="M547.413333 573.866667a42.666667 42.666667 0 0 0-70.826666 0l-170.666667 256a42.666667 42.666667 0 0 0 0 42.666666A42.666667 42.666667 0 0 0 341.333333 896h341.333334a42.666667 42.666667 0 0 0 37.546666-22.613333 42.666667 42.666667 0 0 0-2.133333-42.666667zM421.12 810.666667L512 674.133333l90.88 136.533334zM810.666667 128H213.333333a128 128 0 0 0-128 128v384a128 128 0 0 0 128 128h36.266667a42.666667 42.666667 0 1 0 0-85.333333H213.333333a42.666667 42.666667 0 0 1-42.666666-42.666667V256a42.666667 42.666667 0 0 1 42.666666-42.666667h597.333334a42.666667 42.666667 0 0 1 42.666666 42.666667v384a42.666667 42.666667 0 0 1-42.666666 42.666667h-36.266667a42.666667 42.666667 0 0 0 0 85.333333H810.666667a128 128 0 0 0 128-128V256a128 128 0 0 0-128-128z"/>\n    </symbol>\n</svg>\n'),n&&(this.el.innerHTML=this.el.querySelector(es).innerHTML,e.querySelector(o+" .txp_right_controls").innerHTML='\n<button class="txp_btn txp_btn_playrate txp_none" aria-label="\u500d\u901f">\n    <div class="txp_label">\u500d\u901f</div>\n</button>\n<button class="txp_btn txp_btn_definition txp_none" data-status="false" aria-label="\u6e05\u6670\u5ea6">\n    <div class="txp_label">\u6e05\u6670\u5ea6</div>\n</button>\n<button class="txp_btn txp_btn_fullscreen txp_none" data-status="false" aria-label="\u5168\u5c4f">\n    <svg class="txp_icon txp_icon_fullscreen" viewBox="0 0 24 24">\n        <use class="txp_svg_fullscreen" xlink:href="#txp_svg_fullscreen"></use>     \n        <use class="txp_svg_fullscreen_true" xlink:href="#txp_svg_fullscreen_true"></use>   \n    </svg>\n</button>\n<button class="txp_btn txp_btn_fullscreen txp_none txp_btn_fake" data-status="false" aria-label="\u4f2a\u5168\u5c4f">\n    <svg class="txp_icon txp_icon_fullscreen" viewBox="0 0 24 24">\n        <use class="txp_svg_fullscreen" xlink:href="#txp_svg_fullscreen"></use>     \n        <use class="txp_svg_fullscreen_true" xlink:href="#txp_svg_fullscreen_true"></use>   \n    </svg>\n</button>\n',e.insertAdjacentHTML("beforeend",'<div class="plugin_ctrl_mod_overlay_wrapper">\n<div class="mod_overlay definition txp_none">\n    <div class="mod_speed_select">\n        <div class="title">\u753b\u8d28</div>\n        <ul class="select_list"></ul>\n    </div>\n</div>\n<div class="mod_overlay language txp_none">\n    <div class="mod_speed_select">\n        <div class="title">\u8bed\u8a00</div>\n        <ul class="select_list"></ul>\n    </div>\n</div>\n<div class="mod_overlay playrate txp_none">\n    <div class="mod_speed_select">\n        <div class="title">\u64ad\u653e\u901f\u5ea6</div>\n        <ul class="select_list"></ul>\n    </div>\n</div>\n</div>\n'))},t.prototype.createSubComponents=function(e){if(this.initComps(e),!this.config.disableHotKey){var t=this.instances,n=t.Volume,r=t.FakeFullscreen,o=t.PlayratePopup,i=t.Progress;this.hotKeys=new rs(this.player,this.config,{volume:n,fakeFullscreen:r,playRate:o,progress:i})}},t.prototype.initComps=function(e){var t=this,n=this.config,r=n.isMobile,o=n.comps,i=n.removeComps,a="live"===this.config.mode,s=a?[Ga,Oa,Da,Qa,$a,Pa,va,ts,Ta]:[Ga,Wa,Ba,Oa,ka,Fa,Ua,Da,$a,Ka,Pa,va,ts,Ta,La,Ya,Ca],l=[];(null==o?void 0:o.length)?-1===(l=o.map((function(e){return os[e]}))).indexOf(ts)&&l.push(ts):l=(l=l.concat(s)).filter((function(e){var t=!!i&&-1!==i.indexOf(e.compName),r=e.isEnabled(n);return!t&&r})),this.log("readyCompClasses="+l.map((function(e){return e.compName}))),l.forEach((function(r){var o=new r(t.player,n,t,e);t.instances[r.compName]=o,o instanceof ba&&(t.instances[o.popupName]=o)})),a&&r&&(this.el.style.justifyContent="space-between")},t.prototype.setupResizeEvent=function(){var e=this,t=function(t){var n=t.data;e.player.container.classList.toggle("plugin_ctrl--large",n),e.emit(_a.RESIZE,{size:n?Aa.LARGE:Aa.NORMAL})};this.on(_a.FULLSCREEN_CHANGE,(function(n){var r;!n.data&&(null===(r=e.instances.FakeFullscreen)||void 0===r?void 0:r.isFullScreen)||t(n)})),this.on(_a.FAKE_FULLSCREEN_CHANGE,(function(n){var r,o=n.data;document.body.classList.toggle("plugin_ctrl_fake_fullscreen",o),!o&&(null===(r=e.instances.Fullscreen)||void 0===r?void 0:r.isFullScreen)||t(n)})),ee.mobile&&this.player.container.addEventListener("touchmove",(function(t){var n;(null===(n=e.instances.FakeFullscreen)||void 0===n?void 0:n.isFullScreen)&&t.preventDefault()}))},t.pluginName="ctrlbar",t.styleDataTag="thumb-ctrlbar-style",t}($r);Fi.registerPlugin(is.pluginName,is);!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}('.txp_console{position:absolute;top:0;left:0;width:100%;height:100%;z-index:10;color:#fff;font-family:PingFangSC-Regular,Helvetica Neue,Helvetica,Roboto,Microsoft Yahei,Arial,sans-serif;font-size:10px;font-weight:400;pointer-events:none}.txp_console.txp_none,.txp_console .txp_none{display:none}.txp_console .txp_console_header .txp_info_panel_btn{margin:2px;padding:2px 4px;border-radius:2px;-webkit-transition:all .5s;transition:all .5s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;background-color:#444;color:#fff;outline:none;border:none;font-size:10px}.txp_console .txp_console_header .txp_info_panel_btn:hover{-webkit-filter:contrast(1.5) brightness(.8);filter:contrast(1.5) brightness(.8)}.txp_console .txp_console_header .txp_info_panel_btn:active{-webkit-filter:unset;filter:unset}.txp_console .txp_console_header .txp_btn_close{-webkit-appearance:none;-moz-appearance:none;appearance:none;position:relative;border:none;background:0 0;font-family:inherit;cursor:pointer;outline:0 none;font-size:1em;color:#fff}.txp_console .txp_console_inner{position:absolute;margin:10px 0 0 10px;padding:8px 5px;background-color:rgba(28,28,28,.8);pointer-events:auto;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;border-radius:4px}.txp_console .txp_console_inner .txp_line_container{overflow-y:auto;margin-top:8px}.txp_console .txp_console_inner .txp_console_header{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 8px}.txp_console .txp_console_inner .txp_console_header .txp_console_header_title{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-size:12px;font-weight:900}.txp_console .txp_console_inner .txp_console_header .txp_log_upload{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-right:4px}.txp_console .txp_console_inner .txp_console_header .txp_log_upload.info_panel_uploading:before{display:block}.txp_console .txp_console_inner .txp_console_header .txp_log_upload:before{content:"";display:none;width:10px;height:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgZmlsbD0iI2ZmZiI+PHBhdGggZD0iTTc4NCA5MDIuNGM5LjYgMTkuMiA2LjQgNDEuNi0xMi44IDU0LjQtMTkuMiA5LjYtNDEuNiAzLjItNTEuMi0xMi44LTkuNi0xOS4yLTYuNC00MS42IDEyLjgtNTQuNCAxNi0xMi44IDM4LjQtOCA1MS4yIDEyLjh6TTU1MC40IDk4NGMwIDIyLjQtMTYgMzguNC0zOC40IDM4LjRzLTM4LjQtMTYtMzguNC0zOC40di0yNGMwLTIyLjQgMTkuMi0zOC40IDQxLjYtMzguNCAxOS4yIDAgMzUuMiAxNiAzOC40IDM4LjR2MjUuNmgtMy4yem0tMjQwLTQzLjJjLTkuNiAxOS4yLTM1LjIgMjUuNi01NC40IDE2LTE5LjItOS42LTI1LjYtMzUuMi0xNi01MS4ybDI4LjgtNTEuMmM5LjYtMTkuMiAzNS4yLTI1LjYgNTQuNC0xNnMyNS42IDM1LjIgMTIuOCA1NC40bC0yNS42IDQ4ek0xMjEuNiA3ODRjLTE5LjIgOS42LTQxLjYgMy4yLTU0LjQtMTYtOS42LTE5LjItNi40LTQxLjYgMTIuOC01NC40bDc2LjgtNDQuOGMxOS4yLTkuNiA0MS42LTMuMiA1NC40IDE2IDkuNiAxOS4yIDMuMiA0MS42LTE2IDU0LjRMMTIxLjYgNzg0ek0zOC40IDU1MkMxNiA1NTIgMCA1MzYgMCA1MTMuNnMxNi0zOC40IDM4LjQtMzguNEgxNjBjMjIuNCAwIDM4LjQgMTkuMiAzOC40IDM4LjQgMCAyMi40LTE2IDM4LjQtMzguNCAzOC40SDM4LjR6bTQ0LjgtMjQxLjZjLTE5LjItOS42LTI1LjYtMzUuMi0xNi01MS4yIDkuNi0xOS4yIDM1LjItMjUuNiA1NC40LTE2TDI1NiAzMjBjMTkuMiA5LjYgMjUuNiAzNS4yIDE2IDU0LjRzLTM1LjIgMjUuNi01NC40IDE2bC0xMzQuNC04MHptMTYwLTE4NS42bDkyLjggMTYwYzkuNiAxOS4yIDM1LjIgMjUuNiA1NC40IDEyLjhzMjUuNi0zNS4yIDEyLjgtNTQuNGwtOTIuOC0xNjBDMjk3LjYgNjQgMjc1LjIgNjAuOCAyNTYgNzAuNGMtMTYgMTIuOC0yMi40IDMzLjYtMTIuOCA1NC40ek00NzMuNiA0MGMwLTIyLjQgMTYtMzguNCAzOC40LTM4LjRzMzguNCAxOS4yIDM4LjQgMzguNHYxODRjMCAyMi40LTE5LjIgMzguNC0zOC40IDM4LjQtMjIuNCAwLTM4LjQtMTkuMi0zOC40LTM4LjRWNDB6bTI0MCA0My4yYzkuNi0xOS4yIDM1LjItMjUuNiA1NC40LTE2IDE5LjIgOS42IDI1LjYgMzUuMiAxNiA1MS4ybC05Mi44IDE2MGMtOS42IDE5LjItMzUuMiAyNS42LTU0LjQgMTYtMTkuMi05LjYtMjUuNi0zNS4yLTEyLjgtNTQuNGw4OS42LTE1Ni44em0xODguOCAxNjBsLTE2MCA5Mi44Yy0xOS4yIDkuNi0yNS42IDM1LjItMTYgNTQuNCAxMi44IDE5LjIgMzUuMiAyNS42IDU0LjQgMTIuOGwxNjAtOTIuOGMxOS4yLTkuNiAyNS42LTM1LjIgMTIuOC01NC40LTkuNi0xNi0zMi0yNS42LTUxLjItMTIuOHpNOTg1LjYgNDcyYzIyLjQgMCAzOC40IDE2IDM4LjQgMzguNHMtMTYgMzguNC0zOC40IDM4LjRIODAwYy0yMi40IDAtMzguNC0xOS4yLTM4LjQtMzguNCAwLTIyLjQgMTkuMi0zOC40IDM4LjQtMzguNGgxODUuNnoiPjxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgYXR0cmlidXRlVHlwZT0iWE1MIiB0eXBlPSJyb3RhdGUiIGZyb209IjAgNTEyIDUxMiIgdG89IjM2MCA1MTIgNTEyIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIvPjwvcGF0aD48L3N2Zz4=)}.txp_console .txp_console_inner .txp_console_header .txp_log_upload.txp_none{display:none}.txp_console .txp_console_inner .txp_line{display:-webkit-box;display:-ms-flexbox;display:flex;line-height:1.6}.txp_console .txp_console_inner .txp_line .txp_compact_label,.txp_console .txp_console_inner .txp_line .txp_label{display:inline-block;-ms-flex-negative:0;flex-shrink:0;width:7em;padding-right:6px;text-align:right}.txp_console .txp_console_inner .txp_line .txp_compact_label:after,.txp_console .txp_console_inner .txp_line .txp_label:after{content:":"}.txp_console .txp_console_inner .txp_line .txp_compact_label{display:none}.txp_console .txp_console_inner .txp_line .txp_value{display:inline-block;text-align:left;vertical-align:text-top;width:30em}.txp_console.fullscreen .txp_console_inner{margin:0;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.txp_console.fullscreen .txp_console_inner .txp_line{display:none}.txp_console.fullscreen .txp_console_inner .txp_line.line-compact{display:-webkit-box;display:-ms-flexbox;display:flex}.txp_console.fullscreen .txp_console_inner .txp_line.line-compact .txp_compact_label,.txp_console.fullscreen .txp_console_inner .txp_line.line-compact .txp_label{display:none;width:4em}.txp_console.fullscreen .txp_console_inner .txp_line.line-compact .txp_compact_label{display:block}.txp_info_icon{position:absolute;top:8px;right:8px;z-index:4;width:24px;height:24px;fill:#fff;opacity:.5;border-radius:5px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-transition:all .3s;transition:all .3s}.txp_info_icon:hover{opacity:1}.txp_info_icon.small{width:16px;height:16px}.txp_info_icon.txp_none{display:none!important}');var as={CLICK_UPLOAD:"contextmenu:click-upload"};function ss(e){return function(){var e;return"function"==typeof(null===(e=navigator.clipboard)||void 0===e?void 0:e.writeText)&&!ee.browser.x5&&!ee.browser.mqqbrowser}()?function(e){return navigator.clipboard.writeText(e)}(e):function(e){var t=document.createElement("input");t.setAttribute("style","position: absolute; clip: rect(0 0 0 0); opacity: 0;"),t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy",!0),t.remove()}(e)}var ls=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;o.inited=!0,o._itemDomMap={},o._showing=!1,o.isReporting=!1,o.curInfoMap={};var i=o.player.config.infoPanelConfig,a=void 0===i?{defaultInfo:!1,disableDefaultKey:[]}:i;return o.config=u(u({},a),n),o.renderInfoIcon(),o.createInfoItems(),o.renderInfoItems(),o.addInfoItemEvts(),o.addUIEvts(),o}return c(t,e),t.prototype.start=function(e){},t.prototype.getItemDom=function(e){return this._el?this._itemDomMap[e]:null},t.prototype.show=function(){this.updateInfoItems(),this.isMiniPanel()?this._el.classList.add("fullscreen"):this._el.classList.remove("fullscreen"),this._showing=!0,this._el.classList.remove("txp_none")},t.prototype.hide=function(){this._showing=!1,this._el.classList.add("txp_none")},t.prototype.toggle=function(){if(this._showing)return this.hide();this.show()},t.prototype.showIcon=function(){this.isMiniPanel()?this._infoIcon.classList.add("small"):this._infoIcon.classList.remove("small"),this._infoIcon.classList.remove("txp_none")},t.prototype.hideIcon=function(){this._infoIcon.classList.add("txp_none")},t.prototype.trigger=function(){this._showing?this.hide():this.show()},Object.defineProperty(t.prototype,"showing",{get:function(){return this._showing},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){clearTimeout(this.copyBtnClearTimer),this._itemDomMap=null,this._el=null,this.infoItems=null,e.prototype.destroy.call(this)},t.prototype.hookPlaySessionStart=function(){var e=this.config.showOnQuery,t=void 0===e?"show_info_panel":e;Ee.getUrlParamByKey(location.href,t)&&this.show()},t.prototype.hookVideoPause=function(){var e=this.config.showInfoIconOnPause;(void 0===e||e)&&this.showIcon()},t.prototype.hookVideoPlaying=function(){var e=this.config.showInfoIconOnPause;(void 0===e||e)&&this.hideIcon()},t.prototype.renderInfoIcon=function(){var e=this,t=this.player.container;t.insertAdjacentHTML("beforeend",'<div class="txp_info_icon txp_none">\n  <svg\n  viewBox="0 0 1024 1024"\n  version="1.1"\n  xmlns="http://www.w3.org/2000/svg"\n  >\n  <path\n    d="M512 958.016C266.08 958.016 65.984 757.952 65.984 512 65.984 266.08 266.08 65.984 512 65.984c245.952 0 446.016 200.064 446.016 446.016C958.016 757.952 757.952 958.016 512 958.016zM512 129.984C301.344 129.984 129.984 301.344 129.984 512c0 210.624 171.36 382.016 382.016 382.016 210.624 0 382.016-171.36 382.016-382.016C894.016 301.344 722.624 129.984 512 129.984z"\n  ></path>\n  <path\n    d="M512 304m-48 0a1.5 1.5 0 1 0 96 0 1.5 1.5 0 1 0-96 0Z"\n  ></path>\n  <path\n    d="M512 768c-17.664 0-32-14.304-32-32l0-288c0-17.664 14.336-32 32-32s32 14.336 32 32l0 288C544 753.696 529.664 768 512 768z"\n  ></path>\n  </svg>\n</div>\n'),this._infoIcon=t.querySelector(".txp_info_icon"),this._infoIcon.addEventListener("click",(function(){e.toggle()}))},t.prototype.renderInfoItems=function(){var e,t=this,n=this.config.showUploadBtn,r=void 0===n?ee.mobile:n,o=this.infoItems,i=this.player.container,a='<div class="txp_console txp_none" style="z-index: 100">\n    <div class="txp_console_inner">\n      <div class="txp_console_header">\n      <span class="txp_console_header_title">\u64ad\u653e\u4fe1\u606f</span>\n      <span class="txp_info_panel_btn txp_info_copy">\u590d\u5236</span>\n      <span class="txp_info_panel_btn txp_log_upload">\n        \u4e0a\u4f20\u65e5\u5fd7\n      </span>\n      <button class="txp_info_panel_btn txp_log_download">\n        \u8c03\u8bd5\u4fe1\u606f\n      </button>\n      <button class="txp_btn_close" title="\u5173\u95ed">[X]</button>\n      </div>\n    <div class="txp_line_container">\n      '+o.map((function(e){var t=e.key,n=e.title,r=void 0===n?"":n,o=e.style,i=void 0===o?"":o,a=e.label,s=e.value,l=e.compactLabel;return'<div class="txp_line '+(l?"line-compact":"")+'" data-key="'+t+'" title="'+(r||"")+'" style="'+(i||"")+'">\n            <div class="txp_label">'+a+"</div>\n            "+(l?'<div class="txp_compact_label">'+l+"</div>":"")+'\n            <div class="txp_value">'+s+"</div>\n          </div>"})).join("")+"\n    </div>\n    </div>\n  </div>";i.insertAdjacentHTML("beforeend",a),this._el=i.querySelector(".txp_console"),this._closeBtn=this._el.querySelector(".txp_btn_close"),this._uploadBtn=this._el.querySelector(".txp_info_panel_btn.txp_log_upload"),this._copyBtn=this._el.querySelector(".txp_info_panel_btn.txp_info_copy"),this._downloadBtn=this._el.querySelector(".txp_info_panel_btn.txp_log_download"),this.player.offlineLog||(this._uploadBtn.classList.add(Yi),this._downloadBtn.classList.add(Yi)),!r&&(null===(e=this.player.offlineLog)||void 0===e?void 0:e.downloadLogs)?this._uploadBtn.classList.add(Yi):this._downloadBtn.classList.add(Yi),o.forEach((function(e){var n={el:null,value:null};n.el=t._el.querySelector('[data-key="'+e.key+'"]'),n.value=n.el.querySelector(".txp_value"),t._itemDomMap[e.key]=n}))},t.prototype.setUploadBtnState=function(e){this._uploadBtn.textContent=e?"\u4e0a\u4f20\u4e2d...":"\u4e0a\u4f20\u65e5\u5fd7",this._uploadBtn.classList.toggle("info_panel_uploading"),this._uploadBtn.dataset.reporting=String(e),this.isReporting=e},t.prototype.addUIEvts=function(){var e=this;this._closeBtn.addEventListener("click",(function(){return e.hide()})),this._uploadBtn.addEventListener("click",(function(t){return f(e,void 0,void 0,(function(){var e,n,r,o=this;return h(this,(function(i){switch(i.label){case 0:if(t.stopPropagation(),this.isReporting||!(null===(r=this.player.offlineLog)||void 0===r?void 0:r.report))return[2];e=this.player.offlineLog.report.bind(this.player.offlineLog),i.label=1;case 1:return i.trys.push([1,3,4,5]),this.setUploadBtnState(!0),this.showTips("\u5f00\u59cb\u4e0a\u4f20\u65e5\u5fd7..."),ss(JSON.stringify(this.curInfoMap)),[4,e(!0,"info-panel:click",(function(e){o.showTips("\u4e0a\u4f20\u4e2d..."+(100*e).toFixed(0)+"%")}))];case 2:return n=i.sent(),this.showTips({text:(null==n?void 0:n.status)?"\u65e5\u5fd7\u4e0a\u62a5\u6210\u529f":"\u65e5\u5fd7\u4e0a\u62a5\u5931\u8d25 "+((null==n?void 0:n.msg)||""),time:10,showClose:!0}),[3,5];case 3:return i.sent(),this.showTips({text:"\u65e5\u5fd7\u4e0a\u62a5\u5931\u8d25 "+(null==n?void 0:n.msg),showClose:!0,time:-1}),[3,5];case 4:return this.setUploadBtnState(!1),[7];case 5:return[2]}}))}))})),this._downloadBtn.addEventListener("click",(function(){return f(e,void 0,void 0,(function(){var e,t;return h(this,(function(n){return null===(t=null===(e=this.player.offlineLog)||void 0===e?void 0:e.downloadLogs)||void 0===t||t.call(e),[2]}))}))})),this._copyBtn.addEventListener("click",(function(t){return f(e,void 0,void 0,(function(){var e,n,r=this;return h(this,(function(o){switch(o.label){case 0:e=3e3,t.stopPropagation(),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,ss(JSON.stringify(this.curInfoMap))];case 2:return o.sent(),this._copyBtn.textContent="\u5df2\u590d\u5236",[3,4];case 3:return n=o.sent(),this._copyBtn.textContent="\u590d\u5236\u5931\u8d25",this.log(n),[3,4];case 4:return clearTimeout(this.copyBtnClearTimer),this.copyBtnClearTimer=setTimeout((function(){r._copyBtn.textContent="\u590d\u5236"}),e),[2]}}))}))})),Gi&&this._el.addEventListener("click",(function(){return e.hide()}))},t.prototype.showTips=function(e){var t=this.player.plugins.tips;null==t||t.show(e)},t.prototype.createInfoItems=function(){var e,t=this;if(this.config.defaultInfo){var n=((e={})[go.vid]=this.createVidInfoItem,e[go.flowid]=this.createFlowidInfoItem,e[go.guid]=this.createGuidInfoItem,e[go.curcore]=this.createKernelNameInfoItem,e.cdnInfo=this.createCdnInfoItem,e.playerSize=this.createResolutionInfoItem,e.keyFrame=this.createKeyFrameInfoItem,e.bufferRange=this.createBufferRangeInfoItem,e.net=this.createNetInfoItem,e.videoSize=this.createVideoSizeInfoItem,e.codecs=this.createCodecsInfoItem,e.debug=this.createDebugInfoItem,e),r=this.config.disableDefaultKey,o=void 0===r?[]:r,i=Object.keys(n).filter((function(e){return!o.includes(e)}));this.infoItems=i.map((function(e){return n[e].apply(t,[e])}))}else this.infoItems=[]},t.prototype.createNetInfoItem=function(e){var t=this,n=function(){var n=t.player.currentVideoInfo;if(null==n?void 0:n.performance){var r=n.performance,o=r.speed,i=void 0===o?0:o,a=r.p2pStats,s=void 0===a?"":a;t.setItemTextByKey(e,i+" KB/s "+s)}};return{key:e,updater:n,label:"\u7f51\u7edc\u6d3b\u52a8",compactLabel:"net",value:"-",listeners:[{event:Hr.VIDEO_TIMEUPDATE,cb:n}]}},t.prototype.createVidInfoItem=function(e){var t=this,n=function(){var n=t.player,r=n.getCommonKv(go.vid),o=n.getCommonKv(go.platform),i=t.getItemDom(e);if(r||o){var a="-";r&&(a=n.config.type===A.LIVE?r+"-"+(n.getCommonKv(go.livepid)||0)||"-":r||"-"),a+=" / "+(o||"-"),i.el.classList.remove(Yi),t.setItemTextByKey(e,a)}else i.el.classList.add(Yi)};return{key:e,updater:n,label:"\u89c6\u9891ID",compactLabel:"VID",value:"-",listeners:[{dispatcher:this.msg,event:jr.DATASET_UPDATE,cb:function(e){e.data.key===go.vid&&n()}}]}},t.prototype.createKernelNameInfoItem=function(e){var t=this,n=function(){var n,r,o,i,a,s=null!==(o=Ee.getFileExtension(null===(r=null===(n=t.player)||void 0===n?void 0:n.currentVideoInfo)||void 0===r?void 0:r.loadingUrl))&&void 0!==o?o:"-",l=null!==(i=t.player.getCommonKv(go.curcore))&&void 0!==i?i:"-",c=null!==(a=t.player.getCommonKv(go.curcorever))&&void 0!==a?a:W,u=t.player.getCommonKv(go.p2pver),d=u?"-p2p-"+u:"";t.setItemTextByKey(e,s+"/"+l+" ("+c+d+")")};return{key:e,label:"\u64ad\u653e\u5185\u6838",compactLabel:"Kernel",value:"-",updater:n,listeners:[{dispatcher:this.msg,event:jr.DATASET_UPDATE,cb:function(e){[go.curcorever,go.curcore,go.p2pver].indexOf(e.data.key)>-1&&n()}}]}},t.prototype.createResolutionInfoItem=function(e){var t=this;return{key:e,label:"\u663e\u793a\u5668\u4fe1\u606f",compactLabel:"Res",value:"-",updater:function(){var n,r,o=t.player,i=o.container,a=o.getCommonKv,s=i.clientWidth+"*"+i.clientHeight,l=a(go.resolution),c=null!==(r=null===(n=window.screen)||void 0===n?void 0:n.isExtended)&&void 0!==r&&r;t.setItemTextByKey(e,s+" / "+l+" (ext:"+c+")")}}},t.prototype.createVideoSizeInfoItem=function(e){var t=this,n=function(){var n,r,o=null!==(r=null===(n=t.player)||void 0===n?void 0:n.currentVideoInfo)&&void 0!==r?r:{},i=o.videoHeight,a=void 0===i?0:i,s=o.videoWidth,l=void 0===s?0:s;t.setItemTextByKey(e,l+"*"+a)};return{key:e,updater:n,label:"\u89c6\u9891\u5206\u8fa8\u7387",value:"-",listeners:[{event:S.METADATA_CHANGE,cb:n},{event:Hr.VIDEO_SETLEVEL_END,cb:n}]}},t.prototype.createCodecsInfoItem=function(e){var t=this,n=function(){var n=t.getItemDom(e),r=t.player.currentVideoInfo;if(r){n.el.classList.remove(Yi);var o=r.codecs,i=void 0===o?{video:"",audio:""}:o,a=i.video,s=i.audio,l=a&&s?a+" / "+s:"",c="("+(t.player.getCommonKv(go.codec)||"-")+")";t.setItemTextByKey(e,(l+" "+c).trim())}else n.el.classList.add(Yi)};return{key:e,updater:n,label:"\u7f16\u7801",compactLabel:"Codec",value:"-",listeners:[{event:S.METADATA_CHANGE,cb:n}]}},t.prototype.createFlowidInfoItem=function(e){var t=this,n=function(){t.setItemTextByKey(e,t.player.getCommonKv(go.flowid))};return{key:e,label:"\u64ad\u653e\u6d41\u6c34",compactLabel:"Flowid",value:"-",updater:n,listeners:[{dispatcher:this.msg,event:jr.DATASET_UPDATE,cb:function(e){e.data.key===go.flowid&&n()}}]}},t.prototype.createGuidInfoItem=function(e){var t=this;return{key:e,label:"GUID",compactLabel:"GUID",value:"-",updater:function(){t.setItemTextByKey(e,t.player.getCommonKv(go.guid))}}},t.prototype.createKeyFrameInfoItem=function(e){var t=this;return{key:e,label:"\u5e27\u6570",value:"-",listeners:[{event:Hr.VIDEO_TIMEUPDATE,cb:function(){var n,r,o=(null===(r=null===(n=t.player)||void 0===n?void 0:n.currentVideoInfo)||void 0===r?void 0:r.qualityInfo)||{},i=o.totalVideoFrames,a=void 0===i?0:i,s=o.droppedVideoFrames,l=void 0===s?0:s,c=l/a*100;t.setItemTextByKey(e,l+"/"+a+"; "+(isNaN(c)?0:c.toFixed(2))+"%")}}]}},t.prototype.createCdnInfoItem=function(e){var t=this,n=function(){var n,r=t.getItemDom(e);t.player.getCommonKv(go.vid)?(r.el.classList.remove(Yi),t.setItemTextByKey(e,Ee.getDomainOfURL((null===(n=t.player.currentVideoInfo)||void 0===n?void 0:n.loadingUrl)||""))):r.el.classList.add(Yi)};return{key:e,label:"\u89c6\u9891CDN",value:"-",listeners:[{event:Hr.VIDEO_LOAD_START,cb:n},{event:S.RETRY_BACKURL,cb:n},{event:Hr.VIDEO_SETLEVEL_END,cb:n}]}},t.prototype.createBufferRangeInfoItem=function(e){var t=this,n=function(){var n,r=t.player,o=r.videoBuffered,i=r.playtime,a=(null===(n=o.find((function(e){return e.start<=i&&e.end>=i})))||void 0===n?void 0:n.end)-i;t.setItemTextByKey(e,isNaN(a)?"-":a.toFixed(2)+"s")};return{key:e,updater:n,label:"\u7f13\u51b2\u5065\u5eb7\u5ea6",value:"-",listeners:[{event:Hr.VIDEO_TIMEUPDATE,cb:n}]}},t.prototype.createDebugInfoItem=function(e){var t=this,n="",r=[],o=function(){var o,i,a,s,l,c,u=t.player.getCommonKv(go.sessionRetryBackUrlCount)||0,d=t.player.getCommonKv(go.sessionRetryPlayCount)||0,p=u||d?"r:"+[u,d].join("/"):"",f=t.player.getCommonKv(go.sessionBufferCount)||0,h=f?"b:"+f:"",g=t.player.videoBuffered.map((function(e){return e.start.toFixed(3)+"-"+e.end.toFixed(3)})).join(","),v=g?"br:"+g:"",A="t:"+t.player.playtime.toFixed(2),y="pg:"+ +!!(null===(s=null===(a=null===(i=null===(o=t.player.corePlayer)||void 0===o?void 0:o.getHls)||void 0===i?void 0:i.call(o))||void 0===a?void 0:a.config)||void 0===s?void 0:s.progressive),_="s:"+r.join("->"),m=n?"a:"+n:"",E=null===(c=null===(l=t.player.currentVideoInfo)||void 0===l?void 0:l.performance)||void 0===c?void 0:c.latency,I=E?"lc:"+(E/1e3).toFixed(2):"",b=t.player.getCommonKv(go.drm),C=b?"enc:"+b:"";t.setItemTextByKey(e,[p,h,v,A,y,_,m,I,C].filter(Boolean).join(" "))};return{key:e,label:"mystery",compactLabel:"mystery",value:"-",listeners:[{dispatcher:this.msg,event:jr.DATASET_UPDATE,cb:function(e){-1!==[go.sessionRetryBackUrlCount,go.sessionRetryPlayCount,go.sessionBufferCount,go.drm].indexOf(e.data.key)&&o()}},{event:S.STATE_CHANGE,cb:function(){var e=t.player.state,n=e.charAt(0)+e.charAt(e.length-1);r.push(n),r=r.slice(-5),o()}},{event:Hr.VIDEO_LOAD_PROGRESS,cb:o},{event:Hr.VIDEO_AUTOPLAY_BLOCKED,cb:function(){n="vb"}},{event:Hr.VIDEO_TIMEUPDATE,cb:o},{event:Hr.AD_AUTOPLAY_BLOCKED,cb:function(){n="ab"}}]}},t.prototype.setItemTextByKey=function(e,t){var n=this.getItemDom(e);this.curInfoMap[e]=t,n&&(n.value.innerText=null!=t?t:"-")},t.prototype.addInfoItemEvts=function(){var e=this;this.infoItems.forEach((function(t){var n;null===(n=t.listeners)||void 0===n||n.forEach((function(t){(t.dispatcher||e.player).on(t.event,t.cb)}))}))},t.prototype.updateInfoItems=function(){this.infoItems.forEach((function(e){var t;null===(t=e.updater)||void 0===t||t.call(e)}))},t.prototype.isMiniPanel=function(){var e=this.config.smallSizeThreshold,t=void 0===e?400:e;return this.player.container.clientWidth<t},t.pluginName="info-panel",t.Events=as,t}($r);Fi.registerPlugin(ls.pluginName,ls);!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".txp_poster_img{position:absolute;left:0;top:0;width:100%;height:100%;z-index:2;-o-object-fit:contain;object-fit:contain}.txp_poster_img.txp_none{display:none}");var cs="txp_none",us=["496","360","228"];var ds=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.config=u(u({},t.config.poster||{}),n),o.el=o.init(),o.tryShow(),o}return c(t,e),t.prototype.destroy=function(){var t;e.prototype.destroy.call(this),null===(t=this.el)||void 0===t||t.remove()},t.prototype.show=function(e){this.el&&(e&&(this.el.src=e),this.el.classList.remove(cs))},t.prototype.showByVid=function(e){var t=e.vid,n=e.vidFirstPic,r=e.h5Defn,o=e.dir,i=e.resolution;if(e.pcFmt,t){var a=function(e){var t=e.vid,n=e.resolution,r=e.vidFirstPic,o=void 0!==r&&r,i=e.h5Defn,a=e.dir,s=void 0===a?"hz":a;return o?"//puui.qpic.cn/vpic_cover/"+t+"/"+t+"_first.jpg/"+("hz"===s?"640x360":"360x640"):n||us[i]?"//puui.qpic.cn/vpic_cover/"+t+"/"+t+"_hz.jpg/"+(n||us[i]||"0"):"//puui.qpic.cn/vpic_cover/"+t+"/"+t+"_"+s+".jpg"}({vid:t,vidFirstPic:n,h5Defn:r,dir:o,resolution:i});this.show(a)}},t.prototype.hide=function(){this.el&&this.el.classList.add(cs)},t.prototype.hookAdPlaying=function(){this.hide()},t.prototype.hookVideoPlaying=function(e){e.isFirst&&this.hide()},t.prototype.hookVideoEnd=function(e){e.endState!==y.NORMAL||this.player.config.loop||this.tryShow()},t.prototype.init=function(){var e=this.player.container,t=document.createElement("img");return t.alt="Thumbplayer Poster Plugin Image",t.classList.add("txp_poster_img",cs),e.prepend(t),t},t.prototype.tryShow=function(){var e,t;(null===(e=this.config)||void 0===e?void 0:e.vid)?this.showByVid(this.config):(null===(t=this.config)||void 0===t?void 0:t.src)&&this.show(this.config.src)},t.pluginName="poster",t}($r);Fi.registerPlugin(ds.pluginName,ds);var ps;!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}('.txp_alert_info{position:absolute;left:10px;bottom:67px;padding:2px 8px;line-height:24px;font-size:13px;text-align:left;color:#fff;background:rgba(0,0,0,.6);-webkit-transition:bottom .15s ease;transition:bottom .15s ease;z-index:2}.txp_alert_info.txp_none{display:none}.txp_alert_info.ctrl_resize{bottom:107px}.txp_alert_info.ctrl_hide{bottom:20px}.txp_alert_info .txp_btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;position:relative;border:none;background:0 0;font-family:inherit;cursor:pointer;outline:0 none;font-size:1em}.txp_alert_info .txp_btn.txp_btn_close{position:relative;display:inline-block;margin-left:3px;width:14px;height:24px;vertical-align:top;color:#fff;cursor:pointer}.txp_alert_info .txp_btn.txp_btn_close:hover{color:#ff6429}.txp_alert_info .txp_btn.txp_btn_close:hover:before{background:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMiAxMiI+PHBhdGggZmlsbD0iI0ZGNzgwMCIgZD0iTTEwLjUgMTBsLS41LjUtNC00LTQgNC0uNS0uNSA0LTQtNC00IC41LS41IDQgNCA0LTQgLjUuNS00IDQgNCA0eiIvPjwvc3ZnPg==) 50% no-repeat}.txp_alert_info .txp_btn.txp_btn_close:before{content:"";position:absolute;left:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:12px;height:12px;background:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMiAxMiI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTEwLjUgMTBsLS41LjUtNC00LTQgNC0uNS0uNSA0LTQtNC00IC41LS41IDQgNCA0LTQgLjUuNS00IDQgNCA0eiIvPjwvc3ZnPg==) 50% no-repeat;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0;padding:0;text-indent:0}.txp_alert_info .txp_btn.txp_none{display:none}.txp_alert_info .txp_alert_content a,.txp_alert_info .txp_alert_content em{padding:0 1px;color:#ff6429;font-style:normal;font-weight:400}.txp_alert_info .txp_alert_content .txp_alert_text{display:inline}.txp_alert_info .txp_none{display:none}'),function(e){e.HOT_MOUSE_OVER="ctrl:hotpoint-mouseover",e.HOT_MOUSE_MOVE="ctrl:hotpoint-mousemove",e.HOT_MOUSE_OUT="ctrl:hotpoint-mouseout"}(ps||(ps={}));var fs,hs,gs=u(u({FULLSCREEN_CHANGE:"windowFullscreenChange",FULLSCREEN_ERROR:"fullscreenError",FAKE_FULLSCREEN_CHANGE:"browserFullscreenChange",CLICK_PIPBTN:"ctrl:click-pipbtn",CLICK_NEXTBTN:"ctrl:click-nextbtn",CLICK_PLAYBTN:"ctrl:click-playbtn",CLICK_REPLAY:"ctrl:click-replay",SET_LANGUAGE:"ctrl:set-language",SET_LEVEL:"ctrl:set-level",SET_AUDIO:"ctrl:set-audio",SET_PLAYRATE:"ctrl:set-playrate",SET_VOLUME:"ctrl:set-volume",TOGGLE_OVERLAY:"ctrl:toggle-overlay",MOUSE_DONW:"ctrl:progress-mousedown",MOUSE_DOWN:"ctrl:progress-mousedown",MOUSE_MOVE:"ctrl:progress-mousemove",MOUSE_UP:"ctrl:progress-mouseup",SHOW:"ctrl:show",HIDE:"ctrl:hide"},ps),{TEST_EVENT:"ctrl:inner-test-event",RESIZE:"ctrl:resize",SHOW_LEVELS:"ctrl:show-levels",HOVER_PROGRESS:"ctrl:hover-progress"});!function(e){e.LARGE="large",e.NORMAL="normal"}(fs||(fs={})),function(e){e.PAUSE="pause",e.PLAY="play",e.REPLAY="replay",e.STOP="stop"}(hs||(hs={}));var vs,As="ctrl_hide",ys=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.hide=function(){o.el.removeEventListener("click",o.clickTips),o.showOptions=null,o.el.classList.add(Yi),o.emit(vs.Hide)},o.clickTips=function(e){var t;if(o.showOptions){var n=null===(t=e.target)||void 0===t?void 0:t.dataset.callback;n&&"function"==typeof o.showOptions[n]&&o.showOptions[n]()}},o.prepareDOM(),o.initDOMVars(),!1!==n.followCtrlbar&&o.followCtrlbar(),o}return c(t,e),t.prototype.destroy=function(){this.hide(),e.prototype.destroy.call(this)},t.prototype.show=function(e){var t,n=!1,r=3;"string"==typeof e||"number"==typeof e?t=String(e):(t=e.text,n=!!e.showClose,r=e.time||3,this.showOptions=e),this.$text.innerHTML=t,this.$close.classList.toggle(Yi,!n),this.el.addEventListener("click",this.clickTips),this.el.classList.remove(Yi),clearTimeout(this.timeoutId),-1!==r&&(this.timeoutId=window.setTimeout(this.hide,1e3*r)),this.emit(vs.Show)},t.prototype.prepareDOM=function(){var e=this.player.container,t=document.createElement("div");t.className="txp_alert_info txp_none",t.innerHTML='<div class="txp_alert_content">\n      <div class="txp_alert_text"></div>\n      <button class="txp_btn txp_btn_close" title="\u5173\u95ed"></button>\n    </div>',e.insertAdjacentElement("beforeend",t),this.el=t},t.prototype.initDOMVars=function(){this.$text=this.el.querySelector(".txp_alert_content .txp_alert_text"),this.$close=this.el.querySelector(".txp_btn_close"),this.$close.addEventListener("click",this.hide),Gi&&(this.el.style.bottom="40px")},t.prototype.followCtrlbar=function(){var e=this;this.msg.on("pluginsetup:ctrlbar",(function(){var t=e.player.plugins.ctrlbar;t.on(gs.SHOW,(function(){e.el.classList.remove(As)})),t.on(gs.HIDE,(function(){e.el.classList.add(As)})),t.on(gs.RESIZE,(function(t){var n=t.data;e.el.classList.toggle("ctrl_resize",n.size===fs.LARGE)}))}))},t.pluginName="tips",t}($r);!function(e){e.Show="show",e.Hide="hide"}(vs||(vs={})),Fi.registerPlugin(ys.pluginName,ys);!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}("@-webkit-keyframes txp_overlay_play{0%{-webkit-transform:scale(.5);transform:scale(.5);opacity:1}to{-webkit-transform:scale(1);transform:scale(1);opacity:0}}@keyframes txp_overlay_play{0%{-webkit-transform:scale(.5);transform:scale(.5);opacity:1}to{-webkit-transform:scale(1);transform:scale(1);opacity:0}}.txp_contextmenu{background:rgba(30,30,32,.9);position:fixed;width:234px;z-index:9999;padding:10px 0;color:#bbb;overflow:hidden;font-size:12px}.txp_contextmenu.txp_none,.txp_contextmenu .txp_none{display:none}.txp_contextmenu .txp_clipboard{top:0;left:100%;position:absolute;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.txp_contextmenu .txp_menuitem{padding-left:20px;height:34px;line-height:34px;cursor:pointer;max-width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.txp_contextmenu .txp_menuitem:hover{background-color:#26262b}.txp_overlay_link{position:absolute;left:0;top:0;width:100%;height:100%;z-index:5;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;visibility:hidden;font-size:14px}.txp_overlay_link.txp_show{display:-webkit-box;display:-ms-flexbox;display:flex;visibility:visible;-webkit-animation:txp_overlay_play 1s ease-out both;animation:txp_overlay_play 1s ease-out both;pointer-events:none}.txp_overlay_link .txp_icon_link{background:rgba(30,30,32,.9);width:60px;height:60px;border-radius:30px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.txp_overlay_link .txp_icon_link .txp_icon{position:relative;width:36px;height:36px;fill:#fff}");var _s=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.menuConfig=[],o.show=function(){o.$el.classList.remove(Yi)},o.hide=function(){o.$el.classList.add(Yi)},o.config=u(u({},t.config.contextMenuConfig),n),o.start(o.config.menus,{hideVInfo:o.config.hideVInfo}),o}return c(t,e),t.prototype.start=function(e,t){if(e&&!(e.length<=0))if(!0!==(null==t?void 0:t.hideVInfo)&&e.unshift({role:"openvinfo",label:"\u89c6\u9891\u4fe1\u606f"}),this.menuConfig=e,this.$el)this.$el.innerHTML="\n      "+e.map((function(e){return'<div class="txp_menuitem" data-role="'+(e.role||"")+'">'+e.label+"</div>"})).join("")+'\n      <textarea class="txp_clipboard" style="position: absolute; left: 100%; top: 0;"></textarea>\n      ';else{var n='\n    <div class="txp_contextmenu txp_none" style="overflow:hidden">\n      '+e.map((function(e){return'<div class="txp_menuitem" data-role="'+(e.role||"")+'">'+e.label+"</div>"})).join("")+'\n      <textarea class="txp_clipboard" style="position: absolute; left: 100%; top: 0;"></textarea>\n    </div>\n    <div class="txp_overlay_link '+'txp_none">\n        <div class="txp_icon_link">\n            <svg class="txp_icon" viewBox="0 0 36 36" >\n              <path d="M26.5 26h-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5h5c2.5 0 4.5-2 4.5-4.5S29 14 26.5 14h-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5h5c4.1 0 7.5 3.4 7.5 7.5S30.6 26 26.5 26zM12 18.5c0-.8.7-1.5 1.5-1.5h9c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5h-9c-.8 0-1.5-.7-1.5-1.5zm2.5-4.5h-5C7 14 5 16 5 18.5S7 23 9.5 23h5c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5h-5C5.4 26 2 22.6 2 18.5S5.4 11 9.5 11h5c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5z"></path>\n            </svg>\n        </div>\n    </div>\n    ',r=this.player.container;r.insertAdjacentHTML("beforeend",n),this.$el=r.querySelector(".txp_contextmenu"),this.$link=r.querySelector(".txp_overlay_link"),this.bindDOMEvent()}},t.prototype.showSuccess=function(){var e,t;if(!Gi&&!(null===(e=this.config)||void 0===e?void 0:e.disableSuccessTip)&&!(null===(t=this.config)||void 0===t?void 0:t.disableSuccussTip)){var n=this.$link,r="txp_show";n.classList.remove(Yi),n.classList.add(r),clearTimeout(this.sucTid),this.sucTid=setTimeout((function(){n.classList.add(Yi),n.classList.remove(r)}),1e3)}},t.prototype.destroy=function(){[this.$el,this.$link].forEach((function(e){return(null==e?void 0:e.parentNode)&&e.remove()})),e.prototype.destroy.call(this)},t.prototype.bindDOMEvent=function(){var e=this,t=this.player.container;t.addEventListener("contextmenu",(function(t){if(!e.player.isPlayingAd){e.show();var n=e.player.container.getBoundingClientRect(),r=n.left,o=n.top,i=n.width,a=n.height,s=t.clientX,l=t.clientY,c=e.$el,u=i+r-c.clientWidth,d=a+o-c.clientHeight,p=Math.min(u,s),f=Math.min(d,l);e.$el.style.left=p+"px",e.$el.style.top=f+"px",t.preventDefault()}})),t.addEventListener("click",this.hide),this.$el.addEventListener("click",(function(t){var n,r,o=t.target;e.showSuccess();var i=null===(n=e.menuConfig)||void 0===n?void 0:n.find((function(e){return e.role===o.dataset.role}));"function"==typeof(null==i?void 0:i.callback)&&i.callback(e),"openvinfo"===o.dataset.role&&(null===(r=e.player.plugins["info-panel"])||void 0===r||r.trigger()),e.emit("clickContextMenu",o.dataset)}))},t.pluginName="context-menu",t}($r);Fi.registerPlugin(_s.pluginName,_s);var ms,Es="thumbplayer-watermark-cover";function Is(e,t){return f(this,void 0,void 0,(function(){var n,r;return h(this,(function(o){switch(o.label){case 0:if(!e)return[2,Promise.reject(n)];r=0,o.label=1;case 1:if(!(r<3))return[3,6];o.label=2;case 2:return o.trys.push([2,4,,5]),[4,Fe.jsonp(e,{timeout:5e3})];case 3:return[2,bs(o.sent(),t)];case 4:return o.sent(),n=ms.ActionWatermarkRequestFailed,[3,5];case 5:return r++,[3,1];case 6:return[2,Promise.reject(n)]}}))}))}function bs(e,t){for(var n={},r={},o=e.start,i=e.duration,a=e.repeat,s=e.rw,l=0===a?Math.ceil(t/i):a,c=function(t){var a=o+t*i;e.scenes.forEach((function(e){var o=e.wi,i=e.in,l=e.out,c=e.start,d=e.end;o.forEach((function(e){r[e.id]=u(u({},e),{action:!0,rw:s}),n[e.id]||(n[e.id]=[]),t>=c&&(t<=d||0===t)&&n[e.id].push({start:(a+i)/1e3,end:(a+l)/1e3})}))}))},d=0;d<l;d++)c(d);return{schedules:n,watermarks:r}}!function(e){e.ActionWatermarkRequestFailed="001"}(ms||(ms={}));var Cs=function(){function e(e,t,n){void 0===n&&(n=!1);var r=t.cfg,o=t.css;this.el=this.createImageNode(o),this.el.onload=r.onload,this.el.onerror=r.onerror,this.el.src=r.url,this.el.dataset.id=""+r.id,e.appendChild(this.el),n?this.show():this.hide()}return e.prototype.destroy=function(){var e;(null===(e=this.el)||void 0===e?void 0:e.parentNode)&&this.el.remove(),this.el=null},e.prototype.show=function(){this.el&&(this.el.style.display="block")},e.prototype.hide=function(){this.el&&(this.el.style.display="none")},e.prototype.draw=function(e){var t=e.left,n=e.top,r=e.width,o=e.height,i=e.position,a=e.opacity;this.el&&(this.el.style.left=t,this.el.style.top=n,this.el.style.width=r,this.el.style.height=o,this.el.style.opacity=a,this.el.style.position=i)},e.prototype.createImageNode=function(e){var t=e.left,n=e.top,r=e.width,o=e.height,i=e.position,a=e.opacity,s=new Image;return s.style.left=t,s.style.top=n,s.style.width=r,s.style.height=o,s.style.position=i,s.style.opacity=a,s.style.zIndex="1",s},e}(),ws=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;o.watermarks={},o.timeTable={},o.onResize=function(){Object.values(o.watermarks).forEach((function(e){var t=e[0],n=e[1],r=o.computeCss(n);t.draw(r)}))},o.computeCss=function(e){var t=e.x,n=e.y,r=e.h,i=e.w,a=e.a,s=e.rw,l=void 0===s?0:s,c=o.player,u=c.container,d=c.videoSize,p=d.width,f=d.height;p<=0&&(p=u.clientWidth),f<=0&&(f=u.clientHeight);var h=l>0?Math.min(f,p)/l:1,g=t*h,v=n*h,A=r*h,y=i*h,_=Math.min(u.clientWidth/p,u.clientHeight/f),m=p*_,E=f*_,I=Math.max((u.clientWidth-m)/2,0),b=Math.max((u.clientHeight-E)/2,0),C=y*_,w=A*_,S=I+m-C-g*_,x=b+v*_,P={x:I,y:b,w:m,h:E},T={x:S,y:x,w:C,h:w},D={left:S+"px",top:x+"px",width:C+"px",height:w+"px",position:"absolute",display:"block",opacity:""+a/100};return o.isInScreen(P,T)||(D.display="none"),D},o.config=u(u({enableProtectionWatermark:!0},o.player.config.watermarkConfig||{}),n),o.prepareDom(),window.addEventListener("resize",o.onResize),t.on(S.FULLSCREEN_CHANGE,o.onResize,-1);var i=o.config.defaultText;return i&&o.watermarkThis(i),o.initMutationObserver(),o.setupPlayerEvents(),o.listenFakeFullscreen(),o}return c(t,e),t.prototype.add=function(e,t){void 0===t&&(t=!1);var n=e.url,r=e.id;if(!this.watermarks[r]){var o={css:this.computeCss(e),cfg:{id:r,url:n,onerror:function(){this.remove()}}},i=new Cs(this.$watermarkContainer,o,t);return this.watermarks[r]=[i,e],i}},t.prototype.watermarkThis=function(e,t){void 0===t&&(t={}),this.coverWatermarkParam=null;var n=this.player.container;n.querySelectorAll("."+Es).forEach((function(e){return e.remove()}));var r=document.createElement("div"),o=document.createElementNS("http://www.w3.org/2000/svg","svg"),i=document.createElementNS("http://www.w3.org/2000/svg","text"),a=t.svg,s=void 0===a?{}:a,l=t.text,c=void 0===l?{}:l;r.classList.add(Es),r.style.position="absolute",r.style.width="100%",r.style.height="100%",r.style.userSelect="none",r.style.zIndex="1",o.setAttribute("xmlns","http://www.w3.org/2000/svg");var d=u(u({},{width:"200px",height:"200px"}),s);Object.keys(d).forEach((function(e){o.setAttribute(e,d[e])}));var p=u(u({},{stroke:"black",transform:"translate(20, 120) rotate(-30)",fill:"rgb(222, 222, 222)",opacity:.3,"stroke-opacity":.3,"stroke-width":1,"font-size":"22"}),c);return Object.keys(p).forEach((function(e){i.setAttribute(e,p[e])})),i.textContent=e,o.appendChild(i),r.style.backgroundImage='url("data:image/svg+xml;utf8,'+o.outerHTML.replace(/"/g,"'")+'")',n.appendChild(r),this.coverWatermarkParam=[e,t],r},t.prototype.remove=function(e){var t,n=(null!==(t=this.watermarks[e])&&void 0!==t?t:[])[0];n&&(n.destroy(),delete this.watermarks[e],delete this.timeTable[e])},t.prototype.clear=function(){Object.values(this.watermarks).forEach((function(e){return e[0].destroy()})),this.watermarks={},this.timeTable={}},t.prototype.get=function(e){return this.watermarks[e]},t.prototype.schedule=function(e,t,n){this.timeTable[e]?this.timeTable[e].push({start:t,end:n}):this.timeTable[e]=[{start:t,end:n}]},t.prototype.unschedule=function(e){var t;delete this.timeTable[e];var n=(null!==(t=this.watermarks[e])&&void 0!==t?t:[])[0];null==n||n.hide()},t.prototype.destroy=function(){var t,n;window.removeEventListener("resize",this.onResize),this.player.off(S.FULLSCREEN_CHANGE,this.onResize),e.prototype.destroy.call(this),this.mutationObserver.disconnect(),this.mutationObserver=null,(null===(t=this.$watermarkContainer)||void 0===t?void 0:t.parentNode)&&(null===(n=this.$watermarkContainer)||void 0===n||n.remove())},t.prototype.hookPlaySessionStart=function(){this.clear()},t.prototype.hookVideoTimeupdate=function(e){var t=this,n=e.playtime;Object.entries(this.timeTable).forEach((function(e){var r=e[0],o=e[1],i=t.watermarks[r][0];i&&(o.some((function(e){var t=e.start,r=e.end;return n>t&&n<(void 0===r?1/0:r)}))?i.show():i.hide())}))},t.prototype.initMutationObserver=function(){var e=this;this.mutationObserver&&this.mutationObserver.disconnect(),this.mutationObserver=new MutationObserver((function(t){e.checkIsCoverWatermarkRemoved()})),this.mutationObserver.observe(this.player.container,{childList:!0,subtree:!0,attributes:!0})},t.prototype.checkIsCoverWatermarkRemoved=function(){if(this.coverWatermarkParam){var e=this.player.container.querySelector("."+Es);(null==e?void 0:e.offsetParent)||this.watermarkThis.apply(this,this.coverWatermarkParam)}},t.prototype.setupPlayerEvents=function(){var e=this;this.msg.on(jr.GETINFO_OVER,(function(t){var n=t.data;e.watermarkLoadingDefer=new Promise((function(t){return f(e,void 0,void 0,(function(){var e,r,o,i,a,s,l,c,u;return h(this,(function(d){switch(d.label){case 0:if(!(e=n.parseData))return[2];r=e.watermarkList,o=e.supplementaryInfo,i=(o||{}).contentInfo,a=(i||{}).protectionWatermark,this.config.enableProtectionWatermark&&a&&this.watermarkThis(a),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Is(null===(u=r)||void 0===u?void 0:u.action,1e3*e.duration)];case 2:return c=d.sent(),s=Object.keys(c.watermarks).map((function(e){return c.watermarks[e]})),l=c.schedules,[3,4];case 3:return d.sent(),[3,4];case 4:return s||(s=e.watermarkList.wi),t([s,l]),[2]}}))}))}))})),this.player.on(Hr.VIDEO_PLAYING,(function(t){var n=t.data;return f(e,void 0,void 0,(function(){var e,t,r;return h(this,(function(o){switch(o.label){case 0:return n.isFirst?this.watermarkLoadingDefer?(t=(e=this.addPendingData).apply,r=[this],[4,this.watermarkLoadingDefer]):[3,2]:[2];case 1:t.apply(e,r.concat([o.sent()])),o.label=2;case 2:return[2]}}))}))})),this.player.on(Hr.VIDEO_SETLEVEL_END,(function(t){var n=t.data;return f(e,void 0,void 0,(function(){var e,t,r;return h(this,(function(o){switch(o.label){case 0:return n.code!==Ur.SUC?[2]:(this.clear(),this.watermarkLoadingDefer?(t=(e=this.addPendingData).apply,r=[this],[4,this.watermarkLoadingDefer]):[3,2]);case 1:t.apply(e,r.concat([o.sent()])),o.label=2;case 2:return[2]}}))}))}))},t.prototype.addPendingData=function(e,t){var n=this;e&&e.forEach((function(e){return n.add(e,!e.action)})),t&&Object.keys(t).forEach((function(e){return t[e].forEach((function(t){return n.schedule(e,t.start,t.end)}))})),this.watermarkLoadingDefer=null},t.prototype.prepareDom=function(){var e=this.player.container;e.insertAdjacentHTML("beforeend",'<txpdiv data-role="txp-ui-watermark-mod" class="txp-watermark">\n</txpdiv>'),this.$watermarkContainer=e.querySelector('[data-role="txp-ui-watermark-mod"]')},t.prototype.isInScreen=function(e,t){var n=e.x,r=e.y,o=e.w,i=e.h,a=t.x,s=t.y,l=t.w,c=t.h;return!(a<n)&&(!(s<r)&&(!(a>n+o-l)&&s<=r+i-c))},t.prototype.listenFakeFullscreen=function(){var e=this;this.msg.on("pluginsetup:ctrlbar",(function(){e.player.plugins.ctrlbar.on("browserFullscreenChange",e.onResize)}))},t.pluginName="ui-watermark",t}($r);Fi.registerPlugin(ws.pluginName,ws);var Ss,xs=function(){function e(){var e=this;this.MAX_RETRY_TIMES=-1,this.markContext="last=0",this.pollInterval=3e4,this.reqData=null,this.timeout=5e3,this.loadInfo=function(){if(e.reqData){e.reqData.markContext=encodeURIComponent(e.markContext),e.reqData.tm=+new Date,e.reqData.vappid="31678259",e.reqData.vsecret="1e029a67beb2d7e7e7bb8321fb161a46fe76c7837beb2cee",e.reqData.otype="json",e.reqData.raw="1";var t={url:"https://zbaccess.video.qq.com/fcgi/live_poll?"+Ee.object2string(e.reqData,"&")};return-1!==e.timeout&&(t.timeout=e.timeout),Fe.xhr(t).then(e.onCGIComplete).catch((function(t){throw e.onCGIError(t),t}))}},this.onCGIComplete=function(t){var n,r;e.clearTimer(),e.errorRetryTimes=0;try{r=JSON.parse(null==t?void 0:t.data).data}catch(i){e.onCGIError(i)}if(0===(null==r?void 0:r.errCode)){var o=Number(r.pollTimeOut);!isNaN(o)&&o>0&&(e.pollInterval=1e3*o),e.pollTimerID=window.setTimeout(e.loadInfo,e.pollInterval),null===(n=e.onCallback)||void 0===n||n.call(e,null,r),r.markContext&&(e.markContext=r.markContext)}else e.onCGIError(r)}}return e.prototype.start=function(e,t){return void 0===e&&(e={}),this.reqData=e,this.errorRetryTimes=0,this.onCallback=t,this.loadInfo()},e.prototype.dispose=function(){this.clearTimer(),this.reqData=null,this.onCallback=null},e.prototype.onCGIError=function(e){var t;this.clearTimer(),this.errorRetryTimes+=1,-1===this.MAX_RETRY_TIMES||this.errorRetryTimes<=this.MAX_RETRY_TIMES?this.pollTimerID=window.setTimeout(this.loadInfo,this.pollInterval):null===(t=this.onCallback)||void 0===t||t.call(this,e,null)},e.prototype.clearTimer=function(){this.pollTimerID>0&&(clearTimeout(this.pollTimerID),this.pollTimerID=0)},e}();!function(e){e[e.READY=1]="READY",e[e.PLAYING=2]="PLAYING",e[e.OVER=3]="OVER"}(Ss||(Ss={}));var Ps="statusChange",Ts=function(e){function t(t,n){var r=e.call(this,t)||this;r.status=Ss.READY,r.poller=new xs,r.destory=function(){return r.poller.dispose()},r.handlerLivePollData=function(e,t){if(!e&&t){var n=Number(t.liveStatus);n!==r.status&&(r.emit(Ps,{old:r.status,new:n,raw:t}),n===Ss.OVER&&(r.player.stop(),r.destory())),r.status=n}},r.config=u(u({},t.config.livepollConfig),n);var o=r.config,i=o.livepid,a=o.autolisten,s=void 0===a||a,l=o.timeout,c=void 0===l?5e3:l;return r.poller.timeout=c,i&&(r.livepid=i),s&&(t.addListener(S.FIRST_PLAYING,(function(){return r.request()})),t.addListener(S.STOPED,r.destory)),r}return c(t,e),t.prototype.request=function(e){var t,n;if((null==e?void 0:e.livepid)&&(this.livepid=e.livepid),this.poller.dispose(),this.livepid)return this.poller.start({pollDataKey:encodeURIComponent("pid="+this.livepid),needMarkInfo:1,qqlog:(t=ye.get("uin")||ye.get("luin"),n=parseInt(t.replace(/^o0*/g,""),10),isNaN(n)||n<=1e4?0:n),guid:this.player.getCommonKv("guid")},this.handlerLivePollData)},t.pluginName="live-poll",t}($r);Fi.registerPlugin(Ts.pluginName,Ts);!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}("@-webkit-keyframes txp_loading{0%{background-position:0 0}to{background-position:0 -600px}}@keyframes txp_loading{0%{background-position:0 0}to{background-position:0 -600px}}.txp_overlay_loading{position:absolute;left:0;top:0;width:100%;height:100%;z-index:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;pointer-events:none}.txp_overlay_loading.txp_none,.txp_overlay_loading .txp_none{display:none}.txp_overlay_loading .txp_icon_loading{display:block;width:54px;height:20px;margin:0 auto 10px;background:url(https://vm.gtimg.cn/tencentvideo/txp/style/img/loading.png) 0 0 no-repeat;background-size:54px 600px;-webkit-animation:txp_loading 1s steps(30) infinite;animation:txp_loading 1s steps(30) infinite}.txp_overlay_loading .txp_icon_loading.mobile{-webkit-transform:scale(.5);transform:scale(.5);margin:0 auto}");var Ds="txp_none",Os=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.show=function(e){void 0===e&&(e=""),o.$continuePlay.innerHTML=e,o.$el.classList.remove(Ds)},o.hide=function(){o.$el.classList.add(Ds)},o.insertDOM(),t.on(S.SET_LOADING,(function(e){var t=e.data.show;o.player.setStateKv("ui-loading:"+(t?"show":"hide"),{type:ao.PLUGIN_ACTION}),t?o.show():o.hide()})),o}return c(t,e),t.prototype.prependElement=function(e){var t;null===(t=this.$el)||void 0===t||t.insertAdjacentElement("afterbegin",e)},t.prototype.insertDOM=function(){var e,t=this.player.container;t.insertAdjacentHTML("beforeend",'<div class="txp_overlay_loading txp_none">\n<div class="txp_text" data-role="txp-ui-continue-play"></div>\n<div class="txp_icon_loading" data-role="txp-ui-loading"></div>\n</div>'),this.$el=t.querySelector(".txp_overlay_loading"),this.$continuePlay=t.querySelector('[data-role="txp-ui-continue-play"]'),this.$loading=t.querySelector('[data-role="txp-ui-loading"]'),(null===(e=this.config)||void 0===e?void 0:e.useMobileStyle)&&this.$loading.classList.add("mobile")},t.pluginName="ui-loading",t}($r);Fi.registerPlugin(Os.pluginName,Os);n(2707),n(5069),n(7145),n(5109),n(5125),n(4197),n(6495),n(4363),n(3123),n(545);var Ns,Rs,ks=function(){function e(e,t){this.player=e,this.tvk=t,this.config=t.config}return e.prototype.destroy=function(){this.player=null,this.tvk=null},e.prototype.log=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.tvk.logger).log.apply(e,g(["[".concat(this.constructor.moduleName,"]")],t,!1))},e.prototype.warn=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.tvk.logger).warn.apply(e,g(["[".concat(this.constructor.moduleName,"]")],t,!1))},e.prototype.error=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.tvk.logger).error.apply(e,g(["[".concat(this.constructor.moduleName,"]")],t,!1))},e.moduleName="base-controller",e}(),Ls=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.audioTrackInfoFromServer=[],t.drmType=void 0,t.onGetInfoOver=function(e){var n,r,o=e.data,i=o.parseData,a=o.error,s=o.resData,l=o.urlConfig;!a&&i&&l?(t.drmType=null===(n=l.drmConfig)||void 0===n?void 0:n.keySystem,t.audioTrackInfoFromServer=null===(r=null==i?void 0:i.additionalTrackInfo)||void 0===r?void 0:r.altAudioTrack):t.log("no parsed info found from getvinfo",a,s)},t.onVideoSetLevelOver=function(e){if(e.data,t.player.currentVideoInfo){var n=t.player.currentVideoInfo.currentAudioTrack;t.configureDataSet(null,n)}},t.onHlsManifestParsed=function(e){var n=e.data,r=n.playerInstanceId,o=n.audioTracks,i=void 0===o?[]:o;r===t.player.config.instanceId&&0!==i.length&&(t.drmType===tt.Widevine&&(i[0].default=!0),t.configureDataSet(t.updateAudioTrackInfo(i),null))},t.onVideoCanPlay=function(){if(t.player.currentVideoInfo){var e=t.player.currentVideoInfo.currentAudioTrack;t.configureDataSet(null,e)}},t.updateAudioTrackInfo=function(e){var n,r,o;if(!e.length||!t.audioTrackInfoFromServer)return null;var i=t.audioTrackInfoFromServer.find((function(e){return-1===e.id})),a=i?{value:i.id,btnLabel:null!==(n=i.name)&&void 0!==n?n:"",label:null!==(r=i.displayName)&&void 0!==r?r:"",payload:null!==(o=i.displayName)&&void 0!==o?o:""}:null,s=e.map((function(e){var n,r,o,i=t.audioTrackInfoFromServer.find((function(t){return t.name===e.name||t.name===e.lang}));return i?{value:e.id,btnLabel:null!==(n=i.name)&&void 0!==n?n:"",label:null!==(r=i.displayName)&&void 0!==r?r:"",payload:null!==(o=i.displayName)&&void 0!==o?o:""}:null})).concat(a).filter((function(e){return!!e}));return t.player.currentVideoInfo.audioTracks=s.map((function(e){return{name:e.btnLabel,id:e.value}})),s},t.onAudioTrackSwitching=function(e){t.configureDataSet(null,e.data.id)},t.onAudioTrackSwitched=function(e){e.data.fail||t.configureDataSet(null,e.data.id)},t}return c(t,e),Object.defineProperty(t.prototype,"ready",{get:function(){return Promise.resolve(!0)},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.setupPlayerEventListeners(),this.log("init success")},t.prototype.destroy=function(){this.removePlayerEventListeners(),this.audioTrackInfoFromServer=void 0,this.drmType=void 0,e.prototype.destroy.call(this)},t.prototype.configureDataSet=function(e,t){e&&(this.log("setting audioTrack options to player",e),this.player.setCommonKv(go.currentAudioTrackList,e)),"number"==typeof t&&(this.log("setting current audioTrack to player",t),this.player.setCommonKv(go.currentAudioTrack,t))},t.prototype.setupPlayerEventListeners=function(){this.player.pluginMsg.on(jr.GETINFO_OVER,this.onGetInfoOver),this.player.on(S.SET_AUDIO_TRACK_START,this.onAudioTrackSwitching),this.player.on(S.SET_AUDIO_TRACK_OVER,this.onAudioTrackSwitched),this.player.on(Hr.VIDEO_CANPLAY,this.onVideoCanPlay),this.player.on(Hr.VIDEO_SETLEVEL_END,this.onVideoSetLevelOver),dn.on("hlsManifestParsed",this.onHlsManifestParsed)},t.prototype.removePlayerEventListeners=function(){this.player.pluginMsg.off(jr.GETINFO_OVER,this.onGetInfoOver),this.player.off(S.SET_AUDIO_TRACK_START,this.onAudioTrackSwitching),this.player.off(S.SET_AUDIO_TRACK_OVER,this.onAudioTrackSwitched),this.player.off(Hr.VIDEO_CANPLAY,this.onVideoCanPlay),this.player.off(Hr.VIDEO_SETLEVEL_END,this.onVideoSetLevelOver),dn.off("hlsManifestParsed",this.onHlsManifestParsed)},t.moduleName="audio-track-controller",t}(ks);function Bs(e){var t={spsfrhdr:0,spvideo:0,spaudio:0,defnpayver:0};return e.indexOf(Ns.FHD)>-1&&(t.defnpayver|=1),e.indexOf(Ns.UHD)>-1&&(t.defnpayver|=2),vt.supportHevc()&&vt.isHDRSupported()===B.SUPPORTED&&(e.indexOf(Ns.HDR10)>-1&&(t.spvideo|=4,t.defnpayver|=4),e.indexOf(Ns.SFR_HDR)>-1&&(t.spvideo|=4,t.spaudio|=64,t.spsfrhdr=100,t.defnpayver|=4),ee.browser.safari&&!ee.mobile&&e.indexOf(Ns.DOLBY)>-1&&vt.isDolbyAtomsSupported()&&vt.isDolbyVisionSupported()&&(t.spaudio|=4,t.spvideo|=16,t.defnpayver|=4)),t}function Ms(e,t,n){var r={prefix:"",suffix:"",content:""};return(null==n?void 0:n.prefix)&&(r.prefix="function"==typeof n.prefix?n.prefix(e):void 0),(null==n?void 0:n.suffix)&&(r.suffix="function"==typeof n.suffix?n.suffix(e):void 0),(null==n?void 0:n.content)&&(r.content="function"==typeof n.content?n.content(e):void 0),t?Qs(e,!0,r):function(e,t){var n=e.name;return n===Ns.HDR10||n===Ns.SFR_HDR||n===Ns.DOLBY?function(e,t,n){var r,o=e.name,i=e.resolution,a=e.cname,s=e.lmt,l=e.sname,c=Us(a,!1)[0],u=void 0===c?"":c,d=n.suffix||(s?js:void 0),p=n.prefix||function(e,t){var n=document.createElement("div");n.className="tp-defn-option-icon-container",t&&Object.entries(t).forEach((function(e){var t=e[0],r=e[1];n.style[t]=r}));return n.innerHTML=e,n.outerHTML}(Hs[t],{width:"30px"}),f=((r={})[Ns.DOLBY]=i,r[Ns.HDR10]=function(e){var t=Fs({alignItems:"center",width:"100%"});t.textContent=e;var n=Fs({transform:"scale(0.8)"});return n.innerHTML=Ks,t.insertAdjacentElement("beforeend",n),t.outerHTML}(l.substring(0,2)),r[Ns.SFR_HDR]=i,r);return{label:Vs(u,p,d),btnLabel:f[t],value:o,payload:i}}(e,n,t):Qs(e,!1,t)}(e,r)}function Qs(e,t,n){var r,o,i=e.cname,a=e.name,s=e.lmt,l=Us(i,t),c=l[0],u=void 0===c?"":c,d=l[1],p=void 0===d?"":d,f=n.suffix||(s?js:void 0),h=n.content||"".concat(p," ").concat(u);return{label:ee.mobile?(r=p,o=u,"<div>".concat(o,"<div><div>").concat(r,"</div>")):Vs(h,n.prefix,f),btnLabel:p,value:a,payload:"".concat(p," ").concat(u)}}function Vs(e,t,n){var r=Fs({alignItems:"center"});t&&r.insertAdjacentHTML("afterbegin",t);var o=Fs();return o.innerHTML=e,r.appendChild(o),n&&r.insertAdjacentHTML("beforeend",n),r.outerHTML}function Fs(e){var t=document.createElement("div");return t.style.display="flex",e&&Object.keys(e).forEach((function(n){t.style[n]=e[n]})),t}function Us(e,t){if(void 0===t&&(t=!1),t)return function(e){if(!(null==e?void 0:e.length))return["",""];var t=e.split(" "),n=t[0],r=t[1];return[n,r]}(e);if(!(null==e?void 0:e.length))return["",""];var n=e.match(/(.*);\((.*)\)/);return n&&n.length>=3?[n[1],n[2]]:["",e]}!function(e){e.FHD="fhd",e.UHD="uhd",e.DOLBY="dolby",e.HDR10="hdr10",e.SFR_HDR="sfr_hdr"}(Ns||(Ns={}));var Ks='<svg class="tp-hdr-prefix-icon" width="12" height="14" viewBox="0 0 12 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n <path d="M0 14.4449L0.02931 12.2882L8.90291 1.4655H0.271117V0H12L0 14.4449Z" fill="currentColor"/>\n <path d="M11.8315 15.7615H0.102661L11.7925 1.72937L11.7778 4.04974L3.19975 14.296H11.8315V15.7615Z" fill="currentColor"/>\n <path d="M11.9 12.0219H8.03349L11.9 7.40312V5.12915L4.9364 13.4874H11.9V12.0219Z" fill="currentColor"/>\n </svg>',js='<div style="margin-left: 6px; padding: 0 2px;transform: scale(0.8);border: 1px solid #fc3f4c;border-radius: 2px;color: #fc3f4c;font-size: 12px;letter-spacing: 1px;line-height: 14px;text-align: center;">VIP</div>',Hs=((Rs={})[Ns.DOLBY]='<svg class="tp-dolby-prefix-icon" width="22" height="14" viewBox="0 0 22 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n <path fill-rule="evenodd" clip-rule="evenodd" d="M0.714233 1.14282C0.714233 0.590537 1.16195 0.142822 1.71423 0.142822H20.2857C20.8379 0.142822 21.2857 0.590537 21.2857 1.14282V12.8571C21.2857 13.4094 20.8379 13.8571 20.2857 13.8571H1.71423C1.16195 13.8571 0.714233 13.4094 0.714233 12.8571V1.14282ZM2.42852 1.85711H4.99995C7.84027 1.85711 10.1428 4.15965 10.1428 6.99997C10.1428 9.84028 7.84027 12.1428 4.99995 12.1428H2.42852V1.85711ZM16.9999 1.85711C14.1596 1.85711 11.8571 4.15965 11.8571 6.99997C11.8571 9.84028 14.1596 12.1428 16.9999 12.1428H19.5714V1.85711H16.9999Z" fill="currentColor"/>\n </svg>',Rs[Ns.HDR10]=Ks,Rs[Ns.SFR_HDR]=Ks,Rs),qs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.useKernelLevel=!0,t.onVideoPlaying=function(e){var n=e.data.isFirst,r=t.player.currentVideoInfo||{},o=r.levels,i=r.currentLevel,a=r.isAutoLevel;if(n&&t.useKernelLevel&&(null==o?void 0:o.length)&&i){var s=o.sort((function(e,t){return t.bitrate-e.bitrate})).map((function(e){return t.parseKernelLevel(e)}));t.isEnableAbrLevel()&&s.length>1&&s.push(u(u({},Ys),{url:o[0].url})),t.configureDataSet(s,String(a?Ys.value:i.id))}},t.onGetInfoOver=function(e){var n,r=e.data,o=r.parseData,i=r.error;if(!i&&o){var a=o.definitionList;if(a){var s=[],l=(null===(n=a.find((function(e){return 1===e.sl})))||void 0===n?void 0:n.name)||null;a.forEach((function(e){if(t.shouldExecuteUHDHijack(e.name))s.push(t.builtUHDClientOption(e));else{var n=Ms(e,t.player.config.type===A.LIVE,t.config.definitionOptionDecorator);s.push(n)}})),t.useKernelLevel=!1,t.configureDataSet(s,l)}else t.log("no definitionList found from getvinfo",a)}else t.log("no parsed info found from getvinfo",i,o)},t.onCtrlbarSetLevel=function(e){var n=((null==e?void 0:e.data)||{}).value;if(t.shouldExecuteUHDHijack(n))return t.log("intercept uhd level switch in no hevc support environment, call native client"),t.tvk.emit("tvkRequireClient",{detail:"notSupportUHD"}),Je.STOP_IMMEDIATE_PROPAGATION},t}return c(t,e),Object.defineProperty(t.prototype,"ready",{get:function(){return Promise.resolve(!0)},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.ctrlbarPlugin=this.player.plugins[vi.CTRLBAR],this.setupPlayerEventListeners(),this.log("init success")},t.prototype.destroy=function(){this.removePlayerEventListeners(),e.prototype.destroy.call(this)},t.prototype.configureDataSet=function(e,t){e&&(this.log("setting definition options to player",e),this.player.setCommonKv(go.currentDefnList,e)),t&&(this.log("setting current definition to player",t),this.player.setCommonKv(go.currentDefn,t))},t.prototype.parseKernelLevel=function(e){var t=e.name,n=e.id,r=e.url;return{value:n,label:t,payload:t,btnLabel:t,url:e.masterUrl||r}},t.prototype.isEnableAbrLevel=function(){return this.player.kernelName===K.HLS_JS&&this.player.config.hlsjsKernelConfig.enableAbrLevel},t.prototype.setupPlayerEventListeners=function(){var e;this.player.pluginMsg.on(jr.GETINFO_OVER,this.onGetInfoOver),null===(e=this.ctrlbarPlugin)||void 0===e||e.on(Gs,this.onCtrlbarSetLevel,Number.MAX_SAFE_INTEGER),this.player.on(Hr.VIDEO_PLAYING,this.onVideoPlaying)},t.prototype.removePlayerEventListeners=function(){var e;this.player.pluginMsg.off(jr.GETINFO_OVER,this.onGetInfoOver),null===(e=this.ctrlbarPlugin)||void 0===e||e.off(Gs,this.onCtrlbarSetLevel)},t.prototype.builtUHDClientOption=function(e){return Ms(e,!1,u(u({},this.config.definitionOptionDecorator),{content:function(e){return"\u5ba2\u6237\u7aef ".concat(e.resolution)}}))},t.prototype.shouldExecuteUHDHijack=function(e){return e===Ns.UHD&&this.config.showUHDClientGuide&&!vt.supportHevc()},t.moduleName="definition-controller",t}(ks),Gs="ctrl:set-level",Ys={value:"abr",btnLabel:"\u81ea\u52a8",label:"\u81ea\u52a8",payload:"\u81ea\u52a8"},Ws={debug:!1,definitionController:qs,audioTrackController:Ls},zs=/#EXT-X-DISCONTINUITY/;function Js(e,t){if(!t||0===t.length)return[e,[]];for(var n=[],r=e.split(/[\r\n]/),o=0,i=!1,a=[];o<r.length;){if(zs.test(r[o])){if(i){a.push(o),n.push(a),a=[],i=!1,o+=1;continue}a.push(o),i=!0}o+=1}var s,l,c,d,p,f=(s=t.slice().sort((function(e,t){return e.start-t.start})).map((function(e,t){return u(u({},e),{m3u8:n[t]?r.slice(n[t][0],n[t][1]+1).join("\n"):""})})),l=[],c=s[0].start,d=-1,p=s[0].m3u8,s.forEach((function(e){var t=e.start,n=e.end,r=e.m3u8;if(t<=d)return d=n,void(p="".concat(p,"\n").concat(r));d>=0&&l.push({start:c,end:d,m3u8:"".concat(Zs).concat(p,"\n").concat(Xs)}),c=t,d=n,p=r})),l.push({start:c,end:d,m3u8:"".concat(Zs).concat(p,"\n").concat(Xs)}),l);return[r.filter((function(e,t){return!n.some((function(e){return t>=e[0]&&t<=e[1]}))})).join("\n"),f]}var Zs="#EXTM3U\n#EXT-X-VERSION:3\n#EXT-X-MEDIA-SEQUENCE:0\n#EXT-X-PLAYLIST-TYPE:VOD\n",Xs="#EXT-X-ENDLIST\n",$s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onGetInfoOver=function(e){var n,r,o,i=e.data,a=i.resData,s=i.parseData;if(0===(null==a?void 0:a.em)){var l=[];if(a.play){var c=a.play,u=c.master,d=c.keyid,p=c.audiolist,f=void 0===p?[]:p,h=c.videolist,g=void 0===h?[]:h,v=c.masterurl,A=void 0===v?[]:v;return d&&u&&(t.context.m3u8[d]=u),d&&A.forEach((function(e){t.context.keyid[e]=d})),g.forEach((function(e){t.context.m3u8[e.keyid]=e.m3u8})),f.forEach((function(e){t.context.m3u8[e.keyid]=e.m3u8})),a.vl.vi[0].ul.ui.forEach((function(e){t.context.keyid[e.url]="".concat(a.vl.vi[0].keyid,".hls"),l.push(e.url)})),void t.configHlsjsKernel({externalRedundantUrls:l})}if(8===a.dltype){var y=a.vl.vi[0].ul.m3u8,_=a.vl.vi[0].keyid;if(ee.browser.safari){var m=Js(y,null===(r=null===(n=null==s?void 0:s.supplementaryInfo)||void 0===n?void 0:n.contentInfo)||void 0===r?void 0:r.ad),E=m[0],I=m[1];t.context.m3u8[_]=E,I.forEach((function(e,n){var r="".concat(_,".ad.").concat(n);t.context.m3u8[r]=e.m3u8}))}else t.context.m3u8[_]=y;return null===(o=null==s?void 0:s.urls)||void 0===o||o.forEach((function(e){el.test(e.url)||(l.push(e.url),5!==t.player.getCommonKv(go.drm)&&(t.context.keyid[e.url]=_))})),void t.configHlsjsKernel({externalRedundantUrls:l})}}},t.onPlaySessionEnd=function(){t.resetContext()},t.onHlsManifestParsed=function(e){var n=e.data,r=n.playerInstanceId,o=n.audioTracks,i=void 0===o?[]:o,a=n.levels,s=void 0===a?[]:a;r===t.player.config.instanceId&&(i.forEach((function(e){var n=tl(e);n&&(t.context.keyid[e.url]=n)})),s.forEach((function(e){var n=tl(e);n&&(t.context.keyid[e.url]=n)})))},t}return c(t,e),Object.defineProperty(t.prototype,"ready",{get:function(){return Promise.resolve(!0)},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.resetContext(),this.configHlsjsKernel({pProxy:this.lookupCache.bind(this)}),this.setupEventListeners()},t.prototype.destroy=function(){this.removeEventListeners(),this.resetContext(),e.prototype.destroy.call(this)},t.prototype.setupEventListeners=function(){this.player.pluginMsg.on(jr.GETINFO_OVER,this.onGetInfoOver),this.player.pluginMsg.on(jr.PRELOAD_GETINFO_OVER,this.onGetInfoOver),this.player.on(Hr.PLAY_SESSION_END,this.onPlaySessionEnd),dn.on("hlsManifestParsed",this.onHlsManifestParsed)},t.prototype.removeEventListeners=function(){this.player.pluginMsg.off(jr.GETINFO_OVER,this.onGetInfoOver),this.player.pluginMsg.off(jr.PRELOAD_GETINFO_OVER,this.onGetInfoOver),this.player.off(Hr.PLAY_SESSION_END,this.onPlaySessionEnd),dn.off("hlsManifestParsed",this.onHlsManifestParsed)},t.prototype.resetContext=function(){this.log("reset context"),this.context={m3u8:{},keyid:{}}},t.prototype.configHlsjsKernel=function(e){void 0===e&&(e={});var t=Object.assign({},this.player.config.hlsjsKernelConfig,e);this.player.config.hlsjsKernelConfig=t},t.prototype.lookupCache=function(e){this.log("proxy download",e,this.context);var t=this.getKeyIdFromUrl(e);return t?this.lookupByKeyId(t):(this.log("no keyid found for url",e),null)},t.prototype.getKeyIdFromUrl=function(e){for(var t;null!==(t=el.exec(e));)return t[1];return this.context.keyid[e]},t.prototype.lookupByKeyId=function(e){var t=this.context.m3u8[e];return t?(this.log("m3u8 found for keyid, network request skipped",e),t):(this.log("no m3u8 found for keyid",e),null)},t.moduleName="network-controller",t}(ks),el=/keyid:\/\/([0-9a-zA-Z.]+).m3u8/;function tl(e){var t,n=e.tags;return n?null===(t=n.find((function(e){return"EXT-QQHLS-STREAM-KEYID"===e[0]})))||void 0===t?void 0:t[1]:null}var nl,rl=function(){var e=ye.get("luin")||ye.get("uin");return e&&(e=e.replace(/\D/g,"").replace(/^0+/,"")),e},ol=function(){var e,t=document.location.toString().toLowerCase();if(e=["ptag","adtag","pgv_ref"].find((function(e){return Ee.getUrlParamByKey(t,e)})),e)return e;try{e=sessionStorage.getItem("ptag")}catch(qe){}if(e)return e;var n=Ee.getDomainOfURL(document.referrer);return["v.qq.com","film.qq.com","m.v.qq.com"].includes(n)||(e=n.replace(/\./g,"_")),e||(e=ye.get("ptag"))};function il(e){return te.safelyStringify(e).replace(/,/g,"\\,")}function al(e,t){return void 0===t&&(t=!1),isNaN(e)||!isFinite(e)?0:t?Math.round(+e):+e}!function(e){e[e.none=0]="none",e[e.wx=3]="wx",e[e.qq=1]="qq"}(nl||(nl={}));var sl,ll="zae00003007",cl="2345779398",ul="zbb00003101",dl="3917576196",pl={iQQ:"",sid:go.vid,pid:go.livepid,playno:go.flowid,guid:go.guid,ctime:"",sdtfrom:go.sdtfrom,surl:"",sref:"",flashver:"",fplayerver:go.playerver,P2PVer:"",vurl:"",tpay:"",cpay:"",ptag:"",adid:"",playtime:"",error_code:"",drm:go.drmtype,rest_preview_cnt:"",hc_main_login:go.hc_main_login,hc_openid:go.hc_openid,hc_vuserid:go.hc_vuserid,hc_appid:go.hc_appid,extrainfo:"",platform:go.platform},fl=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;o.FLOW_DATA_KEY="",o.REPORT_URL="//h.trace.qq.com/bosskv?",o.step5Timer=null,o.started=!1,o.setEvtHandler=function(){o.msg.on(jr.DATASET_STATE_UPDATE,o.onStateChange)},o.onStateChange=function(e){var t,n=e.data,r=n.key,i=((t={})[io.LOAD_END]=o.step6,t[io.SET_LEVEL_START]=o.step8,t[io.GET_INFO_END]=o.step4,t[io.SESSION_END]=o.onEnd,t[io.SESSION_START]=o.start,t);i[r]&&i[r](n)},o.start=function(){o.started=!0,o.step3()},o.step3=function(){o.report({step:"3",val:0,val1:0,val2:0}),o.step5Timer=setInterval((function(){o.step5()}),6e4)},o.step4=function(e){var t=e.newVal,n=void 0===t?{}:t,r=e.startEvent,i=void 0===r?{}:r,a={val:n.ftime-i.ftime,val1:0,val2:0};o.reportedEvt.step4||(o.reportedEvt.step4=!0,o.report(u({step:"4"},a))),o.report(u({step:"1100"},a))},o.step5=function(){o.report({step:"5",val:6e4,val1:0,val2:0})},o.step6=function(e){var t=e.newVal,n=void 0===t?{}:t,r=e.startEvent,i=void 0===r?{}:r,a={step:"6",val:n.ftime-i.ftime,val1:o.reportedEvt.step7?1:0,val2:0};o.report(a)},o.step7=function(){o.report({step:"7",val:0,val1:0,val2:0})},o.step8=function(){o.report({step:"8",val:0,val1:0,val2:0})},o.onEnd=function(){o.step5Timer&&(clearInterval(o.step5Timer),o.step5Timer=null),o.reportedEvt={}};var i=t.config.liveFlowReporterConfig;return o.config=u({paramsKey:u(u({},pl),(null==i?void 0:i.paramsKey)||{}),onBeforeReport:i.onBeforeReport,forceImage:i.forceImage},ee.mobile?{id:ul,token:dl}:{id:ll,token:cl}),o.setEvtHandler(),o}return c(t,e),Object.defineProperty(t.prototype,"reportHeader",{get:function(){var e,t=this.config.paramsKey,n=void 0===t?{}:t,r=this.player.getCommonKv;return{attaid:this.config.id,token:this.config.token,iQQ:r(n.iQQ)||rl(),sid:r(n.sid)||"",pid:r(n.pid)||"",playno:r(n.playno),guid:r(n.guid)||"",ctime:J.Z.dateFormat(void 0,void 0),sdtfrom:r(n.sdtfrom)||"",surl:r(n.surl)||location.href,sref:r(n.sref)||document.referrer,flashver:r(n.flashver)||"",fplayerver:r(n.fplayerver)||"",P2PVer:r(n.P2PVer)||"",vurl:r(n.vurl)||(null===(e=this.player.currentVideoInfo)||void 0===e?void 0:e.loadingUrl),tpay:r(n.tpay)||0,cpay:r(n.cpay)||0,ptag:r(n.ptag)||"",adid:r(n.adid)||"",playtime:r(n.playtime)||0,error_code:r(n.error_code)||0,rest_preview_cnt:r(n.rest_preview_cnt)||-1,hc_main_login:r(n.hc_main_login)||"",hc_openid:r(n.hc_openid)||"",hc_vuserid:r(n.hc_vuserid)||"",hc_appid:r(n.hc_appid)||"",extrainfo:r(n.extrainfo)||"",platform:r(n.platform)||"",playertype:1,drm:r(n.drm)||0,kernel:this.player.kernelName}},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.step5Timer&&(clearInterval(this.step5Timer),this.step5Timer=null)},t.prototype.reportAd=function(){this.step7()},t.prototype.report=function(t){this.started&&e.prototype.report.call(this,t)},t.pluginName="live-flow-reporter",t}(ei),hl={progid:"",playno:go.flowid,guid:go.guid,sip:"",iqq:"",hh_ua:go.ua,cdn:"",sdtfrom:go.sdtfrom,loadingtime:"",blocktime:"",blockcount:"",prdlength:"",platform:go.platform,errorcode:"",dsip:"",durl:"",firstreport:"",sUrl:go.url,sRef:go.referrer,fplayerver:go.playerver,livepid:go.livepid,viewid:"",seq:"",cmd:"",fullecode:"",live_type:"",geturltime:"",playtime:"",ispay:"",isuserpay:"",switch:"",lookback:"",nettype:"",freetype:"",https:"",downspeed:"",vip_type:"",playertype:"",pvid:"",login_type:"",open_id:go.hc_openid,live_delay:"",use_p2p:go.p2p,p2p_play:"",p2pver:go.p2pver},gl="0AND0F8T5N4N7QT0",vl="0DOU0M38AT4C4UVD",Al=function(e){function t(t,n,r){var o,i,a=e.call(this,t,n,r)||this;a.periodTickTimer=0,a.currentPeriodStartTime=0,a.isInPlayback=0,a.lastSid=0,a.loadCost=0,a.redirectCost=0,a.bufferCount=0,a.redirectStartTime=0,a.bufferDuration=0,a.reported=!1,a.delay=0,a.seq=0,a.errCode=Ur.SUC,a.keyMapping=u(u({},hl),null===(o=t.config.liveFlyReporterConfig)||void 0===o?void 0:o.paramsKey);var s=null===(i=t.config.liveFlyReporterConfig)||void 0===i?void 0:i.isOversea,l={appKey:s?vl:gl,isOversea:s};return a.REPORT_KEY=l.appKey,a.bindEventHandlers(),ti.register(l),a.reporter=ti.report,a.cachedVideoInfo=El(),a}return c(t,e),Object.defineProperty(t.prototype,"reportHeader",{get:function(){var e=this,t=e.player,n=e.keyMapping,r=e.cachedVideoInfo,o=t.currentVideoInfo,i=(null==o?void 0:o.loadingUrl)||"",a=this.getAuthInfo(),s=a.pvid,l=a.loginType;return{progid:r.liveSid||0,playno:t.getCommonKv(n.playno)||"",guid:t.getCommonKv(n.guid)||"",sip:t.getCommonKv(n.sip)||"0.0.0.0",iqq:t.getCommonKv(n.iqq)||0,hh_ua:t.getCommonKv(n.hh_ua)||"",cdn:r.cdnName||"",sdtfrom:t.getCommonKv(n.sdtfrom)||0,loadingtime:this.loadCost,blocktime:this.bufferDuration,blockcount:this.bufferCount,prdlength:0,platform:t.getCommonKv(n.platform),errorcode:this.errCode,dsip:"0.0.0.0",durl:i,firstreport:+!this.reported,sUrl:t.getCommonKv(n.sUrl)||"",sRef:t.getCommonKv(n.sRef)||"",fplayerver:t.getCommonKv(n.fplayerver)||"0.0.0",livepid:t.getCommonKv(n.livepid)||0,viewid:r.liveChid||0,seq:this.seq,cmd:0,fullecode:this.errCode,live_type:r.liveType,geturltime:this.redirectCost,playtime:r.previewLength||-1,ispay:r.ispay||0,isuserpay:r.isuserpay||0,switch:"",lookback:this.isInPlayback,nettype:0,freetype:0,https:+(0===i.indexOf("https://")),downspeed:0,vip_type:t.getCommonKv(n.vip_type)||0,playertype:t.getCommonKv(n.playertype)||0,pvid:s||0,login_type:l,open_id:t.getCommonKv(n.open_id)||"",live_delay:this.delay,use_p2p:t.getCommonKv(n.use_p2p)||0,p2p_play:0,p2pver:t.getCommonKv(n.p2pver)||""}},enumerable:!1,configurable:!0}),t.prototype.report=function(t){this.player.getCommonKv(go.vid)&&(ee.spider||(e.prototype.report.call(this,u(u({},t),{stepname:_l})),this.seq+=1,this.reported=!0))},t.prototype.getAuthInfo=function(){var e=this.player;return{pvid:ye.get("pgv_pvid"),loginType:nl[e.getCommonKv(go.hc_main_login)||"none"]}},t.prototype.getVideoInfo=function(e){var t=e.data.resData,n=0;1===t.stream&&(n|=16),2===t.vcode&&(n|=4),this.cachedVideoInfo={liveChid:t.livechid,liveSid:t.livesid,ispay:t.ispay,isuserpay:t.isuserpay,previewLength:t.playtime,cdnName:t.cdn_name,liveType:n},this.redirectCost=Date.now()-this.redirectStartTime},t.prototype.bindEventHandlers=function(){var e=this;this.msg.on(jr.GETINFO_START,(function(){e.redirectStartTime=Date.now()})),this.msg.on(jr.GETINFO_OVER,this.getVideoInfo.bind(this)),this.msg.on(jr.DATASET_STATE_UPDATE,this.onDataSetStateUpdate.bind(this)),this.player.on(Hr.PLAY_SESSION_END,this.onSessionEnded.bind(this)),this.player.on(Hr.VIDEO_SETLEVEL_START,this.onSetLevelStart.bind(this))},t.prototype.onDataSetStateUpdate=function(e){var t,n=((t={})[io.BUFFER_END]=this.onBufferEnd,t[io.LOAD_END]=this.onLoaded,t[io.SET_LEVEL_END]=this.onSetLevelEnd,t);n[e.data.key]&&n[e.data.key].call(this,e)},t.prototype.onLoaded=function(e){var t=e.data,n=t.newVal,r=t.startEvent,o=n.ftime,i=n.code,a=r.ftime;this.loadCost=o-a,this.errCode=i,this.report({cmd:i===Ur.SUC?sl.load:sl.error}),this.startTick()},t.prototype.onBufferEnd=function(e){var t=e.data,n=t.newVal,r=t.startEvent,o=n.ftime,i=r.ftime;this.bufferDuration+=o-i,this.bufferCount+=1},t.prototype.onSetLevelStart=function(){this.lastSid=this.cachedVideoInfo.liveSid,this.tickImmediate()},t.prototype.onSetLevelEnd=function(e){var t=e.data,n=t.newVal,r=t.startEvent,o=n.ftime,i=n.code,a=r.ftime;i===Ur.SUC&&(this.loadCost=o-a,this.report({cmd:sl.load,switch:this.lastSid}),this.startTick())},t.prototype.onSessionEnded=function(e){var t=e.data.code;this.errCode=t,this.tickImmediate(),this.clearSessionData()},t.prototype.tick=function(){var e=this,t=e.errCode,n=e.player,r=e.currentPeriodStartTime;n.currentVideoInfo&&(this.delay=n.currentVideoInfo.currentDelay||0),this.report({cmd:t===Ur.SUC?sl.period:sl.error,fullecode:t,prdlength:Date.now()-r}),this.onTickEnd()},t.prototype.clearTick=function(){this.periodTickTimer&&(window.clearTimeout(this.periodTickTimer),this.periodTickTimer=null)},t.prototype.onTickEnd=function(){this.bufferCount=0,this.bufferDuration=0,this.currentPeriodStartTime=Date.now()},t.prototype.tickImmediate=function(){this.clearTick(),this.tick()},t.prototype.startTick=function(){this.periodTickTimer||(this.currentPeriodStartTime=Date.now(),this.periodTickTimer=window.setInterval(this.tick.bind(this),ml))},t.prototype.clearSessionData=function(){this.redirectCost=0,this.redirectStartTime=0,this.currentPeriodStartTime=0,this.cachedVideoInfo=El(),this.loadCost=0,this.reported=!1,this.seq=0,this.delay=0,this.errCode=Ur.SUC},t.pluginName="live-fly-reporter",t}(ei);!function(e){e[e.load=205]="load",e[e.error=150]="error",e[e.period=263]="period"}(sl||(sl={}));var yl,_l="boss_cmd_player_hit_tap_process",ml=6e4,El=function(){return{liveChid:0,liveSid:0,liveType:0,ispay:0,isuserpay:0,previewLength:0,cdnName:""}},Il=.001,bl=((yl={12e4:3e4,12e5:6e4})[1/0]=3e5,yl),Cl={uin:"",vid:go.vid,coverid:go.cid,pid:go.flowid,guid:go.guid,cmid:go.guid,unid:"",vt:go.cdnid,type:"",bi:go.duration,bt:"",version:go.playerver,platform:go.platform,format:go.fmt,defn:go.currentDefn,ptag:"",isvip:go.vip,tpid:"",pversion:"",hc_uin:"",hc_main_login:go.hc_main_login,hc_vuserid:go.hc_vuserid,hc_openid:go.hc_openid,hc_appid:go.hc_appid,hc_access_token:go.hc_access_token,hc_pvid:"",hc_ssid:"",hc_qq:"",ua:go.ua,hh_ua:go.ua,ckey:"",ckeyVer:"",iformat:go.fmt,hh_ref:go.topUrl,vurl:"",v_idx:"",rcd_info:"",extrainfo:"",bucket_id:go.testid,drm:go.drm,pay_type:"",pcplatform:"",drmtype:go.drmtype,insert_duration_ms:"",insert_flowid:"",vip_token:"",common_rcd_info:"",common_ext_info:"",common_json_info:"",qimei36:"",format_ua:"",triggerplay:"",tpay:"",cpay:"",dltype:go.dltype,cginame:"",vtype:"",p2pVer:go.p2pver,playertype:go.playertype},wl=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;o.FLOW_DATA_KEY="__thumbplayer_vod_flow_report__",o.UNSAFE_KEY=["hh_ref","vurl"],o.REPORT_URL="//h.trace.qq.com/bosskv?",o.startPlayTime=0,o.actualPlayTime=0,o.lastPlayTimeStamp=0,o.saveInterval=0,o.lastStep8PlayTime=0,o.step8Seq=0,o.setEvtHandler=function(){o.msg.on(jr.DATASET_STATE_UPDATE,o.onDataStateChange),o.player.on(Hr.VIDEO_PLAYING,o.onFirstPlay),o.player.on(Hr.AD_PLAYING,o.onAdPlaying),o.player.on(Hr.VIDEO_TIMEUPDATE,o.onVideoTimeUpdate),o.player.on(S.STATE_CHANGE,o.onCoreStateChange),document.addEventListener("visibilitychange",o.onVisibilityChange)},o.onVisibilityChange=function(){"hidden"===document.visibilityState?o.saveData():o.player&&o.removeFromLS(o.player.getCommonKv(go.flowid))},o.stopSaveData=function(){o.saveInterval&&(window.clearInterval(o.saveInterval),o.saveInterval=0)},o.onAdPlaying=function(){o.step7()},o.onFirstPlay=function(e){var t=Date.now();e.data.isFirst&&(o.startPlayTime=t)},o.onCoreStateChange=function(e){var t=e.data,n=t.new,r=t.old,i=Date.now();n===E.PLAYING?o.lastPlayTimeStamp=i:r===E.PLAYING&&o.lastPlayTimeStamp&&(o.actualPlayTime+=i-o.lastPlayTimeStamp)},o.onVideoTimeUpdate=function(){o.step8()},o.saveData=function(){var e=o.player.getCommonKv(go.flowid);if(e&&!o.reportedEvt.step5){var t=Date.now(),n={step:"5",val:al(o.startPlayTime?t-o.startPlayTime:0,!0),val1:2,bi:al(o.actualPlayTime*Il,!0),bt:al(o.player.getCommonKv(go.duration),!0),heartbeat:t};o.saveToLS(e,u(u({},o.reportHeader),n))}},o.onDataStateChange=function(e){var t,n=e.data,r=n.key,i=((t={})[io.GET_INFO_END]=o.step4,t[io.LOAD_END]=o.step6,t[io.SESSION_END]=o.step5,t[io.SESSION_START]=o.onSessionStart,t);i[r]&&i[r](n)},o.onSessionStart=function(){o.actualPlayTime=0,o.lastPlayTimeStamp=0,o.startPlayTime=0,o.reportedEvt={},o.reportPrev(),o.step3(),o.stopSaveData(),o.saveInterval=window.setInterval(o.saveData,5e3)},o.step3=function(){var e={step:"3",val:0===o.player.currentVideoInfoIdx?1:2};o.report(e)},o.step7=function(){if(!o.reportedEvt.step7){o.reportedEvt.step7=!0;o.report({step:"7",val:0,val1:0})}},o.step4=function(){if(!o.reportedEvt.step4){o.reportedEvt.step4=!0;var e={step:"4",val:1,val1:1,bi:Fi.pluginExists(Vr)?2:1};o.report(e)}},o.step5=function(e){if(!o.reportedEvt.step5){o.reportedEvt.step5=!0;var t=e.newVal.code,n=o.startPlayTime?Date.now()-o.startPlayTime:0,r={step:"5",val:Math.round(n),val1:t!==Ur.SUC?2:1,val2:1,bi:al(o.actualPlayTime*Il,!0),bt:al(o.player.getCommonKv(go.duration),!0)};o.report(r),o.step8(!0),o.removeFromLS(o.player.getCommonKv(go.flowid)),o.stopSaveData()}},o.step6=function(e){if(!o.reportedEvt.step6){o.reportedEvt.step6=!0,o.startPlayTime=Date.now();var t=e.startEvent,n={step:"6",val:al(e.newVal.ftime-(null==t?void 0:t.ftime)),val1:o.reportedEvt.step7?0:1,val2:1,bi:0,bt:al(o.player.getCommonKv(go.duration),!0)};o.report(n)}},o.step8=function(e){if(void 0===e&&(e=!1),o.lastPlayTimeStamp){var t=Date.now(),n=t-o.lastPlayTimeStamp,r=e?o.actualPlayTime:o.actualPlayTime+n,i=+Object.keys(bl).find((function(e){return r<+e})),a=r-o.lastStep8PlayTime;if(e||a>=bl[i]){var s={step:"8",val:al(t-o.startPlayTime),val1:e?1:4,bi:al(r*Il,!0),bt:al(o.player.getCommonKv(go.duration),!0),insert_duration_ms:a};o.lastStep8PlayTime=r,o.step8Seq+=1,o.report(s)}}};var i=t.config.vodFlowReporterConfig;return(null==i?void 0:i.releaseDelay)&&(o.RELEASE_DELAY=i.releaseDelay),o.config=u({paramsKey:u(u({},Cl),(null==i?void 0:i.paramsKey)||{}),onBeforeReport:i.onBeforeReport,forceImage:i.forceImage},function(){if(!ee.mobile)return{id:Dl,token:Ol};return{id:Nl,token:Rl}}()),o.setEvtHandler(),o.reportPrev(),o}return c(t,e),Object.defineProperty(t.prototype,"reportHeader",{get:function(){var e,t=this.player,n=t.getCommonKv,r=t.dataset,o=t.currentVideoInfoIdx,i=t.videoSize,a=void 0===i?{width:0,height:0}:i,s=a.width,l=a.height,c=this.config.paramsKey,u=r.visualStats,d=u.isPlayerInViewport,p=u.isTabFocused,f={uin:n(c.uin)||rl(),vid:n(c.vid)||"",coverid:n(c.coverid)||"",pid:n(c.pid)||"",guid:n(c.guid)||"",cmid:n(c.guid)||"",unid:n(c.unid)||"",vt:n(c.vt)||"",type:n(c.type)||"",bi:n(c.bi)||0,bt:n(c.bt)||0,val:0,val1:0,val2:0,version:n(c.version)||"",platform:n(c.platform)||"",format:n(c.format)||"",defn:n(c.defn)||"",ptag:n(c.ptag)||ol(),isvip:n(c.isvip)||-1,tpid:n(c.tpid)||"",pversion:"thumbplayer",hc_uin:n(c.hc_uin)||rl(),hc_main_login:n(c.hc_main_login)||"",hc_vuserid:n(c.hc_vuserid)||"",hc_openid:n(c.hc_openid)||"",hc_appid:n(c.hc_appid)||"",hc_pvid:n(c.hc_pvid)||ye.get("pgv_pvid"),hc_ssid:n(c.hc_ssid)||"",hc_qq:n(c.hc_qq)||"",hc_access_token:n(c.hc_access_token)||"",ua:n(c.ua)||"",hh_ua:n(c.hh_ua)||"",ckey:n(c.ckey)||"",iformat:n(c.iformat)||"",hh_ref:n(c.hh_ref)||"",rcd_info:n(c.rcd_info)||"",extrainfo:n(c.extrainfo)||"",bucket_id:n(c.bucket_id)||"",pay_type:n(c.pay_type)||0,idx:o||0,diagonal:Math.round(Math.sqrt(Math.pow(s,2)+Math.pow(l,2))),vurl:(null===(e=this.player.currentVideoInfo)||void 0===e?void 0:e.loadingUrl)||n(c.vurl),v_idx:this.player.currentVideoInfoIdx||0,ctime:J.Z.dateFormat(void 0,void 0),url:document.URL,attaid:this.config.id,token:this.config.token,isfocustab:p,isvisible:d,format_ua:n(c.format_ua)||Sl(),pcplatform:n(c.pcplatform)||"web",drm:n(c.drm)?1:0,insert_flowid:this.step8Seq,vip_token:n(c.vip_token)||0,kernel:this.player.kernelName||"",drmtype:n(c.drmtype)||0};return this.config.id===Nl&&(f.common_rcd_info=n(c.common_rcd_info)||"",f.common_ext_info=n(c.common_ext_info)||"",f.common_json_info=n(c.common_json_info)||"",f.qimei36=n(c.qimei36)||""),this.config.id===Dl&&(f.triggerplay=n(c.triggerplay)||1,f.tpay=n(c.tpay)||0,f.cpay=n(c.cpay)||0,f.dltype=n(c.dltype)||0,f.cginame=n(c.cginame)||"",f.vtype=n(c.vtype)||"",f.ckeyVer=n(c.ckeyVer)||"",f.p2pVer=n(c.p2pVer)||"",f.playertype=n(c.playertype)||""),f},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){this.stopSaveData(),document.removeEventListener("visibilitychange",this.onVisibilityChange),e.prototype.destroy.call(this)},t.prototype.report=function(t){if(this.player.getCommonKv(go.vid))return"function"==typeof this.config.onBeforeReport?e.prototype.report.call(this,this.config.onBeforeReport(t)):e.prototype.report.call(this,t)},t.pluginName="vod-flow-reporter",t}(ei);function Sl(){var e="other",t=ee.browser,n=ee.os;return t.qqlive&&(n.iphone?e="iphone_qqlive":n.android&&(e="aphone_qqlive")),e}var xl,Pl,Tl,Dl="z4900004298",Ol="4973349567",Nl="z3000002865",Rl="4135796792",kl=function(e){function t(t,n,r){var o,i,a=e.call(this,t,n,r)||this;a.seq=0,a.bufferReportCached=[],a.seekReportCached=[],a.onDataSetStateUpdate=function(e){var t,n=e.data.key,r=((t={})[io.INIT]=a.runOnce(a.step5,a),t[io.LOAD_END]=a.runOnce(a.step30,a),t[io.SET_LEVEL_END]=function(){a.step45(e),a.step31(e)},t[io.SET_LEVEL_START]=function(){a.reportStep35and40()},t[io.RETRY_PLAY]=a.step47,t[io.BUFFER_END]=a.recordStep35,t[io.SEEK_END]=a.recordStep40,t[io.FIRST_PLAY]=a.runOnce(a.step32,a),t[io.SESSION_END]=a.runOnce(a.step50,a),t[io.SUBTITLE_END]=a.step33,t);r[n]&&r[n].call(a,e)},a.keyMapping=u(u({},Ll),null===(o=t.config.vodFlyReporterConfig)||void 0===o?void 0:o.paramsKey);var s=null===(i=t.config.vodFlyReporterConfig)||void 0===i?void 0:i.isOversea,l={appKey:s?vl:gl,isOversea:s};return a.REPORT_KEY=l.appKey,a.bindEventHandlers(),ti.register(l),a.reporter=ti.report,a}return c(t,e),Object.defineProperty(t.prototype,"reportHeader",{get:function(){var e=this,t=Object.keys(this.keyMapping).reduce((function(t,n){return e.keyMapping[n]&&(t[n]=e.player.getCommonKv(e.keyMapping[n])||""),t}),{});return u(u(u(u(u({},t),this.videoInfoParams),this.firstLoadVideoInfoParam),this.getAuthInfo()),{downloadkit:+!!this.player.config.enableP2P,seq:this.seq,stepname:Vl})},enumerable:!1,configurable:!0}),t.prototype.report=function(t){this.player.getCommonKv(go.vid)&&(ee.spider||(e.prototype.report.call(this,t),this.seq+=1))},Object.defineProperty(t.prototype,"currentUrlInfo",{get:function(){var e,t,n;if(!this.player.currentVideoInfo||!this.rawGetinfoData)return[-1,null];var r=(null===(n=null===(t=null===(e=this.rawGetinfoData.vl)||void 0===e?void 0:e.vi[0])||void 0===t?void 0:t.ul)||void 0===n?void 0:n.ui)||[],o=Ee.getDomainOfURL(this.player.currentVideoInfo.loadingUrl),i=null==r?void 0:r.findIndex((function(e){return Ee.getDomainOfURL(e.url)===o}));return[i,r[i]]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFmtId",{get:function(){var e,t,n,r;return this.rawGetinfoData&&null!==(r=null===(n=null===(t=null===(e=this.rawGetinfoData.fl)||void 0===e?void 0:e.fi)||void 0===t?void 0:t.find((function(e){return e.sl})))||void 0===n?void 0:n.id)&&void 0!==r?r:0},enumerable:!1,configurable:!0}),t.prototype.bindEventHandlers=function(){var e=this;this.msg.on(jr.DATASET_STATE_UPDATE,this.onDataSetStateUpdate),this.msg.on(jr.GETINFO_OVER,this.step15.bind(this)),this.msg.on(jr.GETINFO_START,(function(){e.getinfoStartTime=Date.now()}))},t.prototype.step5=function(e){var t=e.data.newVal,n=t.ftime,r=t.ext.stime;this.report({step:"5",data:il({stime:r,etime:n,code:Ur.SUC})})},t.prototype.step10=function(){},t.prototype.step15=function(e){var t,n,r=e.data,o=r.parseData,i=r.resData,a=o||{},s=a.definitionList,l=void 0===s?[]:s,c=a.vitem,u=void 0===c?{}:c,d=u.fc,p=void 0===d?0:d,f=u.br,h=void 0===f?0:f,g=u.vst,v=void 0===g?0:g,A=u.type,y=void 0===A?0:A,_=null!==(n=null===(t=null==l?void 0:l.find((function(e){return e.sl})))||void 0===t?void 0:t.id)&&void 0!==n?n:-1;this.videoInfoParams={dltype:null==i?void 0:i.dltype,duration:null==o?void 0:o.duration,type:y,clip:p,status:v},this.firstLoadVideoInfoParam||(this.firstLoadVideoInfoParam={fmt:_,rate:h}),this.rawGetinfoData=i,this.report({step:"15",data:il({stime:this.getinfoStartTime,etime:Date.now(),code:"0."+i.em,ip:i.ip})})},t.prototype.step25=function(){},t.prototype.step30=function(e){var t=e.data,n=t.newVal,r=t.startEvent,o=r.ftime,i=r.currentUrl,a=n.ftime,s=this.currentUrlInfo,l=s[0],c=s[1],u=null==c?void 0:c.vt;this.report({step:"30",data:il({stime:o,etime:a,vt:u,urlindex:l,reason:"",code:"0."+n.code,url:i})})},t.prototype.step31=function(e){var t=e.data,n=t.newVal,r=t.startEvent,o=r.ftime,i=r.ext,a=n.ftime,s=i.mode,l=this.currentUrlInfo,c=l[0],u=l[1],d=null==u?void 0:u.vt;this.report({step:"31",data:il({stime:s===v.SMOOTH?a:o,etime:a,vt:d,urlindex:c,code:"0."+n.code})})},t.prototype.step32=function(e){var t=e.data.newVal.ftime;this.report({step:"32",data:il({stime:t,etime:t,code:Ur.SUC})})},t.prototype.step33=function(e){var t=e.data.newVal.ext;this.report({step:"33",data:il(t)})},t.prototype.recordStep35=function(e){var t=e.data,n=t.newVal,r=t.startEvent,o=r.ftime,i=r.playbackRate,a=r.playtime,s=n.ftime,l=n.currentUrl,c=1!==i?2:1;this.bufferReportCached.push({stime:o,etime:s,ptime:a,format:this.currentFmtId,url:l,scene:c,reason:0,code:"0."+n.code})},t.prototype.recordStep40=function(e){var t=e.data,n=t.newVal,r=t.startEvent,o=r.ftime,i=r.playtime,a=n.ftime,s=n.playtime;this.seekReportCached.push({lstime:o,letime:a,pstime:i,petime:s,format:this.currentFmtId,code:"0."+n.code})},t.prototype.step45=function(e){var t=e.data,n=t.newVal,r=t.startEvent,o=r.ftime,i=r.ext,a=r.playtime,s=n.ftime,l=n.playtime,c=n.currentUrl,u=i.mode,d=this.currentUrlInfo,p=d[0],f=d[1],h=null==f?void 0:f.vt;this.report({step:"45",data:il({stime:u===v.SMOOTH?s:o,etime:s,pstime:a,petime:l,auto:1,format:this.currentFmtId,url:c,vt:h,urlindex:p,code:"0."+n.code})})},t.prototype.step46=function(){},t.prototype.step47=function(e){var t=e.data.newVal,n=t.currentUrl,r=t.ftime,o=this.currentUrlInfo,i=o[0],a=o[1],s=null==a?void 0:a.vt;this.report({step:"47",data:il({url:n,vt:s,urlindex:i,cdnip:"",stime:r,etime:r,code:"0."+t.code})})},t.prototype.step50=function(e){var t=e.data.newVal,n=t.ftime,r=t.code,o=this.player.dataset.getStats().playDuration;this.report({step:"50",data:il({etime:n,playduration:o,code:"0."+Ul(r)})}),this.reportStep35and40(),this.cleanUp()},t.prototype.reportStep35and40=function(){var e=this.bufferReportCached,t=this.seekReportCached;if(e.length){var n=e.reduce((function(e,t){return t.etime-t.stime<=Ql?e:[e[0]+1,e[1]+(t.etime-t.stime)]}),[0,0]),r=n[0],o=n[1];this.report({step:"35",data:il({tcount:r,tduration:o,val:this.bufferReportCached.slice(0,Bl)})})}if(t.length){var i=t.reduce((function(e,t){return t.letime-t.lstime<=Ql?[e[0]+1,e[1],e[2]]:[e[0]+1,e[1]+1,e[2]+(t.letime-t.lstime)]}),[0,0,0]),a=(r=i[0],i[1]),s=i[2];this.report({step:"40",data:il({tcount:r,tbcount:a,tbduration:s,val:this.seekReportCached.slice(0,Ml)})})}this.bufferReportCached=[],this.seekReportCached=[]},t.prototype.cleanUp=function(){this.bufferReportCached=[],this.seekReportCached=[],this.rawGetinfoData=null,this.firstLoadVideoInfoParam=null,this.videoInfoParams=null,this.seq=0,this.getinfoStartTime=0},t.prototype.runOnce=function(e,t){var n=this,r="";return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=n.player.getCommonKv(go.flowid);r!==a&&(r=a,e.apply(t,o))}},t.prototype.getAuthInfo=function(){var e=this.player;return{loginid:e.getCommonKv(go.hc_openid)||"",loginex:e.getCommonKv(go.hc_vuserid)||"",logintype:nl[e.getCommonKv(go.hc_main_login)||"none"],vip:+!!e.getCommonKv(go.vip)}},t.pluginName="vod-fly-reporter",t}(ei),Ll={stepname:"",seq:"",hc_main_login:go.hc_main_login,hc_vuserid:go.hc_vuserid,hc_openid:go.hc_openid,hc_appid:go.hc_appid,loginid:"",loginex:"",logintype:"",guid:go.guid,longitude:"",latitude:"",vip:"",online:"",p2p:go.p2p,downloadkit:"",resolution:go.resolution,testid:go.testid,osver:go.osver,playerver:go.playerver,playertype:go.playertype,uip:go.uip,confid:go.confid,cdnip:go.cdnip,cdnid:go.cdnid,cdnuip:go.uip,freetype:"",sstrength:"",network:"",speed:"",device:go.device,appver:go.appVer,p2pver:go.p2pver,flowid:go.flowid,platform:go.platform,vid:go.vid,bizid:"",url:go.url,refer:go.referrer,cid:go.cid,ua:go.ua,ptag:go.ptag,dltype:"",fmt:"",rate:"",clip:"",status:"",type:"",duration:"",ext:"",drm:"",purevid:""},Bl=20,Ml=20,Ql=1200,Vl="boss_cmd_player_quality_feitian",Fl=[Ur.GETINFO_SERVER_CODE_PREFIX+"083"];function Ul(e){return Fl.find((function(t){return e.startsWith(t)}))?Ur.SUC:e}Fi.registerPlugin(wl.pluginName,wl),Fi.registerPlugin(fl.pluginName,fl),Fi.registerPlugin(kl.pluginName,kl),Fi.registerPlugin(Al.pluginName,Al),function(e){e[e.AUTO=0]="AUTO",e[e.FLV=1]="FLV",e[e.HLS=2]="HLS"}(Pl||(Pl={})),function(e){e[e.XUEYUAN=4]="XUEYUAN",e[e.CHRISTMAS=5]="CHRISTMAS",e[e.VERIFY=50]="VERIFY",e[e.SPORTS=100]="SPORTS",e[e.MARK=200]="MARK"}(Tl||(Tl={}));var Kl,jl=((xl={0:["//infozb6.video.qq.com/?","//bkinfozb6.video.qq.com/?"]})[Tl.XUEYUAN]="//innerzb.video.qq.com/?",xl[Tl.VERIFY]="//auth.zb.qq.com/?",xl[Tl.MARK]="//infozb.pcg.com:8080/?",xl);!function(e){e.playtime="live-getinfo:playtime",e.livesid="live-getinfo:livesid",e.isuserpay="live-getinfo:isuserpay",e.cpay="live-getinfo:cpay",e.restpreviewcnt="live-getinfo:resetpreviewcnt"}(Kl||(Kl={}));var Hl,ql,Gl=new Map([["videoPlayError",{name:"setErrorView",params:{msg:"\u5bf9\u4e0d\u8d77\uff0c\u83b7\u53d6\u89c6\u9891\u4fe1\u606f\u9519\u8bef~"}}],["areaLimit",{name:"setErrorView",params:{msg:"\u5bf9\u4e0d\u8d77\uff0c\u60a8\u6240\u5728\u533a\u57df\u65e0\u6cd5\u89c2\u770b\u6b64\u89c6\u9891~"}}],["bandWidthLimit",{name:"setErrorView",params:{msg:"\u6682\u65f6\u65e0\u6cd5\u89c2\u770b\u6b64\u89c6\u9891\uff0c\u8bf7\u60a8\u7a0d\u540e\u518d\u8bd5~"}}],["msgInterrupt",{name:"setErrorView",params:{msg:"\u5bf9\u4e0d\u8d77\uff0c\u89c6\u9891\u4fe1\u606f\u4e2d\u65ad\u4e86~"}}],["msgInterrupt",{name:"setErrorView",params:{msg:"\u5bf9\u4e0d\u8d77\uff0c\u89c6\u9891\u4fe1\u606f\u4e2d\u65ad\u4e86~"}}],["videoNotBegin",{name:"setErrorView",params:{hideRefresh:!0,hideCode:!0,msg:"\u672c\u6b21\u76f4\u64ad\u672a\u5f00\u59cb\uff0c\u656c\u8bf7\u5173\u6ce8\uff01"}}],["videoIsOver",{name:"setErrorView",params:{isOver:!0,hideRefresh:!0,hideCode:!0,msg:"\u672c\u6b21\u76f4\u64ad\u5df2\u7ed3\u675f\uff0c\u656c\u8bf7\u5173\u6ce8\uff01"}}],["numOfPeopleLimit",{name:"setQueueFullView"}],["mustLogin",{name:"setErrorView",params:{msg:"\u7f3a\u4e4f\u7528\u6237\u767b\u5f55\u4fe1\u606f"}}],["isNotInPlayList",{name:"setErrorView",params:{msg:"\u767b\u5f55\u7528\u6237\u4e0d\u5728\u767d\u540d\u5355"}}],["getLoginInfoFailed",{name:"setErrorView",params:{msg:"\u83b7\u53d6\u767b\u5f55\u4fe1\u606f\u5931\u8d25\uff0c\u8bf7\u60a8\u5c1d\u8bd5\u91cd\u65b0\u767b\u5f55~"}}],["showPayTip",{name:"showPayTips",params:{cmd:1}}],["copyrightLimit",{name:"setErrorView",params:{msg:"\u7531\u4e8e\u7248\u6743\u65b9\u8981\u6c42\uff0c\u6b64\u5185\u5bb9\u6682\u4e0d\u652f\u6301\u64ad\u653e"}}],["universalTip",{name:"setErrorView",params:{msg:"\u64ad\u653e\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5~"}}],["videoCannotFind",{name:"setErrorView",params:{msg:"\u5f53\u524d\u6ca1\u6709\u6b63\u5728\u76f4\u64ad\u7684\u8282\u76ee~"}}],["notSptDrm",{name:"setErrorView",params:{msg:"\u4e3a\u4fdd\u62a4\u7248\u6743\uff0c\u672c\u5185\u5bb9\u5df2\u52a0\u5bc6\uff0c\u6b64\u6d4f\u89c8\u5668\u6682\u4e0d\u652f\u6301\u89c2\u770b"}}]]),Yl={1:"H264",2:"H265",4:"SDR",22:"DolbyVisionTs",23:"DolbyVisionFmp4"},Wl=/.*\.?qq\.com/g.test(Ee.getDomainOfURL(location.href)),zl={COMMON:["//h5vv6.video.qq.com/getvinfo","//bkh5vv.video.qq.com/getvinfo","//av.video.qq.com/getvinfo"],TEST:"//testvv.video.qq.com/geth5info?"};!function(e){e.CKEY_8="8.1",e.CKEY_9="9.1"}(Hl||(Hl={})),function(e){e.videoType="vod-getinfo:videoType",e.videoCharged="vod-getinfo:videoCharged",e.userPayType="vod-getinfo:userPayType",e.vipToken="vod-getinfo:vipToken",e.ckey="vod-getinfo:ckey",e.ckeyVersion="vod-getinfo:ckeyVersion",e.cginame="vod-getinfo:cginame",e.vurl="vod-getinfo:vurl"}(ql||(ql={}));var Jl,Zl,Xl,$l={1:"H264",2:"H265",3:"HDR10",4:"DolbyVision",5:"None(Audio Only)",6:"SDR+",7:"SDR",8:"T265",9:"IMax",10:"SFR_HDR(60FPS)",11:"SFR4X_HDR(120FPS)",12:"SFR3X_HDR(90FPS)",13:"AVS3",14:"AV1",15:"TIE_V2",16:"SFR_TIE_V2(60FPS)",17:"SFR3X_TIE_V2(90FPS)",18:"SFR4X_TIE_V2(120FPS)",19:"CUVA-HDR",20:"VVC(O266)",21:"O264",26:"VAV1"},ec=((Jl={})[A.VOD]=[wl.pluginName,kl.pluginName],Jl[A.LIVE]=[fl.pluginName,Al.pluginName],Jl),tc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSessionStart=function(){t.player.setCommonKv(nc,t.getBizIdForTencentVideo())},t}return c(t,e),Object.defineProperty(t.prototype,"ready",{get:function(){return Promise.resolve(!0)},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.mergePlayerConfig(),this.installReporter(),this.setupEventListeners()},t.prototype.destroy=function(){this.removeEventListeners(),e.prototype.destroy.call(this)},t.prototype.getBizIdForTencentVideo=function(){var e=Ee.getDomainOfURL(location.href),t="visible"===document.visibilityState;return"v.qq.com"!==e?"0":rc.home.test(location.href)?t?"401":"402":rc.play.test(location.href)?t?"410":"411":t?"420":"421"},t.prototype.setupEventListeners=function(){this.player.on(Hr.PLAY_SESSION_START,this.onSessionStart)},t.prototype.removeEventListeners=function(){this.player.off(Hr.PLAY_SESSION_START,this.onSessionStart)},t.prototype.mergePlayerConfig=function(){var e,t,n,r={},o=this.player.config,i=o.type;i===A.VOD&&(r.vodFlowReporterConfig=u(u({forceImage:!Wl},null==o?void 0:o.vodFlowReporterConfig),{paramsKey:u({tpay:ql.videoCharged,vtype:ql.videoType,ckeyVer:ql.ckeyVersion,pay_type:ql.userPayType,vurl:ql.vurl},null===(e=null==o?void 0:o.vodFlowReporterConfig)||void 0===e?void 0:e.paramsKey)}),r.vodFlyReporterConfig=u(u({},null==o?void 0:o.vodFlyReporterConfig),{paramsKey:{bizid:nc}})),i===A.LIVE&&(r.liveQaReporterConfig=u(u({},null==o?void 0:o.liveQaReporterConfig),{paramsKey:u({sid:Kl.livesid,isuserpay:Kl.isuserpay,playtime:Kl.playtime},null===(t=null==o?void 0:o.liveQaReporterConfig)||void 0===t?void 0:t.paramsKey)}),r.liveFlowReporterConfig=u(u({forceImage:!Wl},null==o?void 0:o.liveFlowReporterConfig),{paramsKey:u({sid:Kl.livesid,cpay:Kl.cpay,tpay:Kl.isuserpay,playtime:Kl.playtime,rest_preview_cnt:Kl.restpreviewcnt},null===(n=null==o?void 0:o.liveFlowReporterConfig)||void 0===n?void 0:n.paramsKey)})),Object.assign(this.player.config,r)},t.prototype.installReporter=function(){if(this.player.config.type){var e=ec[this.player.config.type];this.checkIfReporterExist(e)?this.warn("reporter already detected, skip install, probably due to <1.7.4 version of SuperPlayer"):this.player.createPlugins(e)}},t.prototype.checkIfReporterExist=function(e){var t=this;return e.some((function(e){return!!t.player.plugins[e]}))},t.moduleName="reporter-controller",t}(ks),nc="txv_biz_id",rc={home:/https:\/\/v\.qq\.com\/channel\/.*/i,play:/https:\/\/v\.qq\.com\/x\/(cover|page)\/.*/i};!function(e){e[e.NONE=0]="NONE",e[e.FAIRPLAY=16]="FAIRPLAY",e[e.WIDEVINE=32]="WIDEVINE",e[e.CHACHA20=8]="CHACHA20"}(Zl||(Zl={})),function(e){e[e.NONE=0]="NONE",e[e.FAIRPLAY=4]="FAIRPLAY",e[e.WIDEVINE=5]="WIDEVINE",e[e.CHACHA20=3]="CHACHA20"}(Xl||(Xl={}));var oc,ic,ac=Zl.NONE;function sc(e){return f(this,void 0,void 0,(function(){var t,n;return h(this,(function(r){switch(r.label){case 0:return void 0!==e?[2,e]:ac?[2,ac]:(t=Zl.NONE,ee.mobile?[2,t]:(window.WebAssembly&&(t|=Zl.CHACHA20),(n=ee.browser.chrome&&J.Z.compareVersion(ee.browser.version,"89.0")>0)?[4,vt.supportWidevine()]:[3,2]));case 1:n=r.sent(),r.label=2;case 2:return n?(t|=Zl.WIDEVINE,ac=t):ee.browser.safari&&vt.supportFairplay()&&(t|=Zl.FAIRPLAY,ac=t),[2,t]}}))}))}!function(e){e.QQ="qq",e.WX="wx"}(oc||(oc={})),function(e){e.MAIN_LOGIN="main_login",e.GUID="video_guid",e.OPENID="openid",e.APPID="appid",e.VUSERID="vuserid",e.ACCESS_TOKEN="access_token",e.VUSESSION="vusession"}(ic||(ic={}));var lc="vqq_";function cc(e){var t,n,r,o,i,a,s,l=ye.get(ic.MAIN_LOGIN);if(!l)return{};var c=l===oc.QQ,u=((t={})[ic.ACCESS_TOKEN]=null!==(n=uc(ic.ACCESS_TOKEN,c))&&void 0!==n?n:"",t[ic.APPID]=null!==(r=uc(ic.APPID,c))&&void 0!==r?r:"",t[ic.VUSESSION]=null!==(o=uc(ic.VUSESSION,c))&&void 0!==o?o:"",t[ic.OPENID]=null!==(i=uc(ic.OPENID,c))&&void 0!==i?i:"",t[ic.VUSERID]=null!==(a=uc(ic.VUSERID,c))&&void 0!==a?a:"",t[ic.GUID]=null!==(s=ye.get(ic.GUID))&&void 0!==s?s:"",t[ic.MAIN_LOGIN]=l,t);return function(e){if(!e[ic.MAIN_LOGIN])return!1;if(!(e[ic.MAIN_LOGIN]!==oc.QQ||e[ic.VUSERID]&&e[ic.ACCESS_TOKEN]))return!1;return!0}(u)?e?Object.keys(e).reduce((function(t,n){return t[e[n]]=u[n],t}),{}):u:{}}function uc(e,t){return void 0===t&&(t=!1),ye.get(t?"".concat(lc).concat(e):e)}function dc(e){var t=e.codec,n=e.dltype,r=e.drm,o=void 0;return t===N.H265?vt.supportHevc()?1===n?o=K.ORIGIN:3!==n&&8!==n||(o=K.HLS_JS):o=K.WASM:1===n?o=K.ORIGIN:8===n&&(o=K.HLS_JS),r===Xl.WIDEVINE?o=K.HLS_JS:r===Xl.FAIRPLAY?o=K.ORIGIN:r===Xl.CHACHA20&&t===N.H264&&(o=K.HLS_JS),o}function pc(e){return function(t,n){var r=-1;return function o(i){if(i<=r)return Promise.reject(new Error("next() called multiple times"));r=i;var a=e[i];i===e.length&&(a=n);if(!a)return Promise.resolve(null);try{return Promise.resolve(a(t,o.bind(null,i+1)))}catch(s){return Promise.reject(s)}}(0)}}var fc=function(){function e(e){this._jsonpPrefix=e}return e.prototype.start=function(t,n,r){return void 0===r&&(r=e.timeout),Fe.jsonp(t,{query:n,timeout:r,charset:"utf-8",name:"".concat(this._jsonpPrefix).concat(Math.floor(1e6*Math.random()))})},e.timeout=6e3,e}(),hc={path:"",retryCount:3,test:0,timeout:6e3,ckeyVer:Hl.CKEY_8};function gc(e){if("string"==typeof e){var t=document.createElement("a");return t.href=e,"".concat(t.protocol,"//").concat(t.host).concat(t.pathname)}}function vc(){try{return window.self!==window.top}catch(qe){return!0}}function Ac(){return"https:"===location.protocol?1:0}function yc(e){var t=e||10,n=(+new Date).toString();return n.length>t?n.substring(0,t):"00000000000".concat(n).slice(-1*t)}var _c,mc={charge:0,otype:"json",defnpayver:"v.qq.com"===location.hostname||"film.qq.com"===location.hostname?1:0,spau:1,spaudio:1,spwm:1,sphls:ee.mobile?1:2,host:location.host,refer:function(){var e="";try{e=gc(document.location.href),vc()&&(e=gc(document.referrer||""))}catch(qe){}return e}(),ehost:function(){var e="";try{e=location.href.replace(location.search,""),vc()&&(e=gc(top.location.href||""))}catch(qe){}return e}(),sphttps:Ac(),encryptVer:"",cKey:"",clip:4,guid:"",flowid:"",platform:"",sdtfrom:"",appVer:"1.0.0.0",unid:"",auth_from:"",auth_ext:"",vid:"",defn:"",fhdswitch:0,dtype:3,spsrt:2,tm:"",lang_code:0,logintoken:""},Ec=function(e,t){return f(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u,d,p,f;return h(this,(function(h){switch(h.label){case 0:return n=e.resData,r=void 0===n?{}:n,o=e.player,i=e.isSetPlayerData,a=void 0===i||i,s=void 0===r.em?0:+r.em,l=+r.exem,c=((null===(f=r.vl)||void 0===f?void 0:f.vi)||[])[0],a&&o.setCommonKv(((d={})[go.uip]=r.ip,d[go.hh_ip]=r.ip,d[ql.vipToken]=function(e,t){var n=(e.split("$").map((function(e){return e.split("=")})).find((function(e){return e[0]===t}))||[])[1];return+(void 0===n?"0":n)}(r.report||"","vip_token"),d)),c&&a&&o.setCommonKv(((p={})[ql.videoCharged]=c.ch,p[ql.userPayType]=function(e,t){var n=0;8===e?n=1:2===e&&(t>0?n=2:0===t&&(n=0));return n}(c.st,c.ch),p[ql.videoType]=c.videotype,p)),0===s&&c&&(8!==c.st&&(isNaN(l)||0===l)||0!=+r.preview||(s=83)),0!==s?(u="".concat(Ur.GETINFO_SERVER_CODE_PREFIX).concat("000".concat(s).slice(-3)).concat(isNaN(l)?"":".".concat(l)),e.throw(u,Kr.GETINFO_CODE),[2]):"o"===r.s&&c?[4,t()]:(e.throw(Ur.GETINFO_PARSE,Kr.GETINFO_PARSE),[2]);case 1:return h.sent(),[2]}}))}))};function Ic(e){var t,n,r=e.play;return[{url:null!==(n=null===(t=r.masterurl)||void 0===t?void 0:t[0])&&void 0!==n?n:"keyid://".concat(r.keyid,".m3u8"),vt:e.vl.vi[0].ul.ui[0].vt}]}function bc(e,t,n,r,o,i){for(var a,s,l=[],c=e.ui.length,u=0;u<c;u++)s={url:"",vt:0},(a=e.ui[u]).url&&(a.url&&-1===a.url.indexOf("".concat(t,".flv"))&&-1===a.url.indexOf("".concat(t,".mp4"))?s.url=a.url+n:s.url=a.url,a.vt&&(s.vt=parseInt(a.vt,10)),-1===s.url.indexOf("sdtfrom")&&(s.url.indexOf("?")>-1?s.url+="&sdtfrom=".concat(o):s.url+="?sdtfrom=".concat(o),s.url+="&guid=".concat(i,"&vkey=").concat(r)),l.push(s));return l}function Cc(e){var t,n,r,o=[];if(!e)return o;var i=e.al,a=e.vl,s=!1;null===(t=null==i?void 0:i.ai)||void 0===t||t.forEach((function(e){var t=e.keyid,n=e.sl,r=e.track,i=e.ul,a=e.name;n&&(s=!0),o.push({id:t,selected:!!n,url:i.ui[0].url,name:r,displayName:a})}));var l=null===(r=null===(n=null==a?void 0:a.vi)||void 0===n?void 0:n[0])||void 0===r?void 0:r.ai;if(l){var c=l.track,u=l.name;o.push({id:-1,selected:!s,url:"",name:c,displayName:u})}return o}function wc(e){var t;if(!e)return 0;var n=(null===(t=e.vl)||void 0===t?void 0:t.vi)[0],r=+e.em,o=+e.exem,i=+e.preview;return isNaN(r)||0!==r||0===i?0:o>0||8==+n.st?i:0}function Sc(e){var t,n,r,o=N.H264,i=((null===(t=null==e?void 0:e.vl)||void 0===t?void 0:t.vi)||[])[0],a=null===(r=null===(n=null==e?void 0:e.fl)||void 0===n?void 0:n.fi)||void 0===r?void 0:r.find((function(e){return 1===e.sl})),s=null==a?void 0:a.video;i&&(1===i.hevc&&(o=N.H265));return{vtypeKey:s,vtype:$l[s]||"unknown",codec:o}}function xc(e){var t,n,r=[];if(!(null==e?void 0:e.adpinfo))return r;try{null===(n=null===(t=JSON.parse(e.adpinfo))||void 0===t?void 0:t.assetid_info)||void 0===n||n.forEach((function(e){+e.optype===_c.PHLS&&r.push({start:e.ad_time_begin/1e3,end:e.ad_time_end/1e3,type:+e.optype})}))}catch(qe){}return r.sort((function(e,t){return e.start-t.start})),r}!function(e){e[e.PHLS=2]="PHLS"}(_c||(_c={}));var Pc,Tc,Dc=function(e,t){return f(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u,d,p,f,g,A,y,_,m,E,I,b;return h(this,(function(h){switch(h.label){case 0:return n=e.resData,r=void 0===n?{}:n,o=e.reqParams,i=void 0===o?{}:o,a=(null===(y=r.vl)||void 0===y?void 0:y.vi)[0],s=a.td,l=a.ti,c=a.vh,u=a.vw,d=a.br,p=a.fs,f=function(e,t,n){var r,o,i,a,s,l,c,u;if(!(e&&(null===(i=null===(o=null===(r=e.vl)||void 0===r?void 0:r.vi[0].ul)||void 0===o?void 0:o.ui)||void 0===i?void 0:i.length)>0))return{urls:[],setLevelMode:v.HARD};var d=e.dltype,p=(null===(a=e.vl)||void 0===a?void 0:a.vi)[0],f=p.fn,h=p.fvkey,g=p.keyid;if(3===d||8===d){if(e.play)return{urls:Ic(e),setLevelMode:v.HARD};var A=e.vl.vi[0].ul.ui.map((function(e){var t;return e.url&&(null===(t=e.hls)||void 0===t?void 0:t.pt)?{url:e.url+e.hls.pt,vt:e.vt}:{url:e.url,vt:e.vt}})),y=!1;if(8===d){var _=e.vl.vi[0].ul.m3u8;_&&!(_.indexOf("#EXTINF:")>0||_.indexOf("EXT-X-TARGETDURATION:")>0)&&(y=!0,A.unshift({url:"keyid://".concat(g,".m3u8"),vt:A[0].vt}))}return{urls:A,setLevelMode:y?v.HARD:v.SMOOTH}}if(1===d){var m=(null===(l=null===(s=p.cl)||void 0===s?void 0:s.ci)||void 0===l?void 0:l.length)||0,E=p.fvkey&&p.fn&&(null===(u=null===(c=p.ul)||void 0===c?void 0:c.ui)||void 0===u?void 0:u.length)>0;if(m<=0&&E)return{urls:bc(p.ul,p.lnk,f,h,t,n),setLevelMode:v.HARD}}return{urls:[],setLevelMode:v.HARD}}(r,i.sdtfrom,i.guid),g=f.urls,A=f.setLevelMode,null!==(_=e.extraPlayConfig)&&void 0!==_||(e.extraPlayConfig={}),e.extraPlayConfig.setLevelMode=A,e.parseData={preview:wc(r),vitem:a,duration:s,title:l,byteRate:d,videoHeight:c,videoWidth:u,fileSize:p,urls:g,definitionList:null===(m=r.fl)||void 0===m?void 0:m.fi,subtitleList:null===(E=r.sfl)||void 0===E?void 0:E.fi,watermarkList:a.wl,previewList:a.pl?null===(I=a.pl[0])||void 0===I?void 0:I.pd:[],additionalTrackInfo:{subtitleTrack:[],altAudioTrack:Cc(r)},supplementaryInfo:{contentInfo:{ad:xc(a.ad)}}},null===(b=e.parseData.definitionList)||void 0===b||b.reverse(),e.logger.log("parse ",e.parseData),[4,t()];case 1:return h.sent(),[2]}}))}))},Oc=function(){var e,t,n,r,o,i=-8290,a=-496,l=l||function(e,t){var n={},r=n.a={},o=function(){},a=r.b={c:function(e){for(var t="",n=0;n<"\u0945\u0942\u0945\u0958".length;n++)t+=String.fromCharCode(2348^"\u0945\u0942\u0945\u0958".charCodeAt(n));o.prototype=this;var r=new o;return e&&r.d(e),r.hasOwnProperty(t)||(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var e=this.c();return e.init.apply(e,arguments),e},init:function(){},d:function(e){for(var t="",n=0;n<"\u037e\u0365\u0359\u037e\u0378\u0363\u0364\u036d".length;n++)t+=String.fromCharCode(778^"\u037e\u0365\u0359\u037e\u0378\u0363\u0364\u036d".charCodeAt(n));for(var r in e)e.hasOwnProperty(r)&&(this[r]=e[r]);e.hasOwnProperty(t)&&(this.toString=e.toString)},e:function(){return this.init.prototype.c(this)}},l=r.f=a.c({init:function(e,t){e=this.g=e||[],this.h=null!=t?t:(-2630+i+10924)*e.length},toString:function(e){return(e||u).i(this)},concat:function(e){var t=this.g,n=e.g,r=this.h;if(e=e.h,this.j(),r%4)for(var o=0;o<e;o++)t[r+o>>>2]|=(n[o>>>2]>>>24-o%4*8&255)<<24-(r+o)%4*8;else if(65535<n.length)for(o=0;o<e;o+=4)t[r+o>>>2]=n[o>>>2];else t.push.apply(t,n);return this.h+=e,this},j:function(){var t=this.g,n=this.h;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},e:function(){var e=a.e.call(this);return e.g=this.g.slice(0),e},random:function(t){for(var n=[],r=0;r<t;r+=4)n.push(4294967296*e.random()|0);return new l.init(n,t)}}),c=n.k={},u=c.l={i:function(e){for(var t="",n=0;n<"".length;n++)t+=String.fromCharCode(368^"".charCodeAt(n));var r=e.g;e=e.h;for(var o=[],i=0;i<e;i++){var a=r[i>>>2]>>>24-i%4*8&255;o.push((a>>>4).toString(16)),o.push((15&a).toString(16))}return o.join(t)},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new l.init(n,t/2)}},d=c.m={i:function(e){for(var t="",n=0;n<"".length;n++)t+=String.fromCharCode(2238^"".charCodeAt(n));var r=e.g;e=e.h;for(var o=[],i=0;i<e;i++)o.push(String.fromCharCode(r[i>>>2]>>>24-i%4*8&255));return o.join(t)},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new l.init(n,t)}},p=c.n={i:function(e){for(var t="",n=0,r="\xd8\xf4\xf9\xf3\xfa\xe7\xf8\xf0\xf1\xb5\xc0\xc1\xd3\xb8\xad\xb5\xf1\xf4\xe1\xf4";n<r.length;n++)t+=String.fromCharCode(149^r.charCodeAt(n));try{return decodeURIComponent(escape(d.i(e)))}catch(o){throw Error(t)}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},f=r.o=a.c({p:function(){this.q=new l.init,this.r=0},s:function(e){for(var t="",n=0;n<"\u0fa7\u0fa0\u0fa6\u0fbd\u0fba\u0fb3".length;n++)t+=String.fromCharCode(4052^"\u0fa7\u0fa0\u0fa6\u0fbd\u0fba\u0fb3".charCodeAt(n));t==(0,s.Z)(e)&&(e=p.parse(e)),this.q.concat(e),this.r+=e.h},t:function(t){var n=this.q,r=n.g,o=n.h,i=this.u,a=o/(4*i);if(t=(a=t?e.ceil(a):e.max((0|a)-this.v,0))*i,o=e.min(4*t,o),t){for(var s=0;s<t;s+=i)this.w(r,s);s=r.splice(0,t),n.h-=o}return new l.init(s,o)},e:function(){var e=a.e.call(this);return e.q=this.q.e(),e},v:0});r.x=f.c({y:a.c(),init:function(e){this.y=this.y.c(e),this.p()},p:function(){f.p.call(this),this.z()},A:function(e){return this.s(e),this.t(),this},B:function(e){return e&&this.s(e),this.C()},u:16,D:function(e){return function(t,n){return new e.init(n).B(t)}},F:function(e){return function(t,n){return new h.HMAC.init(e,n).B(t)}}});var h=n.G={};return n}(Math);function c(e){return u.call(this,2,e)}function u(e){for(var t="",n=0;n<"\u090a".length;n++)t+=String.fromCharCode(2422^"\u090a".charCodeAt(n));for(var r="",o=0;o<"\u07ad".length;o++)r+=String.fromCharCode(2001^"\u07ad".charCodeAt(o));for(var s="",d=0;d<"\u04a0".length;d++)s+=String.fromCharCode(1244^"\u04a0".charCodeAt(d));for(var p="",f=0;f<"\u0d07".length;f++)p+=String.fromCharCode(3451^"\u0d07".charCodeAt(f));for(var h="",g=0;g<"\u05ff".length;g++)h+=String.fromCharCode(1411^"\u05ff".charCodeAt(g));for(var v="",A=0;A<"\u08a8".length;A++)v+=String.fromCharCode(2260^"\u08a8".charCodeAt(A));for(var y="",_=0;_<"\u0b36".length;_++)y+=String.fromCharCode(2890^"\u0b36".charCodeAt(_));for(var m="",E=0;E<"\u01a8\u01a2\u01f6\u01a6\u01f6\u01a7\u01f5\u01f1\u01a7\u01a4".length;E++)m+=String.fromCharCode(453^"\u01a8\u01a2\u01f6\u01a6\u01f6\u01a7\u01f5\u01f1\u01a7\u01a4".charCodeAt(E));for(var I="",b=0;b<"\u0a78".length;b++)I+=String.fromCharCode(2564^"\u0a78".charCodeAt(b));for(var C="",w=0;w<"\u084c".length;w++)C+=String.fromCharCode(2096^"\u084c".charCodeAt(w));for(var S="",x=0;x<"\u0676".length;x++)S+=String.fromCharCode(1546^"\u0676".charCodeAt(x));for(var P="",T=0;T<"\u0a88".length;T++)P+=String.fromCharCode(2804^"\u0a88".charCodeAt(T));for(var D="",O=0;O<"\u0227".length;O++)D+=String.fromCharCode(603^"\u0227".charCodeAt(O));for(var N="",R=0;R<"\u043e".length;R++)N+=String.fromCharCode(1090^"\u043e".charCodeAt(R));for(var k="",L=0;L<"\u07e1".length;L++)k+=String.fromCharCode(1949^"\u07e1".charCodeAt(L));for(var B="",M=0;M<"\u0305".length;M++)B+=String.fromCharCode(889^"\u0305".charCodeAt(M));for(var Q="",V=0;V<"".length;V++)Q+=String.fromCharCode(3568^"".charCodeAt(V));for(var F="",U=0;U<"".length;U++)F+=String.fromCharCode(777^"".charCodeAt(U));for(var K="",j=0;j<"".length;j++)K+=String.fromCharCode(2613^"".charCodeAt(j));for(var H="",q=0;q<"\xb4\xb9\xb2\xaf".length;q++)H+=String.fromCharCode(214^"\xb4\xb9\xb2\xaf".charCodeAt(q));for(var G="",Y=0;Y<"\u06d8\u06d5\u06de\u06c3".length;Y++)G+=String.fromCharCode(1722^"\u06d8\u06d5\u06de\u06c3".charCodeAt(Y));for(var W="",z=0;z<"\u0668\u0669\u0668\u0663".length;z++)W+=String.fromCharCode(1542^"\u0668\u0669\u0668\u0663".charCodeAt(z));for(var J="",Z=0;Z<"\xc1\xcc".length;Z++)J+=String.fromCharCode(168^"\xc1\xcc".charCodeAt(Z));for(var X="",$=0;$<"\u06c6\u06cb\u06d4".length;$++)X+=String.fromCharCode(1698^"\u06c6\u06cb\u06d4".charCodeAt($));for(var ee="",te=0,ne="\u0b36\u0b0b\u0b51\u0b5e\u0b08\u0b0d\u0b0d\u0b51\u0b59\u0b36";te<ne.length;te++)ee+=String.fromCharCode(2921^ne.charCodeAt(te));for(var re="",oe=0;oe<"\u05d9\u05c7\u05c0\u05ca\u05c1\u05d9".length;oe++)re+=String.fromCharCode(1454^"\u05d9\u05c7\u05c0\u05ca\u05c1\u05d9".charCodeAt(oe));switch(e){case 0:var ie=[];window[re]===window?ie.push(0):ie.push(1);try{var ae=ee+Math.floor(1e7*Math.random()),se=document.createElement(X);se.setAttribute(J,ae),se.style.La=W,(document.body||document.getElementsByTagName(G)[0]).appendChild(se),document.getElementById(ae)?ie.push(0):ie.push(1),(document.body||document.getElementsByTagName(H)[0]).removeChild(se)}catch(Ee){ie.push(1)}return ie.join(K);case 1:var le=arguments[1],ce=new l.a.f.init([1332468387,-1641050960,2136896045,-1629555948],16),ue=new l.a.f.init([22039283,1457920463,776125350,-1941999367],16);return l.Ga.$(le,ce,{ra:ue,ba:l.ba.la,qa:l.na.ma}).xa.toString().toUpperCase();case 2:return(Ae=arguments[1])?Ae.length>48?Ae.substr(0,48):Ae:F;case 3:var de=window.document.URL,pe=window.navigator.userAgent.toLowerCase(),fe=Q;window.document.referrer.length>0&&(fe=window.document.referrer);try{0==fe.length&&opener.location.href.length>0&&(fe=opener.location.href)}catch(Ie){}var he=window.navigator.appCodeName,ge=window.navigator.appName,ve=window.navigator.platform;return de=c(de),fe=c(fe),de+B+(pe=c(pe))+k+fe+N+he+D+ge+P+ve;case 4:var Ae=arguments[1],ye=0;if(0==Ae.length)return ye;for(i=0;i<Ae.length;i++){var _e=Ae.charCodeAt(i);ye=(ye=(ye<<5)-ye+_e)&ye}return ye;case 5:var me=S+arguments[a+i+8787]+C+arguments[2]+I+m+y+arguments[3]+v+arguments[4]+h+arguments[5]+p+function(){return u.call(this,3)}()+s+function(){return u.call(this,0)}()+r;return function(e){return u.call(this,1,e)}(t+(ye=function(e){return u.call(this,4,e)}(me))+me)}}return function(){for(var e="",t=0,n="\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xfb\xff\xed";t<n.length;t++)e+=String.fromCharCode(208^n.charCodeAt(t));var r=l,o=r.a.f;r.k.H={i:function(e){for(var t="",n=0;n<"".length;n++)t+=String.fromCharCode(4077^"".charCodeAt(n));var r=e.g,o=e.h,i=this.I;e.j(),e=[];for(var a=0;a<o;a+=3)for(var s=(r[a>>>2]>>>24-a%4*8&255)<<16|(r[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|r[a+2>>>2]>>>24-(a+2)%4*8&255,l=0;4>l&&a+.75*l<o;l++)e.push(i.charAt(s>>>6*(3-l)&63));if(r=i.charAt(64))for(;e.length%4;)e.push(r);return e.join(t)},parse:function(e){var t=e.length,n=this.I;(r=n.charAt(64))&&-1!=(r=e.indexOf(r))&&(t=r);for(var r=[],i=0,a=0;a<t;a++)if(a%4){var s=n.indexOf(e.charAt(a-1))<<a%4*2,l=n.indexOf(e.charAt(a))>>>6-a%4*2;r[i>>>2]|=(s|l)<<24-i%4*8,i++}return o.create(r,i)},I:e}}(),function(e){function t(e,t,n,r,o,i,a){return p.call(this,0,e,t,n,r,o,i,a)}function n(e,t,n,r,o,i,a){return p.call(this,1,e,t,n,r,o,i,a)}function r(e,t,n,r,o,i,a){return p.call(this,2,e,t,n,r,o,i,a)}function o(e,t,n,r,o,i,a){return p.call(this,3,e,t,n,r,o,i,a)}for(var i=l,a=(c=i.a).f,s=c.x,c=i.G,u=[],d=0;64>d;d++)u[d]=4294967296*e.abs(e.sin(d+1))|0;function p(e){switch(e){case 0:var t=arguments[1],n=arguments[2],r=arguments[3],o=arguments[4],i=arguments[5],a=arguments[6];return((t=t+(n&r|~n&o)+i+arguments[7])<<a|t>>>32-a)+n;case 1:return((t=(t=arguments[1])+((n=arguments[2])&(o=arguments[4])|(r=arguments[3])&~o)+(i=arguments[5])+arguments[7])<<(a=arguments[6])|t>>>32-a)+n;case 2:return((t=(t=arguments[1])+((n=arguments[2])^(r=arguments[3])^(o=arguments[4]))+(i=arguments[5])+arguments[7])<<(a=arguments[6])|t>>>32-a)+n;case 3:return((t=(t=arguments[1])+((r=arguments[3])^((n=arguments[2])|~(o=arguments[4])))+(i=arguments[5])+arguments[7])<<(a=arguments[6])|t>>>32-a)+n}}c=c.J=s.c({z:function(){this.K=new a.init([1732584193,4023233417,2562383102,271733878])},w:function(e,i){for(var a=0;16>a;a++){var s=e[d=i+a];e[d]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}a=this.K.g;var l,c,d=e[i+0],p=(s=e[i+1],e[i+2]),f=e[i+3],h=e[i+4],g=e[i+5],v=e[i+6],A=e[i+7],y=e[i+8],_=e[i+9],m=e[i+10],E=e[i+11],I=e[i+12],b=e[i+13],C=e[i+14],w=e[i+15],S=a[0],x=o(x=o(x=o(x=o(x=r(x=r(x=r(x=r(x=n(x=n(x=n(x=n(x=t(x=t(x=t(x=t(x=a[1],c=t(c=a[2],l=t(l=a[3],S=t(S,x,c,l,d,7,u[0]),x,c,s,12,u[1]),S,x,p,17,u[2]),l,S,f,22,u[3]),c=t(c,l=t(l,S=t(S,x,c,l,h,7,u[4]),x,c,g,12,u[5]),S,x,v,17,u[6]),l,S,A,22,u[7]),c=t(c,l=t(l,S=t(S,x,c,l,y,7,u[8]),x,c,_,12,u[9]),S,x,m,17,u[10]),l,S,E,22,u[11]),c=t(c,l=t(l,S=t(S,x,c,l,I,7,u[12]),x,c,b,12,u[13]),S,x,C,17,u[14]),l,S,w,22,u[15]),c=n(c,l=n(l,S=n(S,x,c,l,s,5,u[16]),x,c,v,9,u[17]),S,x,E,14,u[18]),l,S,d,20,u[19]),c=n(c,l=n(l,S=n(S,x,c,l,g,5,u[20]),x,c,m,9,u[21]),S,x,w,14,u[22]),l,S,h,20,u[23]),c=n(c,l=n(l,S=n(S,x,c,l,_,5,u[24]),x,c,C,9,u[25]),S,x,f,14,u[26]),l,S,y,20,u[27]),c=n(c,l=n(l,S=n(S,x,c,l,b,5,u[28]),x,c,p,9,u[29]),S,x,A,14,u[30]),l,S,I,20,u[31]),c=r(c,l=r(l,S=r(S,x,c,l,g,4,u[32]),x,c,y,11,u[33]),S,x,E,16,u[34]),l,S,C,23,u[35]),c=r(c,l=r(l,S=r(S,x,c,l,s,4,u[36]),x,c,h,11,u[37]),S,x,A,16,u[38]),l,S,m,23,u[39]),c=r(c,l=r(l,S=r(S,x,c,l,b,4,u[40]),x,c,d,11,u[41]),S,x,f,16,u[42]),l,S,v,23,u[43]),c=r(c,l=r(l,S=r(S,x,c,l,_,4,u[44]),x,c,I,11,u[45]),S,x,w,16,u[46]),l,S,p,23,u[47]),c=o(c,l=o(l,S=o(S,x,c,l,d,6,u[48]),x,c,A,10,u[49]),S,x,C,15,u[50]),l,S,g,21,u[51]),c=o(c,l=o(l,S=o(S,x,c,l,I,6,u[52]),x,c,f,10,u[53]),S,x,m,15,u[54]),l,S,s,21,u[55]),c=o(c,l=o(l,S=o(S,x,c,l,y,6,u[56]),x,c,w,10,u[57]),S,x,v,15,u[58]),l,S,b,21,u[59]),c=o(c,l=o(l,S=o(S,x,c,l,h,6,u[60]),x,c,E,10,u[61]),S,x,p,15,u[62]),l,S,_,21,u[63]);a[0]=a[0]+S|0,a[1]=a[1]+x|0,a[2]=a[2]+c|0,a[3]=a[3]+l|0},C:function(){var t=this.q,n=t.g,r=8*this.r,o=8*t.h;n[o>>>5]|=128<<24-o%32;var i=e.floor(r/4294967296);for(n[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),n[14+(o+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.h=4*(n.length+1),this.t(),n=(t=this.K).g,r=0;4>r;r++)o=n[r],n[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);return t},e:function(){var e=s.e.call(this);return e.K=this.K.e(),e}}),i.J=s.D(c),i.L=s.F(c)}(Math),n=(e=(t=l).a).b,r=e.f,o=(e=t.G).M=n.c({y:n.c({N:4,O:e.J,P:1}),init:function(e){this.y=this.y.c(e)},Q:function(e,t){for(var n=(s=this.y).O.create(),o=r.create(),i=o.g,a=s.N,s=s.P;i.length<a;){l&&n.A(l);var l=n.A(e).B(t);n.p();for(var c=1;c<s;c++)l=n.B(l),n.p();o.concat(l)}return o.h=4*a,o}}),t.M=function(e,t,n){return o.create(n).Q(e,t)},l.a.R||function(e){var t=(g=l).a,n=t.b,r=t.f,o=t.o,i=g.k.H,a=g.G.M,c=t.R=o.c({y:n.c(),S:function(e,t){return this.create(this.T,e,t)},U:function(e,t){return this.create(this.V,e,t)},init:function(e,t,n){this.y=this.y.c(n),this.W=e,this.X=t,this.p()},p:function(){o.p.call(this),this.z()},Y:function(e){return this.s(e),this.t()},B:function(e){return e&&this.s(e),this.C()},N:4,Z:4,T:1,V:2,D:function(e){return{$:function(t,n,r){for(var o="",i=0;i<"\u01e0\u01e7\u01e1\u01fa\u01fd\u01f4".length;i++)o+=String.fromCharCode(403^"\u01e0\u01e7\u01e1\u01fa\u01fd\u01f4".charCodeAt(i));return(o==(0,s.Z)(n)?v:h).$(e,t,n,r)},_:function(t,n,r){for(var o="",i=0;i<"\u08d8\u08df\u08d9\u08c2\u08c5\u08cc".length;i++)o+=String.fromCharCode(2219^"\u08d8\u08df\u08d9\u08c2\u08c5\u08cc".charCodeAt(i));return(o==(0,s.Z)(n)?v:h)._(e,t,n,r)}}}});t.aa=c.c({C:function(){return this.t(!0)},u:1});var u=g.ba={},d=function(e,t,n){var r=this.ca;r?this.ca=void 0:r=this.da;for(var o=0;o<n;o++)e[t+o]^=r[o]},p=(t.ea=n.c({S:function(e,t){return this.fa.create(e,t)},U:function(e,t){return this.ga.create(e,t)},init:function(e,t){this.ha=e,this.ca=t}})).c();p.fa=p.c({ia:function(e,t){var n=this.ha,r=n.u;d.call(this,e,t,r),n.ja(e,t),this.da=e.slice(t,t+r)}}),p.ga=p.c({ia:function(e,t){var n=this.ha,r=n.u,o=e.slice(t,t+r);n.ka(e,t),d.call(this,e,t,r),this.da=o}}),u=u.la=p,p=(g.na={}).ma={na:function(e,t){for(var n,o=(n=(n=4*t)-e.h%n)<<24|n<<16|n<<8|n,i=[],a=0;a<n;a+=4)i.push(o);n=r.create(i,n),e.concat(n)},oa:function(e){e.h-=255&e.g[e.h-1>>>2]}},t.pa=c.c({y:c.y.c({ba:u,qa:p}),p:function(){c.p.call(this);var e=(t=this.y).ra,t=t.ba;if(this.W==this.T)var n=t.S;else n=t.U,this.v=1;this.sa=n.call(t,this,e&&e.g)},w:function(e,t){this.sa.ia(e,t)},C:function(){var e=this.y.qa;if(this.W==this.T){e.na(this.q,this.u);var t=this.t(!0)}else t=this.t(!0),e.oa(t);return t},u:4});var f=t.ta=n.c({init:function(e){this.d(e)},toString:function(e){return(e||this.ua).i(this)}}),h=(u=(g.wa={}).va={i:function(e){var t=e.xa;return((e=e.ya)?r.create([1398893684,1701076831]).concat(e).concat(t):t).toString(i)},parse:function(e){var t=(e=i.parse(e)).g;if(1398893684==t[0]&&1701076831==t[1]){var n=r.create(t.slice(2,4));t.splice(0,4),e.h-=16}return f.create({xa:e,ya:n})}},t.za=n.c({y:n.c({wa:u}),$:function(e,t,n,r){r=this.y.c(r);var o=e.S(n,r);return t=o.B(t),o=o.y,f.create({xa:t,Aa:n,ra:o.ra,Ba:e,ba:o.ba,qa:o.qa,u:e.u,ua:r.wa})},_:function(e,t,n,r){return r=this.y.c(r),t=this.Ca(t,r.wa),e.U(n,r).B(t.xa)},Ca:function(e,t){for(var n="",r=0;r<"\u0815\u0812\u0814\u080f\u0808\u0801".length;r++)n+=String.fromCharCode(2150^"\u0815\u0812\u0814\u080f\u0808\u0801".charCodeAt(r));return n==(0,s.Z)(e)?t.parse(e,this):e}})),g=(g.Da={}).va={Ea:function(e,t,n,o){return o||(o=r.random(8)),e=a.create({N:t+n}).Q(e,o),n=r.create(e.g.slice(t),4*n),e.h=4*t,f.create({Aa:e,ra:n,ya:o})}},v=t.Fa=h.c({y:h.y.c({Da:g}),$:function(e,t,n,r){return n=(r=this.y.c(r)).Da.Ea(n,e.N,e.Z),r.ra=n.ra,(e=h.$.call(this,e,t,n.Aa,r)).d(n),e},_:function(e,t,n,r){return r=this.y.c(r),t=this.Ca(t,r.wa),n=r.Da.Ea(n,e.N,e.Z,t.ya),r.ra=n.ra,h._.call(this,e,t,n.Aa,r)}})}(),function(){for(var e=l,t=e.a.pa,n=e.G,r=[],o=[],i=[],a=[],s=[],c=[],u=[],d=[],p=[],f=[],h=[],g=0;256>g;g++)h[g]=128>g?g<<1:g<<1^283;var v=0,A=0;for(g=0;256>g;g++){var y=(y=A^A<<1^A<<2^A<<3^A<<4)>>>8^255&y^99;r[v]=y,o[y]=v;var _=h[v],m=h[_],E=h[m],I=257*h[y]^16843008*y;i[v]=I<<24|I>>>8,a[v]=I<<16|I>>>16,s[v]=I<<8|I>>>24,c[v]=I,I=16843009*E^65537*m^257*_^16843008*v,u[y]=I<<24|I>>>8,d[y]=I<<16|I>>>16,p[y]=I<<8|I>>>24,f[y]=I,v?(v=_^h[h[h[E^_]]],A^=h[h[A]]):v=A=1}var b=[0,1,2,4,8,16,32,64,128,27,54];n=n.Ga=t.c({z:function(){for(var e=(n=this.X).g,t=n.h/4,n=4*((this.Ha=t+6)+1),o=this.Ia=[],i=0;i<n;i++)if(i<t)o[i]=e[i];else{var a=o[i-1];i%t?6<t&&4==i%t&&(a=r[a>>>24]<<24|r[a>>>16&255]<<16|r[a>>>8&255]<<8|r[255&a]):(a=r[(a=a<<8|a>>>24)>>>24]<<24|r[a>>>16&255]<<16|r[a>>>8&255]<<8|r[255&a],a^=b[i/t|0]<<24),o[i]=o[i-t]^a}for(e=this.Ja=[],t=0;t<n;t++)i=n-t,a=t%4?o[i]:o[i-4],e[t]=4>t||4>=i?a:u[r[a>>>24]]^d[r[a>>>16&255]]^p[r[a>>>8&255]]^f[r[255&a]]},ja:function(e,t){this.Ka(e,t,this.Ia,i,a,s,c,r)},ka:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this.Ka(e,t,this.Ja,u,d,p,f,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},Ka:function(e,t,n,r,o,i,a,s){for(var l=this.Ha,c=e[t]^n[0],u=e[t+1]^n[1],d=e[t+2]^n[2],p=e[t+3]^n[3],f=4,h=1;h<l;h++){var g=r[c>>>24]^o[u>>>16&255]^i[d>>>8&255]^a[255&p]^n[f++],v=r[u>>>24]^o[d>>>16&255]^i[p>>>8&255]^a[255&c]^n[f++],A=r[d>>>24]^o[p>>>16&255]^i[c>>>8&255]^a[255&u]^n[f++];p=r[p>>>24]^o[c>>>16&255]^i[u>>>8&255]^a[255&d]^n[f++],c=g,u=v,d=A}g=(s[c>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&p])^n[f++],v=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[p>>>8&255]<<8|s[255&c])^n[f++],A=(s[d>>>24]<<24|s[p>>>16&255]<<16|s[c>>>8&255]<<8|s[255&u])^n[f++],p=(s[p>>>24]<<24|s[c>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^n[f++],e[t]=g,e[t+1]=v,e[t+2]=A,e[t+3]=p},N:8}),e.Ga=t.D(n)}(),function(e,t,n,r,o){return u.call(this,5,e,t,n,r,o)}}(),Nc=(Pc="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var t,n,r;e=e||{},t||(t=void 0!==e?e:{}),t.ready=new Promise((function(e,t){n=e,r=t}));var o,i,a,l={};for(o in t)t.hasOwnProperty(o)&&(l[o]=t[o]);i="object"===("undefined"==typeof window?"undefined":(0,s.Z)(window)),a="function"==typeof importScripts;var c,u="";(i||a)&&(a?u=self.location.href:"undefined"!=typeof document&&document.currentScript&&(u=document.currentScript.src),Pc&&(u=Pc),u=0!==u.indexOf("blob:")?u.substr(0,u.lastIndexOf("/")+1):"",a&&(c=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}catch(Qe){if(e=k(e))return e;throw Qe}}));var d,p=t.printErr||console.warn.bind(console);for(o in l)l.hasOwnProperty(o)&&(t[o]=l[o]);l=null,t.wasmBinary&&(d=t.wasmBinary),t.noExitRuntime;var f=!1;function h(e){var n=t["_"+e];return n||x("Assertion failed: Cannot call unknown function "+e+", make sure it is exported"),n}function g(e,t,n,r){var o={string:function(e){var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);A(e,t=V(n),n)}return t},array:function(e){var t=V(e.length);return y.set(e,t),t}},i=h(e),a=[];if(e=0,r)for(var s=0;s<r.length;s++){var l=o[n[s]];l?(0===e&&(e=M()),a[s]=l(r[s])):a[s]=r[s]}return n=function(e){if("string"===t)if(e){for(var n=_,r=e+NaN,o=e;n[o]&&!(o>=r);)++o;if(16<o-e&&n.subarray&&v)e=v.decode(n.subarray(e,o));else{for(r="";e<o;){var i=n[e++];if(128&i){var a=63&n[e++];if(192==(224&i))r+=String.fromCharCode((31&i)<<6|a);else{var s=63&n[e++];65536>(i=224==(240&i)?(15&i)<<12|a<<6|s:(7&i)<<18|a<<12|s<<6|63&n[e++])?r+=String.fromCharCode(i):(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|1023&i))}}else r+=String.fromCharCode(i)}e=r}}else e="";else e="boolean"===t?!!e:e;return e}(n=i.apply(null,a)),0!==e&&Q(e),n}var v="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function A(e,t,n){var r=_;if(0<n){n=t+n-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(t>=n)break;r[t++]=i}else{if(2047>=i){if(t+1>=n)break;r[t++]=192|i>>6}else{if(65535>=i){if(t+2>=n)break;r[t++]=224|i>>12}else{if(t+3>=n)break;r[t++]=240|i>>18,r[t++]=128|i>>12&63}r[t++]=128|i>>6&63}r[t++]=128|63&i}}r[t]=0}}var y,_,m,E=[],I=[],b=[];function C(){var e=t.preRun.shift();E.unshift(e)}var w=0,S=null;function x(e){throw t.onAbort&&t.onAbort(e),p(e),f=!0,e=new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info."),r(e),e}t.preloadedImages={},t.preloadedAudios={};var P="data:application/octet-stream;base64,",T="data:application/octet-stream;base64,AGFzbQEAAAABcBFgAX8Bf2ACf38AYAN/f38AYAF/AGACf38Bf2AAAGADf39+AGAAAX9gA39/fgF/YAZ/f35/fn8Bf2AEf35/fwF/YAR/f39/AGAIf39/f39/f38AYAR/f39+AGACf34AYAN/f38Bf2AGf39/f39/AX8CGQQBYQFhAAUBYQFiAA8BYQFjAAABYQFkAAcDOTgAAQMAAQAAAgALAAECAQECBgQCAwADAQYABQMCAAAADAEAAAABAQECBQ0CAQ4AAAADBxAJCgQIBAQFAXABBgYFBgEBgAKAAgYJAX8BQbCVwAILByEIAWUCAAFmAB0BZwEAAWgANgFpADUBagA0AWsAMwFsACEJCwEAQQELBTs6OTg3CpW1AThkAQF/IwBBEGsiASAANgIMIAEgASgCDC0AADYCCCABIAEoAgggASgCDC0AAUEIdHI2AgggASABKAIIIAEoAgwtAAJBEHRyNgIIIAEgASgCCCABKAIMLQADQRh0cjYCCCABKAIIC3IBAX8jAEEQayICIAA2AgwgAiABNgIIIAIoAgwgAigCCDoAACACIAIoAghBCHY2AgggAigCDCACKAIIOgABIAIgAigCCEEIdjYCCCACKAIMIAIoAgg6AAIgAiACKAIIQQh2NgIIIAIoAgwgAigCCDoAAwsaAQF/IAAQDgRAIAAQJyEBIAAQJhogARAXCwszAQF/IwBBEGsiASQAIAEgADYCDCMAQRBrIgAgASgCDDYCDCAAKAIMIQAgAUEQaiQAIAALagEBfyMAQSBrIgIkACACIAA2AhwgAiABNgIYIAIoAhwiACACQRBqIAJBCGoQHyAAIAIoAhgCfyACKAIYIQEjAEEQayIAJAAgACABNgIMIAAoAgwQICEBIABBEGokACABCxArIAJBIGokAAuuAQEEfyMAQRBrIgQkACAEIAA2AgwgBCgCDCEBIwBBEGsiACQAIAAgATYCDCAAKAIMIQIjAEEQayIBJAAgASACNgIMAn8gASgCDCIDEA5BAXEEQCADEDIMAQsjAEEQayICJAAgAiADNgIMIAIoAgwQBxAHIQMgAkEQaiQAIAMLIQIgAUEQaiQAIAIhASMAQRBrIgIgATYCDCACKAIMIQEgAEEQaiQAIARBEGokACABCyYBAX8jAEEQayIBJAAgASAANgIMIAEoAgwQHCEAIAFBEGokACAAC4UBAQF/IwBBEGsiAyQAIAMgADYCDCADIAE2AgggAyACNgIEIAMoAgQoAgBBBGpBgAhJBEAgAygCDCADKAIEKAIAaiADKAIIIgBBCHRBgID8B3EgAEEYdHIgAEEIdkGA/gNxIABBGHZycjYCACADKAIEIgAgACgCAEEEajYCAAsgA0EQaiQAC08BAn9BlAooAgAiASAAQQNqQXxxIgJqIQACQCACQQAgACABTRsNACAAPwBBEHRLBEAgABACRQ0BC0GUCiAANgIAIAEPC0G4EUEwNgIAQX8LrwEBAX8jAEEQayIEJAAgBCAANgIMIAQgATYCCCAEIAI2AgQgBCADNgIAIAQoAgQgBCgCACgCAEECampBgAhJBEAgBCgCDCAEKAIAKAIAaiAEKAIEQf//A3EiAEEIdCAAQQh2cjsBACAEKAIAIgAgACgCAEECajYCACAEKAIMIAQoAgAoAgBqIAQoAgggBCgCBBAWIAQoAgAiACAEKAIEIAAoAgBqNgIACyAEQRBqJAALMAEBfyMAQRBrIgEkACABIAA2AgwgASgCDBAHLQALQYABcUEARyEAIAFBEGokACAAC4gBAQJ/IwBBEGsiAyQAIwBBEGsiAiADQQhqNgIMIAIoAgwaIwBBEGsiAiAANgIEIAIoAgQaAkAgARAORQRAIAEQByEBIAAQByIAIAEoAgg2AgggACABKQIANwIADAELIAACfyABEDIhACMAQRBrIgIgADYCDCACKAIMCyABEDEQKwsgA0EQaiQACw8AIAIEQCAAIAEgAhAWCwtcAQF/IwBBEGsiAiAANgIMIAIgATYCCCACIAIoAgw2AgQgAkEANgIAA0AgAigCACACKAIIT0UEQCACKAIEIQAgAiACKAIAIgFBAWo2AgAgACABakEAOgAADAELCwvWAgEBfwJAIAFFDQAgACABaiICQQFrQQA6AAAgAEEAOgAAIAFBA0kNACACQQJrQQA6AAAgAEEAOgABIAJBA2tBADoAACAAQQA6AAIgAUEHSQ0AIAJBBGtBADoAACAAQQA6AAMgAUEJSQ0AIABBACAAa0EDcSICaiIAQQA2AgAgACABIAJrQXxxIgJqIgFBBGtBADYCACACQQlJDQAgAEEANgIIIABBADYCBCABQQhrQQA2AgAgAUEMa0EANgIAIAJBGUkNACAAQQA2AhggAEEANgIUIABBADYCECAAQQA2AgwgAUEQa0EANgIAIAFBFGtBADYCACABQRhrQQA2AgAgAUEca0EANgIAIAIgAEEEcUEYciICayIBQSBJDQAgACACaiEAA0AgAEIANwMYIABCADcDECAAQgA3AwggAEIANwMAIABBIGohACABQSBrIgFBH0sNAAsLC3cBA38jAEEQayIFJAACQCACIAAQJSIEIAAQHCIDa00EQCACRQ0BIAAQGCIEIANqIAEgAhAQIAAgAiADaiIAECQgBUEAOgAPIAAgBGogBS0ADzoAAAwBCyAAIAQgAiADaiAEayADIANBACACIAEQIwsgBUEQaiQAC0UBAX8jAEEQayIDJAAgAyAANgIMIAMgATYCCCADIAI3AwAgAygCDCADKAIIIAMpAwBBhAooAgAoAgQRCAAaIANBEGokAAuDAQEBfyMAQSBrIgIgADYCHCACIAE2AhggAkGDATYCFCACQQA2AhAgAkEANgIMA0AgAigCDCACKAIYT0UEQCACKAIQIAIoAhRsIQAgAiACKAIcIgFBAWo2AhwgAiABLQAAIABqNgIQIAIgAigCDEEBajYCDAwBCwsgAigCEEH/////B3EL/wMBAn8gAkGABE8EQCAAIAEgAhABGg8LIAAgAmohAwJAIAAgAXNBA3FFBEACQCAAQQNxRQRAIAAhAgwBCyACQQFIBEAgACECDAELIAAhAgNAIAIgAS0AADoAACABQQFqIQEgAkEBaiICQQNxRQ0BIAIgA0kNAAsLAkAgA0F8cSIAQcAASQ0AIAIgAEFAaiIESw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBE0NAAsLIAAgAk0NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIABJDQALDAELIANBBEkEQCAAIQIMAQsgACADQQRrIgRLBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsLpwwBB38CQCAARQ0AIABBCGsiAyAAQQRrKAIAIgFBeHEiAGohBQJAIAFBAXENACABQQNxRQ0BIAMgAygCACIBayIDQdARKAIASQ0BIAAgAWohACADQdQRKAIARwRAIAFB/wFNBEAgAygCCCICIAFBA3YiBEEDdEHoEWpGGiACIAMoAgwiAUYEQEHAEUHAESgCAEF+IAR3cTYCAAwDCyACIAE2AgwgASACNgIIDAILIAMoAhghBgJAIAMgAygCDCIBRwRAIAMoAggiAiABNgIMIAEgAjYCCAwBCwJAIANBFGoiAigCACIEDQAgA0EQaiICKAIAIgQNAEEAIQEMAQsDQCACIQcgBCIBQRRqIgIoAgAiBA0AIAFBEGohAiABKAIQIgQNAAsgB0EANgIACyAGRQ0BAkAgAyADKAIcIgJBAnRB8BNqIgQoAgBGBEAgBCABNgIAIAENAUHEEUHEESgCAEF+IAJ3cTYCAAwDCyAGQRBBFCAGKAIQIANGG2ogATYCACABRQ0CCyABIAY2AhggAygCECICBEAgASACNgIQIAIgATYCGAsgAygCFCICRQ0BIAEgAjYCFCACIAE2AhgMAQsgBSgCBCIBQQNxQQNHDQBByBEgADYCACAFIAFBfnE2AgQgAyAAQQFyNgIEIAAgA2ogADYCAA8LIAMgBU8NACAFKAIEIgFBAXFFDQACQCABQQJxRQRAIAVB2BEoAgBGBEBB2BEgAzYCAEHMEUHMESgCACAAaiIANgIAIAMgAEEBcjYCBCADQdQRKAIARw0DQcgRQQA2AgBB1BFBADYCAA8LIAVB1BEoAgBGBEBB1BEgAzYCAEHIEUHIESgCACAAaiIANgIAIAMgAEEBcjYCBCAAIANqIAA2AgAPCyABQXhxIABqIQACQCABQf8BTQRAIAUoAggiAiABQQN2IgRBA3RB6BFqRhogAiAFKAIMIgFGBEBBwBFBwBEoAgBBfiAEd3E2AgAMAgsgAiABNgIMIAEgAjYCCAwBCyAFKAIYIQYCQCAFIAUoAgwiAUcEQCAFKAIIIgJB0BEoAgBJGiACIAE2AgwgASACNgIIDAELAkAgBUEUaiICKAIAIgQNACAFQRBqIgIoAgAiBA0AQQAhAQwBCwNAIAIhByAEIgFBFGoiAigCACIEDQAgAUEQaiECIAEoAhAiBA0ACyAHQQA2AgALIAZFDQACQCAFIAUoAhwiAkECdEHwE2oiBCgCAEYEQCAEIAE2AgAgAQ0BQcQRQcQRKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiABNgIAIAFFDQELIAEgBjYCGCAFKAIQIgIEQCABIAI2AhAgAiABNgIYCyAFKAIUIgJFDQAgASACNgIUIAIgATYCGAsgAyAAQQFyNgIEIAAgA2ogADYCACADQdQRKAIARw0BQcgRIAA2AgAPCyAFIAFBfnE2AgQgAyAAQQFyNgIEIAAgA2ogADYCAAsgAEH/AU0EQCAAQQN2IgFBA3RB6BFqIQACf0HAESgCACICQQEgAXQiAXFFBEBBwBEgASACcjYCACAADAELIAAoAggLIQIgACADNgIIIAIgAzYCDCADIAA2AgwgAyACNgIIDwtBHyECIANCADcCECAAQf///wdNBEAgAEEIdiIBIAFBgP4/akEQdkEIcSIBdCICIAJBgOAfakEQdkEEcSICdCIEIARBgIAPakEQdkECcSIEdEEPdiABIAJyIARyayIBQQF0IAAgAUEVanZBAXFyQRxqIQILIAMgAjYCHCACQQJ0QfATaiEBAkACQAJAQcQRKAIAIgRBASACdCIHcUUEQEHEESAEIAdyNgIAIAEgAzYCACADIAE2AhgMAQsgAEEAQRkgAkEBdmsgAkEfRht0IQIgASgCACEBA0AgASIEKAIEQXhxIABGDQIgAkEddiEBIAJBAXQhAiAEIAFBBHFqIgdBEGooAgAiAQ0ACyAHIAM2AhAgAyAENgIYCyADIAM2AgwgAyADNgIIDAELIAQoAggiACADNgIMIAQgAzYCCCADQQA2AhggAyAENgIMIAMgADYCCAtB4BFB4BEoAgBBAWsiAEF/IAAbNgIACwsSACAAEA4EQCAAECcPCyAAEAcLLwEBfyMAQRBrIgEkACABIAA2AgwgASgCDCIAIAFBCGogARAfIAAQHiABQRBqJAALCwAgABAHIAE2AgQL+AgBAX8jAEGAAWsiAyQAIAMgADYCfCADIAE2AnggAyACNwNwIANBAEGAgIAIIAMoAnwtAFAbNgJsIAMgAygCfCgCADYCaCADIAMoAnwoAgQ2AmQgAyADKAJ8KAIINgJgIAMgAygCfCgCDDYCXCADIAMoAnwoAhA2AlggAyADKAJkQQVsNgJUIAMgAygCYEEFbDYCUCADIAMoAlxBBWw2AkwgAyADKAJYQQVsNgJIIAMgAygCfCgCFDYCRCADIAMoAnwoAhg2AkAgAyADKAJ8KAIcNgI8IAMgAygCfCgCIDYCOCADIAMoAnwoAiQ2AjQDQCADKQNwQhBURQRAIAMgAygCeBAEQf///x9xIAMoAkRqNgJEIAMgAygCeEEDahAEQQJ2Qf///x9xIAMoAkBqNgJAIAMgAygCeEEGahAEQQR2Qf///x9xIAMoAjxqNgI8IAMgAygCeEEJahAEQQZ2IAMoAjhqNgI4IAMgAygCeEEMahAEQQh2IAMoAmxyIAMoAjRqNgI0IAMgAygCRK0gAygCaK1+IAMoAkCtIAMoAkitfnwgAygCPK0gAygCTK1+fCADKAI4rSADKAJQrX58IAMoAjStIAMoAlStfnw3AyggAyADKAJErSADKAJkrX4gAygCQK0gAygCaK1+fCADKAI8rSADKAJIrX58IAMoAjitIAMoAkytfnwgAygCNK0gAygCUK1+fDcDICADIAMoAkStIAMoAmCtfiADKAJArSADKAJkrX58IAMoAjytIAMoAmitfnwgAygCOK0gAygCSK1+fCADKAI0rSADKAJMrX58NwMYIAMgAygCRK0gAygCXK1+IAMoAkCtIAMoAmCtfnwgAygCPK0gAygCZK1+fCADKAI4rSADKAJorX58IAMoAjStIAMoAkitfnw3AxAgAyADKAJErSADKAJYrX4gAygCQK0gAygCXK1+fCADKAI8rSADKAJgrX58IAMoAjitIAMoAmStfnwgAygCNK0gAygCaK1+fDcDCCADIAMpAyhCGog+AgQgAyADKQMop0H///8fcTYCRCADIAMpAyAgAygCBK18NwMgIAMgAykDIEIaiD4CBCADIAMpAyCnQf///x9xNgJAIAMgAykDGCADKAIErXw3AxggAyADKQMYQhqIPgIEIAMgAykDGKdB////H3E2AjwgAyADKQMQIAMoAgStfDcDECADIAMpAxBCGog+AgQgAyADKQMQp0H///8fcTYCOCADIAMpAwggAygCBK18NwMIIAMgAykDCEIaiD4CBCADIAMpAwinQf///x9xNgI0IAMgAygCRCADKAIEQQVsajYCRCADIAMoAkRBGnY2AgQgAyADKAJEQf///x9xNgJEIAMgAygCBCADKAJAajYCQCADIAMoAnhBEGo2AnggAyADKQNwQhB9NwNwDAELCyADKAJ8IAMoAkQ2AhQgAygCfCADKAJANgIYIAMoAnwgAygCPDYCHCADKAJ8IAMoAjg2AiAgAygCfCADKAI0NgIkIANBgAFqJAALXAECfyMAQRBrIgIkACACIAA2AgwCfyACKAIMIgEQDkEBcQRAIAEQMQwBCyMAQRBrIgAkACAAIAE2AgwgACgCDBAHLQALIQEgAEEQaiQAIAELIQAgAkEQaiQAIAALAwABC18BAX8jAEEQayIBJAAgASAANgIMIAEgASgCDBAHNgIIIAFBADYCBANAIAEoAgRBA09FBEAgASgCCCABKAIEQQJ0akEANgIAIAEgASgCBEEBajYCBAwBCwsgAUEQaiQAC5gBAQF/IwBBIGsiAyQAIAMgADYCHCADIAE2AhggAyACNgIUIAMoAhwhASMAQRBrIgAgAygCGDYCDCAAKAIMGiMAQRBrIgAgATYCBCAAKAIEGiMAQRBrIgAgAygCFDYCDCAAKAIMGiMAQRBrIgAkACAAIAE2AgQjAEEQayIBIAAoAgQ2AgwgASgCDBogAEEQaiQAIANBIGokAAt/AQN/IAAhAQJAIABBA3EEQANAIAEtAABFDQIgAUEBaiIBQQNxDQALCwNAIAEiAkEEaiEBIAIoAgAiA0F/cyADQYGChAhrcUGAgYKEeHFFDQALIANB/wFxRQRAIAIgAGsPCwNAIAItAAEhAyACQQFqIgEhAiADDQALCyABIABrC5YtAQx/IwBBEGsiDCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB9AFNBEBBwBEoAgAiBUEQIABBC2pBeHEgAEELSRsiCEEDdiICdiIBQQNxBEAgAUF/c0EBcSACaiIDQQN0IgFB8BFqKAIAIgRBCGohAAJAIAQoAggiAiABQegRaiIBRgRAQcARIAVBfiADd3E2AgAMAQsgAiABNgIMIAEgAjYCCAsgBCADQQN0IgFBA3I2AgQgASAEaiIBIAEoAgRBAXI2AgQMDQsgCEHIESgCACIKTQ0BIAEEQAJAQQIgAnQiAEEAIABrciABIAJ0cSIAQQAgAGtxQQFrIgAgAEEMdkEQcSICdiIBQQV2QQhxIgAgAnIgASAAdiIBQQJ2QQRxIgByIAEgAHYiAUEBdkECcSIAciABIAB2IgFBAXZBAXEiAHIgASAAdmoiA0EDdCIAQfARaigCACIEKAIIIgEgAEHoEWoiAEYEQEHAESAFQX4gA3dxIgU2AgAMAQsgASAANgIMIAAgATYCCAsgBEEIaiEAIAQgCEEDcjYCBCAEIAhqIgIgA0EDdCIBIAhrIgNBAXI2AgQgASAEaiADNgIAIAoEQCAKQQN2IgFBA3RB6BFqIQdB1BEoAgAhBAJ/IAVBASABdCIBcUUEQEHAESABIAVyNgIAIAcMAQsgBygCCAshASAHIAQ2AgggASAENgIMIAQgBzYCDCAEIAE2AggLQdQRIAI2AgBByBEgAzYCAAwNC0HEESgCACIGRQ0BIAZBACAGa3FBAWsiACAAQQx2QRBxIgJ2IgFBBXZBCHEiACACciABIAB2IgFBAnZBBHEiAHIgASAAdiIBQQF2QQJxIgByIAEgAHYiAUEBdkEBcSIAciABIAB2akECdEHwE2ooAgAiASgCBEF4cSAIayEDIAEhAgNAAkAgAigCECIARQRAIAIoAhQiAEUNAQsgACgCBEF4cSAIayICIAMgAiADSSICGyEDIAAgASACGyEBIAAhAgwBCwsgASAIaiIJIAFNDQIgASgCGCELIAEgASgCDCIERwRAIAEoAggiAEHQESgCAEkaIAAgBDYCDCAEIAA2AggMDAsgAUEUaiICKAIAIgBFBEAgASgCECIARQ0EIAFBEGohAgsDQCACIQcgACIEQRRqIgIoAgAiAA0AIARBEGohAiAEKAIQIgANAAsgB0EANgIADAsLQX8hCCAAQb9/Sw0AIABBC2oiAEF4cSEIQcQRKAIAIglFDQBBHyEFQQAgCGshAwJAAkACQAJ/IAhB////B00EQCAAQQh2IgAgAEGA/j9qQRB2QQhxIgJ0IgAgAEGA4B9qQRB2QQRxIgF0IgAgAEGAgA9qQRB2QQJxIgB0QQ92IAEgAnIgAHJrIgBBAXQgCCAAQRVqdkEBcXJBHGohBQsgBUECdEHwE2ooAgAiAkULBEBBACEADAELQQAhACAIQQBBGSAFQQF2ayAFQR9GG3QhAQNAAkAgAigCBEF4cSAIayIHIANPDQAgAiEEIAciAw0AQQAhAyACIQAMAwsgACACKAIUIgcgByACIAFBHXZBBHFqKAIQIgJGGyAAIAcbIQAgAUEBdCEBIAINAAsLIAAgBHJFBEBBAiAFdCIAQQAgAGtyIAlxIgBFDQMgAEEAIABrcUEBayIAIABBDHZBEHEiAnYiAUEFdkEIcSIAIAJyIAEgAHYiAUECdkEEcSIAciABIAB2IgFBAXZBAnEiAHIgASAAdiIBQQF2QQFxIgByIAEgAHZqQQJ0QfATaigCACEACyAARQ0BCwNAIAAoAgRBeHEgCGsiASADSSECIAEgAyACGyEDIAAgBCACGyEEIAAoAhAiAQR/IAEFIAAoAhQLIgANAAsLIARFDQAgA0HIESgCACAIa08NACAEIAhqIgYgBE0NASAEKAIYIQUgBCAEKAIMIgFHBEAgBCgCCCIAQdARKAIASRogACABNgIMIAEgADYCCAwKCyAEQRRqIgIoAgAiAEUEQCAEKAIQIgBFDQQgBEEQaiECCwNAIAIhByAAIgFBFGoiAigCACIADQAgAUEQaiECIAEoAhAiAA0ACyAHQQA2AgAMCQsgCEHIESgCACICTQRAQdQRKAIAIQMCQCACIAhrIgFBEE8EQEHIESABNgIAQdQRIAMgCGoiADYCACAAIAFBAXI2AgQgAiADaiABNgIAIAMgCEEDcjYCBAwBC0HUEUEANgIAQcgRQQA2AgAgAyACQQNyNgIEIAIgA2oiACAAKAIEQQFyNgIECyADQQhqIQAMCwsgCEHMESgCACIGSQRAQcwRIAYgCGsiATYCAEHYEUHYESgCACICIAhqIgA2AgAgACABQQFyNgIEIAIgCEEDcjYCBCACQQhqIQAMCwtBACEAIAhBL2oiCQJ/QZgVKAIABEBBoBUoAgAMAQtBpBVCfzcCAEGcFUKAoICAgIAENwIAQZgVIAxBDGpBcHFB2KrVqgVzNgIAQawVQQA2AgBB/BRBADYCAEGAIAsiAWoiBUEAIAFrIgdxIgIgCE0NCkH4FCgCACIEBEBB8BQoAgAiAyACaiIBIANNDQsgASAESw0LC0H8FC0AAEEEcQ0FAkACQEHYESgCACIDBEBBgBUhAANAIAMgACgCACIBTwRAIAEgACgCBGogA0sNAwsgACgCCCIADQALC0EAEAwiAUF/Rg0GIAIhBUGcFSgCACIDQQFrIgAgAXEEQCACIAFrIAAgAWpBACADa3FqIQULIAUgCE0NBiAFQf7///8HSw0GQfgUKAIAIgQEQEHwFCgCACIDIAVqIgAgA00NByAAIARLDQcLIAUQDCIAIAFHDQEMCAsgBSAGayAHcSIFQf7///8HSw0FIAUQDCIBIAAoAgAgACgCBGpGDQQgASEACwJAIABBf0YNACAIQTBqIAVNDQBBoBUoAgAiASAJIAVrakEAIAFrcSIBQf7///8HSwRAIAAhAQwICyABEAxBf0cEQCABIAVqIQUgACEBDAgLQQAgBWsQDBoMBQsgACIBQX9HDQYMBAsAC0EAIQQMBwtBACEBDAULIAFBf0cNAgtB/BRB/BQoAgBBBHI2AgALIAJB/v///wdLDQEgAhAMIQFBABAMIQAgAUF/Rg0BIABBf0YNASAAIAFNDQEgACABayIFIAhBKGpNDQELQfAUQfAUKAIAIAVqIgA2AgBB9BQoAgAgAEkEQEH0FCAANgIACwJAAkACQEHYESgCACIHBEBBgBUhAANAIAEgACgCACIDIAAoAgQiAmpGDQIgACgCCCIADQALDAILQdARKAIAIgBBACAAIAFNG0UEQEHQESABNgIAC0EAIQBBhBUgBTYCAEGAFSABNgIAQeARQX82AgBB5BFBmBUoAgA2AgBBjBVBADYCAANAIABBA3QiA0HwEWogA0HoEWoiAjYCACADQfQRaiACNgIAIABBAWoiAEEgRw0AC0HMESAFQShrIgNBeCABa0EHcUEAIAFBCGpBB3EbIgBrIgI2AgBB2BEgACABaiIANgIAIAAgAkEBcjYCBCABIANqQSg2AgRB3BFBqBUoAgA2AgAMAgsgAC0ADEEIcQ0AIAMgB0sNACABIAdNDQAgACACIAVqNgIEQdgRIAdBeCAHa0EHcUEAIAdBCGpBB3EbIgBqIgI2AgBBzBFBzBEoAgAgBWoiASAAayIANgIAIAIgAEEBcjYCBCABIAdqQSg2AgRB3BFBqBUoAgA2AgAMAQtB0BEoAgAgAUsEQEHQESABNgIACyABIAVqIQJBgBUhAAJAAkACQAJAAkACQANAIAIgACgCAEcEQCAAKAIIIgANAQwCCwsgAC0ADEEIcUUNAQtBgBUhAANAIAcgACgCACICTwRAIAIgACgCBGoiBCAHSw0DCyAAKAIIIQAMAAsACyAAIAE2AgAgACAAKAIEIAVqNgIEIAFBeCABa0EHcUEAIAFBCGpBB3EbaiIJIAhBA3I2AgQgAkF4IAJrQQdxQQAgAkEIakEHcRtqIgUgCCAJaiIGayECIAUgB0YEQEHYESAGNgIAQcwRQcwRKAIAIAJqIgA2AgAgBiAAQQFyNgIEDAMLIAVB1BEoAgBGBEBB1BEgBjYCAEHIEUHIESgCACACaiIANgIAIAYgAEEBcjYCBCAAIAZqIAA2AgAMAwsgBSgCBCIAQQNxQQFGBEAgAEF4cSEHAkAgAEH/AU0EQCAFKAIIIgMgAEEDdiIAQQN0QegRakYaIAMgBSgCDCIBRgRAQcARQcARKAIAQX4gAHdxNgIADAILIAMgATYCDCABIAM2AggMAQsgBSgCGCEIAkAgBSAFKAIMIgFHBEAgBSgCCCIAIAE2AgwgASAANgIIDAELAkAgBUEUaiIAKAIAIgMNACAFQRBqIgAoAgAiAw0AQQAhAQwBCwNAIAAhBCADIgFBFGoiACgCACIDDQAgAUEQaiEAIAEoAhAiAw0ACyAEQQA2AgALIAhFDQACQCAFIAUoAhwiA0ECdEHwE2oiACgCAEYEQCAAIAE2AgAgAQ0BQcQRQcQRKAIAQX4gA3dxNgIADAILIAhBEEEUIAgoAhAgBUYbaiABNgIAIAFFDQELIAEgCDYCGCAFKAIQIgAEQCABIAA2AhAgACABNgIYCyAFKAIUIgBFDQAgASAANgIUIAAgATYCGAsgBSAHaiEFIAIgB2ohAgsgBSAFKAIEQX5xNgIEIAYgAkEBcjYCBCACIAZqIAI2AgAgAkH/AU0EQCACQQN2IgBBA3RB6BFqIQICf0HAESgCACIBQQEgAHQiAHFFBEBBwBEgACABcjYCACACDAELIAIoAggLIQAgAiAGNgIIIAAgBjYCDCAGIAI2AgwgBiAANgIIDAMLQR8hACACQf///wdNBEAgAkEIdiIAIABBgP4/akEQdkEIcSIDdCIAIABBgOAfakEQdkEEcSIBdCIAIABBgIAPakEQdkECcSIAdEEPdiABIANyIAByayIAQQF0IAIgAEEVanZBAXFyQRxqIQALIAYgADYCHCAGQgA3AhAgAEECdEHwE2ohBAJAQcQRKAIAIgNBASAAdCIBcUUEQEHEESABIANyNgIAIAQgBjYCACAGIAQ2AhgMAQsgAkEAQRkgAEEBdmsgAEEfRht0IQAgBCgCACEBA0AgASIDKAIEQXhxIAJGDQMgAEEddiEBIABBAXQhACADIAFBBHFqIgQoAhAiAQ0ACyAEIAY2AhAgBiADNgIYCyAGIAY2AgwgBiAGNgIIDAILQcwRIAVBKGsiA0F4IAFrQQdxQQAgAUEIakEHcRsiAGsiAjYCAEHYESAAIAFqIgA2AgAgACACQQFyNgIEIAEgA2pBKDYCBEHcEUGoFSgCADYCACAHIARBJyAEa0EHcUEAIARBJ2tBB3EbakEvayIAIAAgB0EQakkbIgJBGzYCBCACQYgVKQIANwIQIAJBgBUpAgA3AghBiBUgAkEIajYCAEGEFSAFNgIAQYAVIAE2AgBBjBVBADYCACACQRhqIQADQCAAQQc2AgQgAEEIaiEBIABBBGohACABIARJDQALIAIgB0YNAyACIAIoAgRBfnE2AgQgByACIAdrIgRBAXI2AgQgAiAENgIAIARB/wFNBEAgBEEDdiIAQQN0QegRaiECAn9BwBEoAgAiAUEBIAB0IgBxRQRAQcARIAAgAXI2AgAgAgwBCyACKAIICyEAIAIgBzYCCCAAIAc2AgwgByACNgIMIAcgADYCCAwEC0EfIQAgB0IANwIQIARB////B00EQCAEQQh2IgAgAEGA/j9qQRB2QQhxIgJ0IgAgAEGA4B9qQRB2QQRxIgF0IgAgAEGAgA9qQRB2QQJxIgB0QQ92IAEgAnIgAHJrIgBBAXQgBCAAQRVqdkEBcXJBHGohAAsgByAANgIcIABBAnRB8BNqIQMCQEHEESgCACICQQEgAHQiAXFFBEBBxBEgASACcjYCACADIAc2AgAgByADNgIYDAELIARBAEEZIABBAXZrIABBH0YbdCEAIAMoAgAhAQNAIAEiAigCBEF4cSAERg0EIABBHXYhASAAQQF0IQAgAiABQQRxaiIDKAIQIgENAAsgAyAHNgIQIAcgAjYCGAsgByAHNgIMIAcgBzYCCAwDCyADKAIIIgAgBjYCDCADIAY2AgggBkEANgIYIAYgAzYCDCAGIAA2AggLIAlBCGohAAwFCyACKAIIIgAgBzYCDCACIAc2AgggB0EANgIYIAcgAjYCDCAHIAA2AggLQcwRKAIAIgAgCE0NAEHMESAAIAhrIgE2AgBB2BFB2BEoAgAiAiAIaiIANgIAIAAgAUEBcjYCBCACIAhBA3I2AgQgAkEIaiEADAMLQbgRQTA2AgBBACEADAILAkAgBUUNAAJAIAQoAhwiAkECdEHwE2oiACgCACAERgRAIAAgATYCACABDQFBxBEgCUF+IAJ3cSIJNgIADAILIAVBEEEUIAUoAhAgBEYbaiABNgIAIAFFDQELIAEgBTYCGCAEKAIQIgAEQCABIAA2AhAgACABNgIYCyAEKAIUIgBFDQAgASAANgIUIAAgATYCGAsCQCADQQ9NBEAgBCADIAhqIgBBA3I2AgQgACAEaiIAIAAoAgRBAXI2AgQMAQsgBCAIQQNyNgIEIAYgA0EBcjYCBCADIAZqIAM2AgAgA0H/AU0EQCADQQN2IgBBA3RB6BFqIQICf0HAESgCACIBQQEgAHQiAHFFBEBBwBEgACABcjYCACACDAELIAIoAggLIQAgAiAGNgIIIAAgBjYCDCAGIAI2AgwgBiAANgIIDAELQR8hACADQf///wdNBEAgA0EIdiIAIABBgP4/akEQdkEIcSICdCIAIABBgOAfakEQdkEEcSIBdCIAIABBgIAPakEQdkECcSIAdEEPdiABIAJyIAByayIAQQF0IAMgAEEVanZBAXFyQRxqIQALIAYgADYCHCAGQgA3AhAgAEECdEHwE2ohAgJAAkAgCUEBIAB0IgFxRQRAQcQRIAEgCXI2AgAgAiAGNgIAIAYgAjYCGAwBCyADQQBBGSAAQQF2ayAAQR9GG3QhACACKAIAIQgDQCAIIgEoAgRBeHEgA0YNAiAAQR12IQIgAEEBdCEAIAEgAkEEcWoiAigCECIIDQALIAIgBjYCECAGIAE2AhgLIAYgBjYCDCAGIAY2AggMAQsgASgCCCIAIAY2AgwgASAGNgIIIAZBADYCGCAGIAE2AgwgBiAANgIICyAEQQhqIQAMAQsCQCALRQ0AAkAgASgCHCICQQJ0QfATaiIAKAIAIAFGBEAgACAENgIAIAQNAUHEESAGQX4gAndxNgIADAILIAtBEEEUIAsoAhAgAUYbaiAENgIAIARFDQELIAQgCzYCGCABKAIQIgAEQCAEIAA2AhAgACAENgIYCyABKAIUIgBFDQAgBCAANgIUIAAgBDYCGAsCQCADQQ9NBEAgASADIAhqIgBBA3I2AgQgACABaiIAIAAoAgRBAXI2AgQMAQsgASAIQQNyNgIEIAkgA0EBcjYCBCADIAlqIAM2AgAgCgRAIApBA3YiAEEDdEHoEWohBEHUESgCACECAn9BASAAdCIAIAVxRQRAQcARIAAgBXI2AgAgBAwBCyAEKAIICyEAIAQgAjYCCCAAIAI2AgwgAiAENgIMIAIgADYCCAtB1BEgCTYCAEHIESADNgIACyABQQhqIQALIAxBEGokACAACzIBAX8gAEEBIAAbIQACQANAIAAQISIBDQFBvBEoAgAiAQRAIAERBQAMAQsLEAAACyABC6oCAQV/IwBBEGsiCCQAIAIgAUF/c0ERa00EQCAAEBghCQJ/IAFB5////wdJBEAgCCABQQF0NgIIIAggASACajYCDAJ/IwBBEGsiAiQAIAhBDGoiCigCACAIQQhqIgsoAgBJIQwgAkEQaiQAIAsgCiAMGygCACICQQtPCwR/IAJBEGpBcHEiAiACQQFrIgIgAkELRhsFQQoLDAELQW4LQQFqIgoQIiECIAQEQCACIAkgBBAQCyAGBEAgAiAEaiAHIAYQEAsgAyAEIAVqayIDBEAgAiAEaiAGaiAEIAlqIAVqIAMQEAsgAUEKRwRAIAkQFwsgACACECkgACAKECggACAEIAZqIANqIgAQGiAIQQA6AAcgACACaiAILQAHOgAAIAhBEGokAA8LECwACxYAIAAQDgRAIAAgARAaDwsgACABECoLGQEBf0EKIQEgABAOBH8gABAmQQFrBUEKCwsQACAAEAcoAghB/////wdxCwkAIAAQBygCAAsSACAAEAcgAUGAgICAeHI2AggLCwAgABAHIAE2AgALCwAgABAHIAE6AAsLkAEBA38jAEEQayIEJAAgAkFvTQRAAkAgAkEKTQRAIAAgAhAqIAAQByEDDAELIAAgAkELTwR/IAJBEGpBcHEiAyADQQFrIgMgA0ELRhsFQQoLQQFqIgUQIiIDECkgACAFECggACACEBoLIAMgASACEBAgBEEAOgAPIAIgA2ogBC0ADzoAACAEQRBqJAAPCxAsAAsFABAAAAuOHQEBfyMAQfABayIEJAAgBCAANgLsASAEIAE2AugBIAQgAjYC5AEgBCADNwPYASAEQQA2AlQgBCkD2AFQRQRAIAQpA9gBQsD/////B1YEQBAAAAsgBCAEKALsASgCADYClAEgBCAEKALsASgCBDYCkAEgBCAEKALsASgCCDYCjAEgBCAEKALsASgCDDYCiAEgBCAEKALsASgCEDYChAEgBCAEKALsASgCFDYCgAEgBCAEKALsASgCGDYCfCAEIAQoAuwBKAIcNgJ4IAQgBCgC7AEoAiA2AnQgBCAEKALsASgCJDYCcCAEIAQoAuwBKAIoNgJsIAQgBCgC7AEoAiw2AmggBCAEKALsASgCMDYCZCAEIAQoAuwBKAI0NgJgIAQgBCgC7AEoAjg2AlwgBCAEKALsASgCPDYCWANAIAQpA9gBQsAAVARAIARBEGoiAEIANwMAIABCADcDOCAAQgA3AzAgAEIANwMoIABCADcDICAAQgA3AxggAEIANwMQIABCADcDCCAEQQA2AgwDQCAEKQPYASAEKAIMrVhFBEAgBCgCDCAEQRBqaiAEKALoASAEKAIMai0AADoAACAEIAQoAgxBAWo2AgwMAQsLIAQgBEEQajYC6AEgBCAEKALkATYCVCAEIARBEGo2AuQBCyAEIAQoApQBNgLUASAEIAQoApABNgLQASAEIAQoAowBNgLMASAEIAQoAogBNgLIASAEIAQoAoQBNgLEASAEIAQoAoABNgLAASAEIAQoAnw2ArwBIAQgBCgCeDYCuAEgBCAEKAJ0NgK0ASAEIAQoAnA2ArABIAQgBCgCbDYCrAEgBCAEKAJoNgKoASAEIAQoAmQ2AqQBIAQgBCgCYDYCoAEgBCAEKAJcNgKcASAEIAQoAlg2ApgBIARBFDYCDANAIAQoAgwEQCAEIAQoAtQBIAQoAsQBajYC1AEgBCAEKAKkASAEKALUAXNBEHQgBCgCpAEgBCgC1AFzQRB2cjYCpAEgBCAEKAK0ASAEKAKkAWo2ArQBIAQgBCgCxAEgBCgCtAFzQQx0IAQoAsQBIAQoArQBc0EUdnI2AsQBIAQgBCgC1AEgBCgCxAFqNgLUASAEIAQoAqQBIAQoAtQBc0EIdCAEKAKkASAEKALUAXNBGHZyNgKkASAEIAQoArQBIAQoAqQBajYCtAEgBCAEKALEASAEKAK0AXNBB3QgBCgCxAEgBCgCtAFzQRl2cjYCxAEgBCAEKALQASAEKALAAWo2AtABIAQgBCgCoAEgBCgC0AFzQRB0IAQoAqABIAQoAtABc0EQdnI2AqABIAQgBCgCsAEgBCgCoAFqNgKwASAEIAQoAsABIAQoArABc0EMdCAEKALAASAEKAKwAXNBFHZyNgLAASAEIAQoAtABIAQoAsABajYC0AEgBCAEKAKgASAEKALQAXNBCHQgBCgCoAEgBCgC0AFzQRh2cjYCoAEgBCAEKAKwASAEKAKgAWo2ArABIAQgBCgCwAEgBCgCsAFzQQd0IAQoAsABIAQoArABc0EZdnI2AsABIAQgBCgCzAEgBCgCvAFqNgLMASAEIAQoApwBIAQoAswBc0EQdCAEKAKcASAEKALMAXNBEHZyNgKcASAEIAQoAqwBIAQoApwBajYCrAEgBCAEKAK8ASAEKAKsAXNBDHQgBCgCvAEgBCgCrAFzQRR2cjYCvAEgBCAEKALMASAEKAK8AWo2AswBIAQgBCgCnAEgBCgCzAFzQQh0IAQoApwBIAQoAswBc0EYdnI2ApwBIAQgBCgCrAEgBCgCnAFqNgKsASAEIAQoArwBIAQoAqwBc0EHdCAEKAK8ASAEKAKsAXNBGXZyNgK8ASAEIAQoAsgBIAQoArgBajYCyAEgBCAEKAKYASAEKALIAXNBEHQgBCgCmAEgBCgCyAFzQRB2cjYCmAEgBCAEKAKoASAEKAKYAWo2AqgBIAQgBCgCuAEgBCgCqAFzQQx0IAQoArgBIAQoAqgBc0EUdnI2ArgBIAQgBCgCyAEgBCgCuAFqNgLIASAEIAQoApgBIAQoAsgBc0EIdCAEKAKYASAEKALIAXNBGHZyNgKYASAEIAQoAqgBIAQoApgBajYCqAEgBCAEKAK4ASAEKAKoAXNBB3QgBCgCuAEgBCgCqAFzQRl2cjYCuAEgBCAEKALUASAEKALAAWo2AtQBIAQgBCgCmAEgBCgC1AFzQRB0IAQoApgBIAQoAtQBc0EQdnI2ApgBIAQgBCgCrAEgBCgCmAFqNgKsASAEIAQoAsABIAQoAqwBc0EMdCAEKALAASAEKAKsAXNBFHZyNgLAASAEIAQoAtQBIAQoAsABajYC1AEgBCAEKAKYASAEKALUAXNBCHQgBCgCmAEgBCgC1AFzQRh2cjYCmAEgBCAEKAKsASAEKAKYAWo2AqwBIAQgBCgCwAEgBCgCrAFzQQd0IAQoAsABIAQoAqwBc0EZdnI2AsABIAQgBCgC0AEgBCgCvAFqNgLQASAEIAQoAqQBIAQoAtABc0EQdCAEKAKkASAEKALQAXNBEHZyNgKkASAEIAQoAqgBIAQoAqQBajYCqAEgBCAEKAK8ASAEKAKoAXNBDHQgBCgCvAEgBCgCqAFzQRR2cjYCvAEgBCAEKALQASAEKAK8AWo2AtABIAQgBCgCpAEgBCgC0AFzQQh0IAQoAqQBIAQoAtABc0EYdnI2AqQBIAQgBCgCqAEgBCgCpAFqNgKoASAEIAQoArwBIAQoAqgBc0EHdCAEKAK8ASAEKAKoAXNBGXZyNgK8ASAEIAQoAswBIAQoArgBajYCzAEgBCAEKAKgASAEKALMAXNBEHQgBCgCoAEgBCgCzAFzQRB2cjYCoAEgBCAEKAK0ASAEKAKgAWo2ArQBIAQgBCgCuAEgBCgCtAFzQQx0IAQoArgBIAQoArQBc0EUdnI2ArgBIAQgBCgCzAEgBCgCuAFqNgLMASAEIAQoAqABIAQoAswBc0EIdCAEKAKgASAEKALMAXNBGHZyNgKgASAEIAQoArQBIAQoAqABajYCtAEgBCAEKAK4ASAEKAK0AXNBB3QgBCgCuAEgBCgCtAFzQRl2cjYCuAEgBCAEKALIASAEKALEAWo2AsgBIAQgBCgCnAEgBCgCyAFzQRB0IAQoApwBIAQoAsgBc0EQdnI2ApwBIAQgBCgCsAEgBCgCnAFqNgKwASAEIAQoAsQBIAQoArABc0EMdCAEKALEASAEKAKwAXNBFHZyNgLEASAEIAQoAsgBIAQoAsQBajYCyAEgBCAEKAKcASAEKALIAXNBCHQgBCgCnAEgBCgCyAFzQRh2cjYCnAEgBCAEKAKwASAEKAKcAWo2ArABIAQgBCgCxAEgBCgCsAFzQQd0IAQoAsQBIAQoArABc0EZdnI2AsQBIAQgBCgCDEECazYCDAwBCwsgBCAEKALUASAEKAKUAWo2AtQBIAQgBCgC0AEgBCgCkAFqNgLQASAEIAQoAswBIAQoAowBajYCzAEgBCAEKALIASAEKAKIAWo2AsgBIAQgBCgCxAEgBCgChAFqNgLEASAEIAQoAsABIAQoAoABajYCwAEgBCAEKAK8ASAEKAJ8ajYCvAEgBCAEKAK4ASAEKAJ4ajYCuAEgBCAEKAK0ASAEKAJ0ajYCtAEgBCAEKAKwASAEKAJwajYCsAEgBCAEKAKsASAEKAJsajYCrAEgBCAEKAKoASAEKAJoajYCqAEgBCAEKAKkASAEKAJkajYCpAEgBCAEKAKgASAEKAJgajYCoAEgBCAEKAKcASAEKAJcajYCnAEgBCAEKAKYASAEKAJYajYCmAEgBCAEKALUASAEKALoARAEczYC1AEgBCAEKALQASAEKALoAUEEahAEczYC0AEgBCAEKALMASAEKALoAUEIahAEczYCzAEgBCAEKALIASAEKALoAUEMahAEczYCyAEgBCAEKALEASAEKALoAUEQahAEczYCxAEgBCAEKALAASAEKALoAUEUahAEczYCwAEgBCAEKAK8ASAEKALoAUEYahAEczYCvAEgBCAEKAK4ASAEKALoAUEcahAEczYCuAEgBCAEKAK0ASAEKALoAUEgahAEczYCtAEgBCAEKAKwASAEKALoAUEkahAEczYCsAEgBCAEKAKsASAEKALoAUEoahAEczYCrAEgBCAEKAKoASAEKALoAUEsahAEczYCqAEgBCAEKAKkASAEKALoAUEwahAEczYCpAEgBCAEKAKgASAEKALoAUE0ahAEczYCoAEgBCAEKAKcASAEKALoAUE4ahAEczYCnAEgBCAEKAKYASAEKALoAUE8ahAEczYCmAEgBCAEKAJkQQFqNgJkIAQoAmRFBEAgBCAEKAJgQQFqNgJgCyAEKALkASAEKALUARAFIAQoAuQBQQRqIAQoAtABEAUgBCgC5AFBCGogBCgCzAEQBSAEKALkAUEMaiAEKALIARAFIAQoAuQBQRBqIAQoAsQBEAUgBCgC5AFBFGogBCgCwAEQBSAEKALkAUEYaiAEKAK8ARAFIAQoAuQBQRxqIAQoArgBEAUgBCgC5AFBIGogBCgCtAEQBSAEKALkAUEkaiAEKAKwARAFIAQoAuQBQShqIAQoAqwBEAUgBCgC5AFBLGogBCgCqAEQBSAEKALkAUEwaiAEKAKkARAFIAQoAuQBQTRqIAQoAqABEAUgBCgC5AFBOGogBCgCnAEQBSAEKALkAUE8aiAEKAKYARAFIAQpA9gBQsAAWARAIAQpA9gBQsAAVARAIARBADYCDANAIAQoAgwgBCkD2AGnT0UEQCAEKAJUIAQoAgxqIAQoAuQBIAQoAgxqLQAAOgAAIAQgBCgCDEEBajYCDAwBCwsLIAQoAuwBIAQoAmQ2AjAgBCgC7AEgBCgCYDYCNAUgBCAEKQPYAUJAfDcD2AEgBCAEKALkAUFAazYC5AEgBCAEKALoAUFAazYC6AEMAQsLCyAEQfABaiQAC5EBAQF/IwBBEGsiAyQAIAMgADYCDCADIAE2AgggAyACNgIEIAMoAgQEfyADKAIEEAQFQQALIQAgAygCDCAANgIwIAMoAgQEfyADKAIEQQRqEAQFQQALIQAgAygCDCAANgI0IAMoAggQBCEAIAMoAgwgADYCOCADKAIIQQRqEAQhACADKAIMIAA2AjwgA0EQaiQAC4cCAQF/IwBBEGsiAiQAIAIgADYCDCACIAE2AgggAigCDEHl8MGLBjYCACACKAIMQe7IgZkDNgIEIAIoAgxBstqIywc2AgggAigCDEH0yoHZBjYCDCACKAIIEAQhACACKAIMIAA2AhAgAigCCEEEahAEIQAgAigCDCAANgIUIAIoAghBCGoQBCEAIAIoAgwgADYCGCACKAIIQQxqEAQhACACKAIMIAA2AhwgAigCCEEQahAEIQAgAigCDCAANgIgIAIoAghBFGoQBCEAIAIoAgwgADYCJCACKAIIQRhqEAQhACACKAIMIAA2AiggAigCCEEcahAEIQAgAigCDCAANgIsIAJBEGokAAvaAQEBfyMAQRBrIgIgADYCDCACIAE3AwAgAigCDCACKQMAPAAAIAIgAikDAEIIiDcDACACKAIMIAIpAwA8AAEgAiACKQMAQgiINwMAIAIoAgwgAikDADwAAiACIAIpAwBCCIg3AwAgAigCDCACKQMAPAADIAIgAikDAEIIiDcDACACKAIMIAIpAwA8AAQgAiACKQMAQgiINwMAIAIoAgwgAikDADwABSACIAIpAwBCCIg3AwAgAigCDCACKQMAPAAGIAIgAikDAEIIiDcDACACKAIMIAIpAwA8AAcLKQEBfyMAQRBrIgEkACABIAA2AgwgASgCDBAHKAIEIQAgAUEQaiQAIAALKQEBfyMAQRBrIgEkACABIAA2AgwgASgCDBAHKAIAIQAgAUEQaiQAIAALEAAjACAAa0FwcSIAJAAgAAsGACAAJAALBAAjAAvKHwIGfwJ+IwBBkAJrIgYkACAGIAA2AogCIAYgATYChAIgBiACNgKAAiAGIAM2AvwBIAYgBDYC+AEgBiAFNgL0ASAGEAM2AvABAkAgBigC8AFFBEAgBkGhCTYCjAIMAQsgBkHgAWogBigC8AEQCCAGKALwARAXIAZB0AFqIAZB4AFqEA8gBkHAAWogBigChAIQCCAGQbABaiAGKAKAAhAIIAZBoAFqIAYoAvwBEAggBkGQAWogBigC+AEQCCAGQfAAaiAGQdABahAPIAYoAogCIQkgBkHgAGogBkHAAWoQDyAGQdAAaiAGQbABahAPIAYoAvQBIQogBkFAa0GkCRAIIAZBMGpBpAkQCCAGQSBqIAZBoAFqEA8gBkEQakGkCRAIIAYgBkGQAWoQDyAGQfAAaiEAIAZB4ABqIQEgBkHQAGohAyAGQTBqIQQgBkEgaiEHIAZBEGohCCMAQcAbayICJAAgAiAGQYABaiIFNgK8GyACIAk2ArgbIAJBADYCtBsgAiAKNgKwGyACQQA2AqwbIAJBADYCqBsgAkGYG2oQGSACQYAINgKUGyACQeX7lvYANgKQGyACQYAbakGFCBAIIAJB8BpqQYUIEAggAkHwEmpBgAgQEiACQfAKakGACBASIAIgBkFAayIJEAkgCRAKEBU2AuwKIAIgAkGAG2oQCSACQYAbahAKEBU2AugKIAIgAkHwGmoQCSACQfAaahAKEBU2AuQKAkAgAigCqBtBCkoEQCAFQYsIEAggAkEBNgLgCgwBCyACQQI2AtwKIAJB8BJqIAIoArQbIAJB3ApqEAsgAkHwEmogAigCkBsgAkHcCmoQCyACQfASaiACKAK4GyACQdwKahALIAJB8BJqIAIoAuwKIAJB3ApqEAsgAkHwEmogAigCsBsgAkHcCmoQCyACQfASaiAEEAkgBBAKIAJB3ApqEA0gAkHwEmogBxAJIAcQCiACQdwKahANIAJB8BJqIAEQCSABEAogAkHcCmoQDSACQfASaiADEAkgAxAKIAJB3ApqEA0gAkHwEmogABAJIAAQCiACQdwKahANIAJB8BJqIAIoAuQKIAJB3ApqEAsgAkHwEmogAigC6AogAkHcCmoQCyACQQA2AtgKIAJBADYC1AoDQCACKALUCiACKAKoG0gEQCACKAKsGyACKALUCkECdGooAgBBf0cEQCACIAIoAtgKQQEgAigC1Ap0cjYC2AoLIAIgAigC1ApBAWo2AtQKDAELCyACQfASaiACKALYCiACQdwKahALIAJBADYC0AoDQCACKALQCiACKAKoG0gEQCACKAKsGyACKALQCkECdGooAgBBf0cEQCACQfASaiACKAKsGyACKALQCkECdGooAgAgAkHcCmoQCwsgAiACKALQCkEBajYC0AoMAQsLIAJB8BJqIAgQCSAIEAogAkHcCmoQDSACQfASaiAGEAkgBhAKIAJB3ApqEA0gAiACKALcCkECa0H//wNxIgBBCHQgAEEIdnI7AfASIAIgAkHwEmogAigC3AoQFTYCzAogAkGgCmoiAEIANwMAIABCADcDGCAAQgA3AxAgAEIANwMIIAIoAtwKQYAISwRAIAVBjggQCCACQQE2AuAKDAELIAJBQGtBsAkQEiACQZgKakGVCCkAADcAACACQfAJaiIAQbYIKQAANwAYIABBrggpAAA3ABAgAEGmCCkAADcACCAAQZ4IKQAANwAAIAIoAtwKrSEMIwBB0ABrIgEkACABIAJBQGs2AkwgASACQThqNgJIIAEgAkHwEmo2AkQgASAMNwM4IAFBvwg2AjQgAUIQNwMoIAFBADYCJCABIAJBmApqNgIgIAEgAkHwCWo2AhwgAUIANwMQIAEpAzhCb1YEQBAAAAsgASgCTCEDIAEoAkwgASkDOKdqIQQgASgCRCEHIAEpAzghDCABKAI0IQggASkDKCENIAEoAiQhCSABKAIgIQogASgCHCELIwBBkANrIgAkACAAIAM2AowDIAAgBDYCiAMgAEEANgKEAyAAIAc2AoADIAAgDDcD+AIgACAINgL0AiAAIA03A+gCIAAgCTYC5AIgACAKNgLgAiAAIAs2AtwCIAAoAuACIQQgACgC3AIhByMAQSBrIgMkACADIABBEGo2AhwgA0LAADcDECADIAQ2AgwgAyAHNgIIIAMoAhwgAykDECADKAIMIAMoAghBkAooAgAoAgARCgAaIANBIGokACMAQRBrIgMkACADIABB0ABqNgIMIAMgAEEQajYCCCADKAIMIAMoAghBhAooAgAoAgARBAAaIANBEGokACAAQRBqQcAAEBEgAEHQAGogACgC9AIgACkD6AIQFCAAQQhqIAApA+gCEDAgAEHQAGogAEEIakIIEBQgACgCjAMhBCAAKAKAAyEHIAApA/gCIQwgACgC4AIhCCAAKALcAiEJIwBBMGsiAyQAIAMgBDYCLCADIAc2AiggAyAMNwMgIAMgCDYCHCADQgE3AxAgAyAJNgIMIAMoAiwgAygCKCADKQMgIAMoAhwgAykDECADKAIMQZAKKAIAKAIEEQkAGiADQTBqJAAgAEHQAGogACgCjAMgACkD+AIQFCAAQQhqIAApA/gCEDAgAEHQAGogAEEIakIIEBQgACgCiAMhBCMAQRBrIgMkACADIABB0ABqNgIMIAMgBDYCCCADKAIMIAMoAghBhAooAgAoAggRBAAaIANBEGokACAAQdAAakGAAhARIAAoAoQDBEAgACgChANCEDcDAAsgAEGQA2okACABQQA2AgwgASgCSARAIAEoAgxFBEAgASABKQM4QhB8NwMQCyABKAJIIAEpAxA3AwALIAEoAgwaIAFB0ABqJAAgAkIIIAIpAzhCB4N9PgI0IAJBADYCMANAIAIoAjAgAigCNEkEQCACKQM4pyACQUBraiACKAI0OgAAIAIgAikDOEIBfDcDOCACIAIoAjBBAWo2AjAMAQsLIAIpAzhQBEAgBUHQCBAIIAJBATYC4AoMAQsgAkEANgArIAJBADoALyACQQA2ACYgAkEAOgAqQbARIAIoArAbQQFrrTcDACACQQA2AiADQCACKAIgQQRIBEBBsBFBsBEpAwBCrf7V5NSF/ajYAH5CAXwiDDcDACACIAxCIYinQf8BcDoAHyACKAIgIAJBJmpqIAIoApQbIAIoAiBqLAAAIAItAB9zOgAAIAIoAiAgAkEramogAi0AHzoAACACIAIoAiBBAWo2AiAMAQsLIAJBEGoQGSACQRBqIAJBK2pBBBATIAJBEGogAkEmakEEEBMgAkEQaiACQUBrIAIpAzinEBMgAiACKALMCiIAQQh0QYCA/AdxIABBGHRyIABBCHZBgP4DcSAAQRh2cnI2AgwgAkEQaiACQQxqQQQQEyACQRBqEAkhASACQRBqEAohAyMAQTBrIgAgATYCLCAAIAM2AiggACACQfASajYCJCAAQYAINgIgAkAgACgCKEEASA0AIAAoAiBBAEgNACAAIAAoAiw2AhwgACAAKAIoQQNtNgIYIAAgACgCKCAAKAIYQQNsSjoAFyAAIAAoAiggACgCGEEDbEECakY6ABYgACAAKAIYIAAtABdBAXFqQQJ0NgIQAkAgACgCHARAIAAoAhAgACgCIEwNAQsgACgCJEEAOgAADAELIABBADYCDANAIAAoAgwgACgCGEgEQCAAKAIkIAAoAgxBAnRqIAAoAhwgACgCDEEDbGotAABBAnYtAOAIOgAAIAAoAiQgACgCDEECdEEBamogACgCHCAAKAIMQQNsai0AAEEDcUEEdCAAKAIcIAAoAgxBA2xBAWpqLQAAQQR2ci0A4Ag6AAAgACgCJCAAKAIMQQJ0QQJqaiAAKAIcIAAoAgxBA2xBAWpqLQAAQQJ0IAAoAhwgACgCDEEDbEECamotAABBBnZyQT9xLQDgCDoAACAAKAIkIAAoAgxBAnRBA2pqIAAoAhwgACgCDEEDbEECamotAABBP3EtAOAIOgAAIAAgACgCDEEBajYCDAwBCwsgAC0AF0EBcQRAIAAoAiQgACgCDEECdGogACgCHCAAKAIMQQNsai0AAEECdi0A4Ag6AAACQCAALQAWQQFxBEAgACgCJCAAKAIMQQJ0QQFqaiAAKAIcIAAoAgxBA2xqLQAAQQNxQQR0IAAoAhwgACgCDEEDbEEBamotAABBBHZyLQDgCDoAACAAKAIkIAAoAgxBAnRBAmpqIAAoAhwgACgCDEEDbEEBamotAABBAnRBP3EtAOAIOgAADAELIAAoAiQgACgCDEECdEEBamogACgCHCAAKAIMQQNsai0AAEEDcUEEdC0A4Ag6AAAgACAAKAIQQQFrNgIQCyAAIAAoAhBBAWs2AhALIAAoAiQgACgCEGpBADoAAAsgAhAZIAJB8BJqIQMgAkHwEmoQICEBIwBBEGsiByQAAkAgASACECUiAE0EQCACEBgiCSEEIAEiAARAAkAgAyAERg0AIAMgACAEaiIKa0EAIABBAXRrTQRAIAQgAyAAEBYMAQsgAyAEc0EDcSEIAkACQCADIARLBEAgCA0CIARBA3FFDQEDQCAARQ0EIAQgAy0AADoAACADQQFqIQMgAEEBayEAIARBAWoiBEEDcQ0ACwwBCwJAIAgNACAKQQNxBEADQCAARQ0FIAQgAEEBayIAaiIIIAAgA2otAAA6AAAgCEEDcQ0ACwsgAEEDTQ0AA0AgBCAAQQRrIgBqIAAgA2ooAgA2AgAgAEEDSw0ACwsgAEUNAgNAIAQgAEEBayIAaiAAIANqLQAAOgAAIAANAAsMAgsgAEEDTQ0AA0AgBCADKAIANgIAIANBBGohAyAEQQRqIQQgAEEEayIAQQNLDQALCyAARQ0AA0AgBCADLQAAOgAAIARBAWohBCADQQFqIQMgAEEBayIADQALCwsgB0EAOgAPIAEgCWogBy0ADzoAACACIAEQJAwBCyACIAAgASAAayACEBwiAEEAIAAgASADECMLIAdBEGokACMAQRBrIgAkACAAIAU2AgwgACACNgIIIAAoAgwiAQJ+IwBBEGsiAyAAKAIINgIMIAMoAgwiAykCAAs3AgAgASADKAIINgIIIAAoAggQHiAAQRBqJAAgAkEBNgLgCiACEAYgAkEQahAGCyACQfAaahAGIAJBgBtqEAYgAkGYG2oQBiACQcAbaiQAIAYQBiAGQRBqEAYgBkEgahAGIAZBMGoQBiAGQUBrEAYgBkHQAGoQBiAGQeAAahAGIAZB8ABqEAYgBiAGQYABahAJNgKMAiAGQYABahAGIAZBkAFqEAYgBkGgAWoQBiAGQbABahAGIAZBwAFqEAYgBkHQAWoQBiAGQeABahAGCyAGKAKMAiEAIAZBkAJqJAAgAAvKAQEBfyMAQYABayIGJAAgBiAANgJ4IAYgATYCdCAGIAI3A2ggBiADNgJkIAYgBDcDWCAGIAU2AlQCQCAGKQNoUARADAELIAYgBikDWEIgiD4CBCAGIAYpA1g+AgAgBkEIaiAGKAIAEAUgBkEMaiAGKAIEEAUgBkEQaiAGKAJUEC8gBkEQaiAGKAJkIAZBCGoQLiAGQRBqIAYoAnQgBigCeCAGKQNoEC0gBkEQakHAABARCyAGQQA2AnwgBigCfCEAIAZBgAFqJAAgAAuXAQEBfyMAQeAAayIEJAAgBCAANgJYIAQgATcDUCAEIAI2AkwgBCADNgJIAkAgBCkDUFAEQAwBCyAEQQhqIAQoAkgQLyAEQQhqIAQoAkxBABAuIAQoAlggBCkDUKcQEiAEQQhqIAQoAlggBCgCWCAEKQNQEC0gBEEIakHAABARCyAEQQA2AlwgBCgCXCEAIARB4ABqJAAgAAvVCQICfwF+IwBBEGsiAiQAIAIgADYCDCACIAE2AgggAigCDCEBIAIoAgghAyMAQdAAayIAJAAgACABNgJMIAAgAzYCSCAAKAJMKQM4QgBSBEAgACAAKAJMKQM4NwMAIAAoAkxBQGshASAAIAApAwAiBEIBfDcDACAEpyABakEBOgAAA0AgACkDAEIQVARAIAApAwCnIAAoAkxBQGtqQQA6AAAgACAAKQMAQgF8NwMADAELCyAAKAJMQQE6AFAgACgCTCAAKAJMQUBrQhAQGwsgACAAKAJMKAIUNgJEIAAgACgCTCgCGDYCQCAAIAAoAkwoAhw2AjwgACAAKAJMKAIgNgI4IAAgACgCTCgCJDYCNCAAIAAoAkBBGnY2AjAgACAAKAJAQf///x9xNgJAIAAgACgCMCAAKAI8ajYCPCAAIAAoAjxBGnY2AjAgACAAKAI8Qf///x9xNgI8IAAgACgCMCAAKAI4ajYCOCAAIAAoAjhBGnY2AjAgACAAKAI4Qf///x9xNgI4IAAgACgCMCAAKAI0ajYCNCAAIAAoAjRBGnY2AjAgACAAKAI0Qf///x9xNgI0IAAgACgCRCAAKAIwQQVsajYCRCAAIAAoAkRBGnY2AjAgACAAKAJEQf///x9xNgJEIAAgACgCMCAAKAJAajYCQCAAIAAoAkRBBWo2AiwgACAAKAIsQRp2NgIwIAAgACgCLEH///8fcTYCLCAAIAAoAkAgACgCMGo2AiggACAAKAIoQRp2NgIwIAAgACgCKEH///8fcTYCKCAAIAAoAjwgACgCMGo2AiQgACAAKAIkQRp2NgIwIAAgACgCJEH///8fcTYCJCAAIAAoAjggACgCMGo2AiAgACAAKAIgQRp2NgIwIAAgACgCIEH///8fcTYCICAAIAAoAjQgACgCMGpBgICAIGs2AhwgACAAKAIcQR92QQFrNgIMIAAgACgCDCAAKAIscTYCLCAAIAAoAgwgACgCKHE2AiggACAAKAIMIAAoAiRxNgIkIAAgACgCDCAAKAIgcTYCICAAIAAoAgwgACgCHHE2AhwgACAAKAIMQX9zNgIMIAAgACgCLCAAKAJEIAAoAgxxcjYCRCAAIAAoAiggACgCQCAAKAIMcXI2AkAgACAAKAIkIAAoAjwgACgCDHFyNgI8IAAgACgCICAAKAI4IAAoAgxxcjYCOCAAIAAoAhwgACgCNCAAKAIMcXI2AjQgACAAKAJEIAAoAkBBGnRyNgJEIAAgACgCPEEUdCAAKAJAQQZ2cjYCQCAAIAAoAjhBDnQgACgCPEEMdnI2AjwgACAAKAI0QQh0IAAoAjhBEnZyNgI4IAAgACgCRK0gACgCTCgCKK18NwMQIAAgACkDED4CRCAAIAAoAkCtIAAoAkwoAiytfCAAKQMQQiCIfDcDECAAIAApAxA+AkAgACAAKAI8rSAAKAJMKAIwrXwgACkDEEIgiHw3AxAgACAAKQMQPgI8IAAgACgCOK0gACgCTCgCNK18IAApAxBCIIh8NwMQIAAgACkDED4COCAAKAJIIAAoAkQQBSAAKAJIQQRqIAAoAkAQBSAAKAJIQQhqIAAoAjwQBSAAKAJIQQxqIAAoAjgQBSAAKAJMQdgAEBEgAEHQAGokACACQRBqJABBAAuFBAECfyMAQRBrIgMkACADIAA2AgwgAyABNgIIIAMgAjcDACADKAIMIQEgAygCCCEEIAMpAwAhAiMAQTBrIgAkACAAIAE2AiwgACAENgIoIAAgAjcDIAJAIAAoAiwpAzhCAFIEQCAAQhAgACgCLCkDOH03AxAgACkDECAAKQMgVgRAIAAgACkDIDcDEAsgAEIANwMYA0AgACkDGCAAKQMQVARAIAAoAiwpAzggACkDGHynIAAoAixBQGtqIAAoAiggACkDGKdqLQAAOgAAIAAgACkDGEIBfDcDGAwBCwsgACAAKQMgIAApAxB9NwMgIAAgACgCKCAAKQMQp2o2AiggACgCLCIBIAApAxAgASkDOHw3AzggACgCLCkDOEIQVA0BIAAoAiwgACgCLEFAa0IQEBsgACgCLEIANwM4CyAAKQMgQhBaBEAgACAAKQMgQnCDNwMIIAAoAiwgACgCKCAAKQMIEBsgACAAKAIoIAApAwinajYCKCAAIAApAyAgACkDCH03AyALIAApAyBQDQAgAEIANwMYA0AgACkDGCAAKQMgVARAIAAoAiwpAzggACkDGHynIAAoAixBQGtqIAAoAiggACkDGKdqLQAAOgAAIAAgACkDGEIBfDcDGAwBCwsgACgCLCIBIAApAyAgASkDOHw3AzgLIABBMGokACADQRBqJABBAAuCAwECfyMAQRBrIgIkACACIAA2AgwgAiABNgIIIAIoAgwhASACKAIIIQMjAEEQayIAJAAgACABNgIMIAAgAzYCCCAAKAIIEARB////H3EhASAAKAIMIAE2AgAgACgCCEEDahAEQQJ2QYP+/x9xIQEgACgCDCABNgIEIAAoAghBBmoQBEEEdkH/gf8fcSEBIAAoAgwgATYCCCAAKAIIQQlqEARBBnZB///AH3EhASAAKAIMIAE2AgwgACgCCEEMahAEQQh2Qf//P3EhASAAKAIMIAE2AhAgACgCDEEANgIUIAAoAgxBADYCGCAAKAIMQQA2AhwgACgCDEEANgIgIAAoAgxBADYCJCAAKAIIQRBqEAQhASAAKAIMIAE2AiggACgCCEEUahAEIQEgACgCDCABNgIsIAAoAghBGGoQBCEBIAAoAgwgATYCMCAAKAIIQRxqEAQhASAAKAIMIAE2AjQgACgCDEIANwM4IAAoAgxBADoAUCAAQRBqJAAgAkEQaiQAQQALC5oCAwBBgAgLUvJfTBoANG51bGwALTEAbGVuZXJyADhbO9vHjBtXAADrT+Ic05XnuxTuKB+RT4EzANhcQ63ef1cbfGq6zlKfAKn94gdxx4Wm29kgXlY+wS0ALTIAQeAIC5UBQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlfLQAtMQAAYmFzaWNfc3RyaW5nAGFsbG9jYXRvcjxUPjo6YWxsb2NhdGUoc2l6ZV90IG4pICduJyBleGNlZWRzIG1heGltdW0gc3VwcG9ydGVkIHNpemUAQfgJCx8BAAAAAgAAAAMAAAD4BAAABAAAAAUAAAAIBQAAsApQ";if(!T.startsWith(P)){var D=T;T=t.locateFile?t.locateFile(D,u):u+D}function O(){var e=T;try{if(e==T&&d)return new Uint8Array(d);var t=k(e);if(t)return t;if(c)return c(e);throw"both async and sync fetching of the wasm failed"}catch(Qe){x(Qe)}}function N(e){for(;0<e.length;){var n=e.shift();if("function"==typeof n)n(t);else{var r=n.o;"number"==typeof r?void 0===n.m?m.get(r)():m.get(r)(n.m):r(void 0===n.m?null:n.m)}}}var R="function"==typeof atob?atob:function(e){var t="",n=0;e=e.replace(/[^A-Za-z0-9\+\/=]/g,"");do{var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++)),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++)),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++)),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++));r=r<<2|o>>4,o=(15&o)<<4|i>>2;var s=(3&i)<<6|a;t+=String.fromCharCode(r),64!==i&&(t+=String.fromCharCode(o)),64!==a&&(t+=String.fromCharCode(s))}while(n<e.length);return t};function k(e){if(e.startsWith(P)){try{var t=R(e.slice(P.length)),n=new Uint8Array(t.length);for(e=0;e<t.length;++e)n[e]=t.charCodeAt(e)}catch(Me){throw Error("Converting base64 string to bytes failed.")}return n}}var L={a:function(){x()},b:function(e,t,n){_.copyWithin(e,t,t+n)},c:function(){x("OOM")},d:function(){function e(e){return e?48<e.length?e.substr(0,48):e:""}var t=function(){var t=document.URL,n=window.navigator.userAgent.toLowerCase(),r="";0<document.referrer.length&&(r=document.referrer);try{0==r.length&&0<window.opener.location.href.length&&(r=window.opener.location.href)}catch(s){}var o=window.navigator.appCodeName,i=window.navigator.appName,a=window.navigator.platform;return t=e(t),r=e(r),t+"|"+(n=e(n))+"|"+r+"|"+o+"|"+i+"|"+a}(),n=function(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),127>=r?++t:t=2047>=r?t+2:65535>=r?t+3:t+4}return t}(t)+1,r=F(n);return A(t,r,n+1),r}};!function(){function e(e){t.asm=e.exports,e=t.asm.e.buffer,t.HEAP8=y=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=new Int32Array(e),t.HEAPU8=_=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e),m=t.asm.g,I.unshift(t.asm.f),w--,t.monitorRunDependencies&&t.monitorRunDependencies(w),0==w&&S&&(e=S,S=null,e())}function n(t){e(t.instance)}function o(e){return(d||!i&&!a||"function"!=typeof fetch?Promise.resolve().then((function(){return O()})):fetch(T,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+T+"'";return e.arrayBuffer()})).catch((function(){return O()}))).then((function(e){return WebAssembly.instantiate(e,s)})).then(e,(function(e){p("failed to asynchronously prepare wasm: "+e),x(e)}))}var s={a:L};if(w++,t.monitorRunDependencies&&t.monitorRunDependencies(w),t.instantiateWasm)try{return t.instantiateWasm(s,e)}catch(qe){return p("Module.instantiateWasm callback failed with error: "+qe),!1}(d||"function"!=typeof WebAssembly.instantiateStreaming||T.startsWith(P)||"function"!=typeof fetch?o(n):fetch(T,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,s).then(n,(function(e){return p("wasm streaming compile failed: "+e),p("falling back to ArrayBuffer instantiation"),o(n)}))}))).catch(r)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.f).apply(null,arguments)},t._getckey=function(){return(t._getckey=t.asm.h).apply(null,arguments)};var B,M=t.stackSave=function(){return(M=t.stackSave=t.asm.i).apply(null,arguments)},Q=t.stackRestore=function(){return(Q=t.stackRestore=t.asm.j).apply(null,arguments)},V=t.stackAlloc=function(){return(V=t.stackAlloc=t.asm.k).apply(null,arguments)},F=t._malloc=function(){return(F=t._malloc=t.asm.l).apply(null,arguments)};function U(){function e(){if(!B&&(B=!0,t.calledRun=!0,!f)){if(N(I),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();b.unshift(e)}N(b)}}if(!(0<w)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)C();N(E),0<w||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t.ccall=g,t.cwrap=function(e,t,n,r){var o=(n=n||[]).every((function(e){return"number"===e}));return"string"!==t&&o&&!r?h(e):function(){return g(e,t,n,arguments)}},S=function e(){B||U(),B||(S=e)},t.run=U,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return U(),e.ready});function Rc(e,t){return f(this,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u,d,p,f,g;return h(this,(function(h){switch(h.label){case 0:return n=t.tm,r=t.vid,o=void 0===r?"":r,i=t.appVer,a=void 0===i?"":i,s=t.guid,l=void 0===s?"":s,c=t.platform,u=void 0===c?"":c,p=n||yc(),e!==Hl.CKEY_9?[3,3]:Tc?[3,2]:[4,Nc(void 0)];case 1:g=h.sent(),Tc=g.cwrap("getckey","string",["int","string","string","string","string","int"]),h.label=2;case 2:return f=Tc(+u,a,o,"",l,+p),d=Hl.CKEY_9,[3,4];case 3:f=Oc(o,p,a,l,u),d=Hl.CKEY_8,h.label=4;case 4:return t.tm=p,t.cKey=f,t.encryptVer=d,[2,t]}}))}))}var kc=function(e,t){return f(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u,d;return h(this,(function(p){switch(p.label){case 0:return n=e.reqParams,r=void 0===n?{}:n,o=e.config,i=e.player,a=e.isSetPlayerData,s=void 0===a||a,l=o.ckeyVer,[4,Promise.all([Rc(l,r),sc(r.drm)])];case 1:return c=p.sent(),u=c[1],r.drm=u,s&&i.setCommonKv(((d={})[ql.ckey]=r.cKey,d[ql.ckeyVersion]=l,d)),e.logger.log("request params is:",te.safelyStringify(e.reqParams)),[4,t()];case 2:return p.sent(),[2]}}))}))};function Lc(e,t){var n=e.test,r=e.path;if(n)return zl.TEST;var o=r||zl.COMMON;return"string"==typeof o?o:o[t%o.length]}var Bc=function(e,t){return f(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u,d,p,f,g,v,A;return h(this,(function(h){switch(h.label){case 0:e.logger.log("doRequest start..."),n=e.requestor,r=e.reqParams,o=e.config,i=o.ckeyVer,a=o.retryCount,s=void 0===a?3:a,l=o.timeout,c=void 0===l?hc.timeout:l,u=null,d=0,h.label=1;case 1:if(!(d<s+1))return[3,8];e.logger.log("retry... count is: ",d),h.label=2;case 2:return h.trys.push([2,5,,6]),u=null,e.reqPath=Lc(o,d),p=e,(f=e.resData)?[3,4]:[4,n.start(e.reqPath,r,c)];case 3:f=h.sent(),h.label=4;case 4:return p.resData=f,[3,6];case 5:return g=h.sent(),e.logger.log("the ".concat(d," retry err:"),g),"jsonp timeout"===(null==g?void 0:g.message)&&(u={code:Ur.GETINFO_TIMEOUT,message:Kr.GETINFO_TIMEOUT}),[3,6];case 6:if(e.alreadyRetryCount=d,e.resData)return[3,8];h.label=7;case 7:return d++,[3,1];case 8:return e.resData&&85==+e.resData.em&&-3==+e.resData.exem?(e.reqParams.tm=e.resData.curTime,[4,Rc(i,r)]):[3,13];case 9:h.sent(),h.label=10;case 10:return h.trys.push([10,12,,13]),e.logger.log("retry ckey... "),e.reqPath=Lc(o,0),v=e,[4,n.start(e.reqPath,r,c)];case 11:return v.resData=h.sent(),[3,13];case 12:return A=h.sent(),e.logger.log("retry ckey err:",A),[3,13];case 13:if(e.endTime=+new Date,!e.resData)return e.throw((null==u?void 0:u.code)||Ur.GETINFO_NET,(null==u?void 0:u.message)||Kr.GETINFO_NET),[2];try{e.logger.log("sendRequest over... ret is: ",JSON.stringify(e.resData,(function(e,t){return"m3u8"===e?"":t})))}catch(qe){}return[4,t()];case 14:return h.sent(),[2]}}))}))},Mc=function(e,t){return f(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u,d,p,f,g,v,A,y;return h(this,(function(h){switch(h.label){case 0:return n=e.player,r=e.resData,o=void 0===r?{}:r,i=e.parseData,a=void 0===i?{}:i,s=e.isSetPlayerData,(void 0===s||s)&&n.setCommonKv(((l={})[go.status]=null===(c=a.vitem)||void 0===c?void 0:c.vst,l[go.type]=null===(u=a.vitem)||void 0===u?void 0:u.type,l.videoName=a.title,l.byteRate=a.byteRate,l[go.duration]=a.duration,l.preview=a.preview,l.drm=function(e){var t,n=((null===(t=null==e?void 0:e.fl)||void 0===t?void 0:t.fi)||[]).find((function(e){return 1==+e.sl}));return n?+n.drm:0}(o),l[go.p2p]=o.fp2p?1:0,l[go.fmt]=null===(p=null===(d=a.definitionList)||void 0===d?void 0:d.find((function(e){return e.sl})))||void 0===p?void 0:p.id,l[go.testid]=o.tstid,l[go.cdnid]=null===(A=null===(v=null===(g=null===(f=a.vitem)||void 0===f?void 0:f.ul)||void 0===g?void 0:g.ui)||void 0===v?void 0:v[0])||void 0===A?void 0:A.vt,l[go.rate]=a.byteRate,l[go.dltype]=o.dltype,l[ql.vurl]=null===(y=a.urls[0])||void 0===y?void 0:y.url,l)),[4,t()];case 1:return h.sent(),[2]}}))}))},Qc=function(){function e(e){var t;this.player=e,this._abort=!1,this._seq=0,this.cachedResult={},this._config=u(u({},hc),(null===(t=e.config)||void 0===t?void 0:t.getinfoConfig)||{}),this.logger=new ue(e.config.instanceId,"GetInfoVod")}return e.prototype.getReqParams=function(e,t){var n=this,r=this.prepare(e,t);return pc([this._config.prepareRequestMiddleWare||kc])(r).then((function(){return n.onMiddlewareExecuteSuccess(r)})).catch((function(e){return n.onMiddlewareExecutionFail(r,e)}))},e.prototype.setVideoInfo=function(e,t){return f(this,void 0,void 0,(function(){return h(this,(function(n){return t?this.parseExternalVideoInfo(e,t):this.cachedResult[e]=void 0,[2]}))}))},e.prototype.parseExternalVideoInfo=function(e,t){return f(this,void 0,void 0,(function(){var n,r,o,i,a=this;return h(this,(function(s){return(n=this.prepare(e)).resData=t,r=this._config.sendRequestMiddleWare||Bc,o=this._config.checkResponseMiddleWare||Ec,i=this._config.parseResponseMiddleWare||Dc,this.cachedResult[e]=pc([r,o,i,Mc])(n).then((function(){return a.onMiddlewareExecuteSuccess(n)})).catch((function(e){return a.onMiddlewareExecutionFail(n,e)})),[2]}))}))},e.prototype.parseVideoInfo=function(e,t,n){return f(this,void 0,void 0,(function(){var r,o,i,a,s=this;return h(this,(function(l){return(r=this.prepare(e,n)).resData=t,r.isSetPlayerData=!1,o=this._config.sendRequestMiddleWare||Bc,i=this._config.checkResponseMiddleWare||Ec,a=this._config.parseResponseMiddleWare||Dc,[2,pc([o,i,a])(r).then((function(){return s.onMiddlewareExecuteSuccess(r)})).catch((function(e){return s.onMiddlewareExecutionFail(r,e)}))]}))}))},e.prototype.request=function(e,t,n,r){return void 0===r&&(r=!0),f(this,void 0,void 0,(function(){var o,i,a,s,l,c,u,d,p=this;return h(this,(function(f){switch(f.label){case 0:return o=e,this._abort=!1,this.cachedResult[o]?[4,this.cachedResult[o]]:[3,2];case 1:return i=f.sent(),this.cachedResult[o]=void 0,[2,Promise.resolve(i)];case 2:return(a=this.prepare(o,t)).isSetPlayerData=r,(s=this.validateReqParams(a.reqParams))?(a.error={code:Ur.GETINFO_INNER,message:"\u7f3a\u5c11\u5fc5\u8981\u64ad\u653e\u53c2\u6570 (".concat(s,") ")},[2,Promise.resolve(this.formatOutputData(a))]):(l=this._config.prepareRequestMiddleWare||kc,c=this._config.sendRequestMiddleWare||Bc,u=this._config.checkResponseMiddleWare||Ec,d=this._config.parseResponseMiddleWare||Dc,[2,pc((null==n?void 0:n.length)?n:[l,c,u,d,Mc])(a).then((function(){return p.onMiddlewareExecuteSuccess(a)})).catch((function(e){return p.onMiddlewareExecutionFail(a,e)}))])}}))}))},e.prototype.abort=function(){this._abort=!0},e.prototype.destroy=function(){this.abort(),this.cachedResult=null,this.player=null},e.prototype.validateReqParams=function(e){return["vid","platform","sdtfrom","flowid","guid"].find((function(t){return!e[t]}))},e.prototype.prepare=function(e,t){this._abort=!1,this._seq+=1;var n=this.createBaseContext();return Object.assign(n.reqParams,t,{vid:e}),n},e.prototype.onMiddlewareExecuteSuccess=function(e){return f(this,void 0,void 0,(function(){return h(this,(function(t){return this._abort||this._seq!==e.seq?(this.cachedResult[e.vid]=void 0,[2,new Promise((function(){}))]):(this.logger.log("getinfo \u6210\u529f: ",e),[2,this.formatOutputData(e)])}))}))},e.prototype.onMiddlewareExecutionFail=function(e,t){return f(this,void 0,void 0,(function(){var n,r;return h(this,(function(o){return this._abort||this._seq!==e.seq?(this.cachedResult[e.vid]=void 0,[2,new Promise((function(){}))]):(n=t.code,r=t.message,n||(this.logger.warn("getinfo \u5185\u90e8\u9519\u8bef: ",t),n=Ur.GETINFO_INNER,r="".concat(Kr.GETINFO_INNER,", err (").concat(t,")")),e.error={code:n,message:r},[2,this.formatOutputData(e)])}))}))},e.prototype.collectBaseRequestParam=function(){return u(u({},mc),{appVer:this.player.getCommonKv(go.appVer),platform:this.player.getCommonKv(go.platform),sdtfrom:this.player.getCommonKv(go.sdtfrom),flowid:this.player.getCommonKv(go.flowid),guid:this.player.getCommonKv(go.guid)})},e.prototype.createBaseContext=function(){return{player:this.player,startTime:+new Date,endTime:0,alreadyRetryCount:0,config:this._config,reqParams:this.collectBaseRequestParam(),reqPath:void 0,resData:void 0,requestor:new fc("getinfo_callback_"),parseData:void 0,error:void 0,throw:function(e,t){var n=new Error("getinfo err");throw n.code=e,n.message=t,n},extraPlayConfig:{setLevelMode:v.HARD},isSetPlayerData:!0,seq:this._seq,urlConfig:void 0,logger:this.logger}},e.prototype.formatOutputData=function(e){var t,n,r,o,i,a,s,l,c,d,p,f,h,g,v=e.reqParams,A=e.resData,y=e.parseData,_=e.isSetPlayerData,m=u({},e);["requestor","player","throw","isSetPlayerData"].forEach((function(e){delete m[e]}));var E=void 0,I=this.player.getCommonKv(go.drm),b=Sc(A),C=b.codec,w=b.vtype,S=b.vtypeKey,x=function(e){var t,n,r=(e||{}).dltype,o=null===(n=null===(t=null==e?void 0:e.fl)||void 0===t?void 0:t.fi)||void 0===n?void 0:n.find((function(e){return 1===e.sl}));return dc({codec:Sc(e).codec,dltype:r,drm:null==o?void 0:o.drm})}(A);if(A&&y){var P=null==y?void 0:y.urls.map((function(e){return e.url})),T=P[0],D=P.slice(1),O=(null===(n=null===(t=null==y?void 0:y.vitem)||void 0===t?void 0:t.ckc)||void 0===n?void 0:n.split("|"))||[],N=O[0],R=O[1],k=A.fp2p>=0&&(null===(i=null===(o=null===(r=A.vl)||void 0===r?void 0:r.vi)||void 0===o?void 0:o[0])||void 0===i?void 0:i.keyid),L=A.downloadmode;E={url:T,backupUrls:D,m3u8:null==y?void 0:y.urls.m3u8,p2pConfig:k?this.prepareP2PConfig({keyId:"hls.".concat(k),useP2P:2===A.fp2p,flowId:v.flowid,downloadMode:L,encoding:S}):void 0,drmConfig:N?this.prepareDRMConfig({drmType:I,licenseUrl:N,certificateUrl:R,vid:null===(a=null==y?void 0:y.vitem)||void 0===a?void 0:a.vid}):void 0,chachaParam:I===uo.CHACHA?{linkvid:null===(s=null==y?void 0:y.vitem)||void 0===s?void 0:s.lnk,base:null===(l=null==y?void 0:y.vitem)||void 0===l?void 0:l.base,appVer:v.appVer,tm:null==A?void 0:A.tm,platform:v.platform}:null,defaultAudioTrack:null===(p=null===(d=null===(c=null==y?void 0:y.additionalTrackInfo)||void 0===c?void 0:c.altAudioTrack)||void 0===d?void 0:d.find((function(e){return e.selected})))||void 0===p?void 0:p.name,drmType:I,kernelName:x,vcodec:C,setLevelMode:null===(f=m.extraPlayConfig)||void 0===f?void 0:f.setLevelMode,expireTimeStamp:+new Date+72e5},ee.browser.safari&&(E.insertableStreams=this.prepareInsertableStreams(k,null===(g=null===(h=y.supplementaryInfo)||void 0===h?void 0:h.contentInfo)||void 0===g?void 0:g.ad))}return _&&this.player.setCommonKv(go.codec,w),u(u({},m),{kernelName:x,urlConfig:E})},e.prototype.prepareInsertableStreams=function(e,t){var n=J.Z.mergeTimeRanges(null!=t?t:[]),r=0;return n.map((function(t,n){var o=t.start,i=t.end,a={startTime:o-r,endTime:i-r,url:"keyid://".concat(e,".ad.").concat(n,".m3u8")};return r+=i-o,a}))},e.prototype.prepareDRMConfig=function(e){var t,n,r=e.drmType,o=e.licenseUrl,i=e.certificateUrl,a=e.vid,s=this.player.getCommonKv,l=((t={})[uo.FAIR_PLAY]=tt.FairPlayWebKit,t[uo.WIDEVINE]=tt.Widevine,t),c={licenseUrl:o,certificate:{},keySystem:l[r],licenseRequestSetup:function(e){if(e.responseType="json",r===uo.FAIR_PLAY){var t={guid:s(go.guid),fmt:s(go.fmt),vid:a},n=Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&");return e.body="".concat(e.body,"&").concat(n),e}return e},licenseResponseSetup:function(e){var t=e.code,n=e.ckc,r=e.msg;if(0===t)return At.base64ToUint8Array(n);throw{code:t,message:r}}};return r===uo.FAIR_PLAY&&(c.certificate=((n={})[l[r]]=i,n)),c},e.prototype.prepareP2PConfig=function(e){return u({playerInfo:this.getPlayerInfo()},e)},e.prototype.getPlayerInfo=function(){var e={platform:this.player.getCommonKv(go.platform)||"",osVer:this.player.getCommonKv(go.osver)||"",broVer:this.player.getCommonKv(go.ua)||"",playerVer:this.player.getCommonKv(go.playerver)||"",guid:this.player.getCommonKv(go.guid)||"",qq:"",wx:"",vip:!1},t=this.player.getCommonKv(go.hc_main_login);return"qq"===t?e.qq=this.player.getCommonKv(go.hc_vuserid):"wx"===t&&(e.wx=this.player.getCommonKv(go.hc_vuserid)),e},e}(),Vc={path:"",retryCount:3,zbtype:0,test:0,timeout:6e3},Fc={cmd:2,cnlid:"",pla:0,stream:Pl.HLS,system:0,appVer:"1.0.0.0",encryptVer:"",qq:0,device:"PC",guid:"",flowid:"",defn:"",host:location.host,livepid:"",logintype:1,vip_status:1,livequeue:1,fntick:"",tm:"",sdtfrom:"10201",platform:"10201",cKey:"",queueStatus:0,sphttps:Ac(),vkey:"",user:"",playbacktime:0,auth_from:"",auth_ext:"",logintoken:"",forcedefn:"",defauto:1};function Uc(e){return-1!==[0,10,11,13].indexOf(e)}function Kc(e){void 0===e&&(e={});var t={};t[1]=Gl.get("videoPlayError"),t[2]=Gl.get("areaLimit"),t[3]=Gl.get("areaLimit"),t[4]=Gl.get("bandWidthLimit"),t[5]=Gl.get("areaLimit"),t[6]=Gl.get("msgInterrupt"),t[7]=Gl.get("videoNotBegin"),t[8]=Gl.get("videoIsOver"),t[9]=Gl.get("numOfPeopleLimit"),t[16]=Gl.get("mustLogin"),t[18]=Gl.get("isNotInPlayList");var n=function(e){return void 0===e&&(e={}),1!==e.ispay||1===e.iretdetailcode?1===e.iretdetailcode?{name:"execVIPRight",params:{msg:"\u672c\u76f4\u64ad\u9700\u4ed8\u8d39\u89c2\u770b",type:"backplay",refer:113}}:{downgradeLevel:!0,name:"unlock1080p",params:{msg:"\u6b64\u6e05\u6670\u5ea6\u9700\u8981\u4ed8\u8d39\u89c2\u770b",type:"flash.live.1080p"}}:{name:"showPayTips",params:{msg:"\u672c\u76f4\u64ad\u9700\u4ed8\u8d39\u89c2\u770b",cmd:3}}}(e);t[25]=n,t[28]=Gl.get("getLoginInfoFailed"),t[30]=n,t[31]=n,t[32]=Gl.get("getLoginInfoFailed"),t[45]=Gl.get("showPayTip"),t[51]=Gl.get("videoCannotFind"),t[67]=Gl.get("copyrightLimit"),t[97]=Gl.get("notSptDrm");var r=e.iretcode,o=t[String(r)];return o=o||Gl.get("universalTip")}function jc(e){var t=N.H264,n=null==e?void 0:e.vcode;return 2===n&&(t=N.H265),{vtypeKey:n,vtype:Yl[n]||"unknown",codec:t}}var Hc=function(e,t){return f(void 0,void 0,void 0,(function(){var n,r;return h(this,(function(o){switch(o.label){case 0:return void 0===(n=e.resData.iretcode)?(e.throw(Ur.GETINFO_PARSE,Kr.GETINFO_PARSE,Kc(e.resData)),[2]):Uc(n)?[4,t()]:(r="".concat(Ur.GETINFO_LIVE_SERVER_CODE_PREFIX).concat("000".concat(n).slice(-3)),e.throw(r,Kr.GETINFO_CODE,Kc(e.resData)),[2]);case 1:return o.sent(),[2]}}))}))},qc=function(e,t){return f(void 0,void 0,void 0,(function(){var n,r,o,i;return h(this,(function(a){switch(a.label){case 0:return n=e.resData,o=(r=void 0===n?{}:n).formats instanceof Array?r.formats:[],e.parseData={preview:+r.playtime,urls:[{url:r.playurl}].concat(r.backurl_list),definitionList:o.map((function(e){return{id:e.id,name:e.fn,cname:e.fnname,sname:e.defnname,resolution:e.defnrate,sl:e.fn===r.defn?1:0,lmt:e.vip||0}})),watermarkList:{wi:r.brandpos?[r.brandpos]:[]},supplementaryInfo:{contentInfo:{},previewList:[],watermarkList:[],definitionList:[],posterList:[]}},null===(i=e.parseData.definitionList)||void 0===i||i.reverse(),1===r.fwflag&&r.ukey&&(e.parseData.supplementaryInfo.contentInfo.protectionWatermark=r.ukey),e.logger.log("parse ",e.parseData),[4,t()];case 1:return a.sent(),[2]}}))}))},Gc={};function Yc(e,t){var n=e.cnlid,r=e.platform,o=e.sdtfrom,i=(new Date).getDay(),a="7.".concat(0===i?7:i),s=(null==t?void 0:t.svrtick)>0?"".concat(1e3*(null==t?void 0:t.svrtick)).substring(0,10):yc(),l=Gc.$xx(r,n,o,1,s,a);return e.tm=s,e.fntick=s,e.cKey=l,e.encryptVer=a,e}Gc.ha=function(e){for(var t=[],n=0;n<64;)t[n]=0|4294967296*Math.abs(Math.sin(++n));function r(e,t){return((e>>1)+(t>>1)<<1)+(1&e)+(1&t)}return function(e){for(var n,o,i,a,s=[],l=unescape(encodeURI(e)),c=l.length,u=[n=1732584193,o=-271733879,~n,~o],d=0;d<=c;)s[d>>2]|=(l.charCodeAt(d)||128)<<d++%4*8;for(s[e=16*(c+8>>6)+14]=8*c,d=0;d<e;d+=16){for(c=u,a=0;a<64;)c=[i=c[3],r(n=c[1],(i=r(r(c[0],[n&(o=c[2])|~n&i,i&n|~i&o,n^o^i,o^(n|~i)][c=a>>4]),r(t[a],s[[a,5*a+1,3*a+5,7*a][c]%16+d])))<<(c=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*c+a++%4])|i>>>32-c),n,o];for(a=4;a;)u[--a]=r(u[a],c[a])}for(e="";a<32;)e+=(u[a>>3]>>4*(1^7&a++)&15).toString(16);return e}}(),Gc.stringToHex=function(e){for(var t="",n=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),r=0;r<e.length;r++)t+=n[e.charCodeAt(r)>>4]+n[15&e.charCodeAt(r)];return t},Gc.hexToString=function(e){for(var t="",n="0x"==e.substr(0,2)?2:0;n<e.length;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t},Gc._Seed="#$#@#*ad",Gc.tempcalc=function(e,t){for(var n="",r=0;r<e.length;r++)n+=String.fromCharCode(e.charCodeAt(r)^t.charCodeAt(r%4));return n},Gc.u1=function(e,t){for(var n="",r=t;r<e.length;r+=2)n+=e.charAt(r);return n},Gc._urlStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Gc.urlenc=function(e,t,n){for(var r,o,i,a,s,l,c,u="",d=0;d<e.length;)r=e.charCodeAt(d++),o=e.charCodeAt(d++),i=e.charCodeAt(d++),15==d&&(u="".concat(u,"A"),u+=t,u+=n),a=r>>2,s=(3&r)<<4|o>>4,l=(15&o)<<2|i>>6,c=63&i,isNaN(o)?l=c=64:isNaN(i)&&(c=64),u=u+Gc._urlStr.charAt(a)+Gc._urlStr.charAt(s)+Gc._urlStr.charAt(l)+Gc._urlStr.charAt(c);return u},Gc.$xx=function(e,t,n,r,o,i){var a="123456";if(i.length<3)return"err";if("7."!=i.substr(0,2))return"err";var s=i.substr(2);"1"==s&&(a="06fc1464"),"2"==s&&(a="4244ce1b"),"3"==s&&(a="77de31c5"),"4"==s&&(a="e0149fa2"),"5"==s&&(a="60394ced"),"6"==s&&(a="2da639f0"),"7"==s&&(a="c2f0cf9f");o=o||parseInt(+new Date/1e3);return Gc.ha("".concat(a+t+o,"*#06#").concat(e))};var Wc=function(e,t){return f(void 0,void 0,void 0,(function(){var n,r,o,i;return h(this,(function(a){switch(a.label){case 0:return n=e.reqParams,(r=void 0===n?{}:n).queueStatus=(null===(i=e.resData)||void 0===i?void 0:i.queue_status)||0,Yc(r,e.resData),[4,sc(r.livedrm)];case 1:return o=a.sent(),r.livedrm=o,r.playbackdrm=o,e.logger.log("request params is:",te.safelyStringify(e.reqParams)),[4,t()];case 2:return a.sent(),[2]}}))}))};var zc,Jc=function(e,t){return f(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u,d,p,f;return h(this,(function(h){switch(h.label){case 0:e.logger.log("doRequest start..."),n=e.requestor,r=e.reqParams,o=void 0===r?{}:r,i=e.config,a=i.retryCount,s=i.timeout,l=void 0===s?Vc.timeout:s,c=null,u=0,h.label=1;case 1:if(!(u<a+1))return[3,7];e.logger.log("retry... count is: ",u),h.label=2;case 2:return h.trys.push([2,4,,5]),c=null,e.reqPath=function(e,t){var n=e.test,r=e.path,o=e.zbtype;if(n)return"//test.zb.video.qq.com";var i=r||jl[void 0===o?0:o];return"string"==typeof i?i:i[t%i.length]}(i,u),d=e,[4,n.start(e.reqPath,o,l)];case 3:return d.resData=h.sent(),[3,5];case 4:return p=h.sent(),e.resData=void 0,e.logger.log("the ".concat(u," retry err:"),p),"jsonp timeout"===(null==p?void 0:p.message)&&(c={code:Ur.GETINFO_TIMEOUT,message:Kr.GETINFO_TIMEOUT}),[3,5];case 5:if(e.endTime=+new Date,e.alreadyRetryCount=u,e.resData){if(Uc(f=e.resData.iretcode)||-1===[9,23,24,26,27,28,32,44,47,50,52,56,57,62,-80004,-80003].indexOf(f))return[3,7];Yc(o,e.resData)}h.label=6;case 6:return u++,[3,1];case 7:return e.endTime=+new Date,e.resData?(e.logger.log("sendRequest over... ret is: ",te.safelyStringify(e.resData)),[4,t()]):(e.throw((null==c?void 0:c.code)||Ur.GETINFO_NET,(null==c?void 0:c.message)||Kr.GETINFO_NET),[2]);case 8:return h.sent(),[2]}}))}))},Zc=function(e,t){return f(void 0,void 0,void 0,(function(){var n,r,o,i,a,s;return h(this,(function(l){switch(l.label){case 0:return n=e.player,r=e.resData,o=void 0===r?{}:r,i=e.parseData,a=void 0===i?{}:i,n.setCommonKv(((s={preview:a.preview,drm:o.drmtype})[go.cdnid]=o.cdn_name,s[Kl.isuserpay]=o.isuserpay,s[Kl.livesid]=o.livesid,s[Kl.playtime]=o.playtime,s[Kl.cpay]=o.ispay,s[Kl.restpreviewcnt]=o.restpreviewcnt,s)),[4,t()];case 1:return l.sent(),[2]}}))}))},Xc=function(){function e(e){var t;this.player=e,this._abort=!1,this._seq=0,this._config=u(u({},Vc),(null===(t=e.config)||void 0===t?void 0:t.getinfoLiveConfig)||{}),this.logger=new ue(e.config.instanceId,"GetInfoLive")}return e.prototype.request=function(e,t){var n=this,r=e,o=u(u(u({},Fc),{appVer:this.player.getCommonKv(go.appVer),platform:this.player.getCommonKv(go.platform),sdtfrom:this.player.getCommonKv(go.sdtfrom),flowid:this.player.getCommonKv(go.flowid),guid:this.player.getCommonKv(go.guid),livepid:this.player.getCommonKv(go.livepid),cnlid:r}),t);this._abort=!1,this._seq+=1;var i={player:this.player,startTime:+new Date,endTime:0,alreadyRetryCount:0,config:this._config,reqParams:o,reqPath:void 0,resData:void 0,requestor:new fc("livegetinfo_callback_"),parseData:void 0,error:void 0,throw:function(e,t,n){var r=new Error("getinfo err");throw r.code=e,r.message=t,r.data=n,r},seq:this._seq,urlConfig:void 0,logger:this.logger},a=["cnlid","platform","sdtfrom","guid"].find((function(e){return!o[e]}));if(a)return i.error={code:Ur.GETINFO_INNER,message:"\u7f3a\u5c11\u5fc5\u8981\u64ad\u653e\u53c2\u6570 (".concat(a,") ")},Promise.resolve(this.formatOutputData(i));var s=this._config.prepareRequestMiddleWare||Wc,l=this._config.sendRequestMiddleWare||Jc,c=this._config.checkResponseMiddleWare||Hc,d=this._config.parseResponseMiddleWare||qc;this._middlewares=[s,l,c,d,Zc];var p=pc(this._middlewares),f=new Promise((function(){}));return p(i).then((function(){return n._abort||n._seq!==i.seq?f:(n.logger.log("getinfo \u6210\u529f: ",i),n.formatOutputData(i))})).catch((function(e){if(n._abort||n._seq!==i.seq)return f;var t=e.code,r=e.message;return t||(n.logger.warn("getinfo \u5185\u90e8\u9519\u8bef: ",e),t=Ur.GETINFO_INNER,r="".concat(Kr.GETINFO_INNER,", err (").concat(e,")")),i.error={code:t,message:r,data:e.data},n.formatOutputData(i)}))},e.prototype.abort=function(){this._abort=!0},e.prototype.destroy=function(){this.abort(),this._middlewares=null,this.player=null},e.prototype.formatOutputData=function(e){var t,n,r=e.resData,o=e.parseData,i=u({},e);["requestor","player","throw"].forEach((function(e){delete i[e]}));var a=void 0,s=this.player.getCommonKv(go.drm),l=jc(r),c=l.codec,d=l.vtype,p=l.vtypeKey,f=function(e){var t=(e||{}).drmtype;return dc({codec:jc(e).codec,dltype:3,drm:t})}(r);if(r&&o){var h=null==o?void 0:o.urls.map((function(e){return e.url})),g=h[0],v=h.slice(1),A=(null===(t=null==r?void 0:r.drmckc)||void 0===t?void 0:t.split("|"))||[],y=A[0],_=A[1];a={url:g,backupUrls:v,drmConfig:y?this.prepareDRMConfig({drmType:s,licenseUrl:y,certificateUrl:_}):void 0,chachaParam:s===uo.CHACHA?{cnlid:null===(n=e.reqParams.cnlid)||void 0===n?void 0:n.substring(0,e.reqParams.cnlid.length-2),baseKey:null==r?void 0:r.deckey,randoms:null==r?void 0:r.randoms}:null,p2pConfig:this.prepareP2PConfig({keyId:r.livesid,useP2P:!!r.hlsp2p,downloadMode:0,encoding:p}),drmType:s,vcodec:c}}return this.player.setCommonKv(go.codec,d),u(u({},i),{kernelName:f,urlConfig:a})},e.prototype.prepareDRMConfig=function(e){var t,n,r=e.drmType,o=e.licenseUrl,i=e.certificateUrl,a=this.player.getCommonKv,s=((t={})[uo.FAIR_PLAY]=tt.FairPlayWebKit,t[uo.WIDEVINE]=tt.Widevine,t),l={licenseUrl:o,certificate:{},keySystem:s[r],licenseRequestSetup:function(e){if(r===uo.FAIR_PLAY){e.responseType="text";var t={guid:a(go.guid)},n=Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&");return e.body="".concat(e.body,"&").concat(n),e}return e},licenseResponseSetup:function(e){return r===uo.FAIR_PLAY?At.base64ToUint8Array(e):e}};return r===uo.FAIR_PLAY&&(l.certificate=((n={})[s[r]]=i,n)),l},e.prototype.prepareP2PConfig=function(e){return u({flowId:this.player.getCommonKv(go.flowid),playerInfo:this.getPlayerInfo()},e)},e.prototype.getPlayerInfo=function(){var e={platform:this.player.getCommonKv(go.platform)||"",osVer:this.player.getCommonKv(go.osver)||"",broVer:this.player.getCommonKv(go.ua)||"",playerVer:this.player.getCommonKv(go.playerver)||"",guid:this.player.getCommonKv(go.guid)||"",qq:"",wx:"",vip:!1},t=this.player.getCommonKv(go.hc_main_login);return"qq"===t?e.qq=this.player.getCommonKv(go.hc_vuserid):"wx"===t&&(e.wx=this.player.getCommonKv(go.hc_vuserid)),e},e}();!function(e){e[e.AUTO=0]="AUTO",e[e.FLV=1]="FLV",e[e.HLS=2]="HLS",e[e.RTMP=4]="RTMP",e[e.DASH=8]="DASH",e[e.WEB_RTC=16]="WEB_RTC",e[e.T_RTC=32]="T_RTC"}(zc||(zc={}));var $c,eu=["https://infozb6.video.qq.com/cgi-bin/getliveinfo?","https://bkinfozb6.video.qq.com/cgi-bin/getliveinfo?"];!function(e){e.playtime="live-getinfo:playtime",e.livesid="live-getinfo:livesid",e.isuserpay="live-getinfo:isuserpay",e.cpay="live-getinfo:cpay",e.restpreviewcnt="live-getinfo:resetpreviewcnt"}($c||($c={}));var tu=["flowid","pid","guid"],nu={1:"H264",2:"H265",4:"SDR",22:"DolbyVisionTs",23:"DolbyVisionFmp4"},ru=function(){function e(){}return e.prototype.start=function(e,t,n){var r="".concat(e).concat(Ee.object2string(t,"&"));return Fe.xhr({url:r,timeout:n,method:"GET",withCredentials:!0,responseType:"json"})},e}(),ou={retryCount:3,test:0,timeout:6e3},iu={flowid:"",cmd:2,roomid:"",anchorid:0,pid:"",chid:"",defn:"auto",ufps:"auto",playbacktime:0,ckey:"",appver:"1.0.0.0",encrypt_ver:"",uin:"",country_code:0,lang_code:0,guid:"",appid:0,platform:"",playbackdrm:0,format_support:vt.supportMSE()&&!ee.mobile?zc.FLV|zc.HLS:zc.HLS,caplv:0,hevclv:0,net_type:0,bandwidth:0,sphttps:Ac(),unicomtype:0,unicom:"",telcom:"",cmcc:"",toushe:0,from_platform:0,tm:"",scene:"",spaudio:0,spvideo:0,atmos:0,sdclive_info:"",cnlid:"",host:location.host,sdtfrom:""};function au(e){void 0===e&&(e={});var t=e.retcode,n=e.errmsg,r=void 0===n?"\u64ad\u653e\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5~":n;switch(+t){case 5:case 16:case 18:case 51:case 52:case 67:case 97:default:return{name:"setErrorView",params:{msg:r}};case 7:return{name:"setErrorView",params:{msg:r,hideRefresh:!0,hideCode:!0}};case 8:return{name:"setErrorView",params:{msg:r,hideRefresh:!0,hideCode:!0,isOver:!0}};case 46:return{name:"showPayTips",params:{msg:r}};case 25:case 30:case 45:return function(e){return void 0===e&&(e={}),1===e.iretdetailcode?{name:"execVIPRight",params:{msg:e.errmsg||"\u672c\u76f4\u64ad\u9700\u4ed8\u8d39\u89c2\u770b",type:"backplay",refer:113}}:{name:"showPayTips",params:{msg:e.errmsg||"\u672c\u76f4\u64ad\u9700\u4ed8\u8d39\u89c2\u770b",cmd:3}}}(e)}}function su(e,t){if(!t)return[];var n=t.urls;return(void 0===n?[]:n).map((function(e){return{url:e}}))}function lu(e,t){return t?t.map((function(t){return{id:t.sid,name:t.defn,cname:"".concat(t.defn_name," ").concat(t.defn_rate),sname:t.defn_name,resolution:t.defn_rate,sl:t.defn===e?1:0,lmt:t.vip||0}})).reverse():[]}function cu(e){return{wi:e?[e]:[]}}function uu(e){var t,n=N.H264,r=null===(t=null==e?void 0:e.codec_param)||void 0===t?void 0:t.vcode;return 2===r&&(n=N.H265),{vtype:nu[r]||"unknown",vtypeKey:r,codec:n}}var du=function(e,t){return f(void 0,void 0,void 0,(function(){var n,r;return h(this,(function(o){switch(o.label){case 0:return void 0===(n=e.resData.retcode)?(e.throw(Ur.GETINFO_PARSE,Kr.GETINFO_PARSE,au(e.resData)),[2]):0!==n?(r="".concat(Ur.GETINFO_LIVE_SERVER_CODE_PREFIX).concat("000".concat(n).slice(-3)),e.throw(r,Kr.GETINFO_CODE,au(e.resData)),[2]):[4,t()];case 1:return o.sent(),[2]}}))}))},pu=function(e,t){return f(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u;return h(this,(function(d){switch(d.label){case 0:return n=e.resData,o=(r=void 0===n?{}:n).suggest_defn,i=r.format_list,a=r.play_list,s=r.preview_info,l=r.brandlogo,(c=null==a?void 0:a.find((function(e){return e.defn===o})))?(r.playback&&(r.playback.svrtick=r.svrtick),e.parseData={vitem:c,preview:s?+s.playtime:0,urls:su(0,c),definitionList:lu(o,i),watermarkList:cu(l),supplementaryInfo:{contentInfo:{},previewList:[],watermarkList:[],definitionList:[],posterList:[]}},1===(null===(u=r.float_mark)||void 0===u?void 0:u.fwflag)&&(e.parseData.supplementaryInfo.contentInfo.protectionWatermark=r.float_mark.uin),e.logger.log("parse ",e.parseData),[4,t()]):(e.throw(Ur.GETINFO_PARSE,Kr.GETINFO_PARSE),[2]);case 1:return d.sent(),[2]}}))}))};function fu(e,t){var n=e.roomid,r=e.chid,o=e.cnlid,i=e.platform,a=e.sdtfrom,s=n?r:o,l=(new Date).getDay(),c="7.".concat(0===l?7:l),u=(null==t?void 0:t.svrtick)>0?"".concat(1e3*(null==t?void 0:t.svrtick)).substring(0,10):yc(),d=Gc.$xx(i,s,a,1,u,c);return e.tm=u,e.ckey=d,e.encrypt_ver=c,e}function hu(e){return f(this,void 0,void 0,(function(){var t;return h(this,(function(n){switch(n.label){case 0:return[4,sc(e.livedrm)];case 1:return t=n.sent(),e.livedrm=t,e.playbackdrm=t,[2]}}))}))}var gu=function(e,t){return f(void 0,void 0,void 0,(function(){var n,r;return h(this,(function(o){switch(o.label){case 0:return n=e.reqParams,fu(r=void 0===n?{}:n,e.resData),[4,hu(r)];case 1:return o.sent(),e.logger.log("request params is:",e.reqParams),[4,t()];case 2:return o.sent(),[2]}}))}))};var vu=function(e,t){return f(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u,d,p;return h(this,(function(f){switch(f.label){case 0:e.logger.log("doRequest start..."),n=e.requestor,r=e.reqParams,o=void 0===r?{}:r,i=e.config,a=i.retryCount,s=i.timeout,l=void 0===s?ou.timeout:s,c=null,u=0,f.label=1;case 1:if(!(u<a+1))return[3,7];e.logger.log("retry... count is: ",u),f.label=2;case 2:return f.trys.push([2,4,,5]),c=null,e.reqPath=function(e,t){return e.test?"https://test.zb.video.qq.com/cgi-bin/getliveinfo?":eu[t%eu.length]}(i,u),[4,n.start(e.reqPath,o,l)];case 3:return d=f.sent(),e.resData=d.data,[3,5];case 4:return p=f.sent(),e.resData=void 0,e.logger.log("the ".concat(u," retry err:"),p),"xhrTimeoutError"===(null==p?void 0:p.error)&&(c={code:Ur.GETINFO_TIMEOUT,message:Kr.GETINFO_TIMEOUT}),[3,5];case 5:if(e.endTime=+new Date,e.alreadyRetryCount=u,e.resData){if(32!==e.resData.retcode)return[3,7];fu(o,e.resData)}f.label=6;case 6:return u++,[3,1];case 7:return e.endTime=+new Date,e.resData?(e.logger.log("sendRequest over... ret is: ",e.resData),[4,t()]):(e.throw((null==c?void 0:c.code)||Ur.GETINFO_NET,(null==c?void 0:c.message)||Kr.GETINFO_NET),[2]);case 8:return f.sent(),[2]}}))}))},Au=function(e,t){return f(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u;return h(this,(function(d){switch(d.label){case 0:return n=e.player,r=e.resData,o=void 0===r?{}:r,i=e.parseData,s=(a=void 0===i?{}:i).vitem,n.setCommonKv(((l={preview:a.preview})[go.drm]=null===(c=s.crypt_param)||void 0===c?void 0:c.drmtype,l[$c.isuserpay]=o.isuserpay,l[$c.livesid]=s.sid,l[$c.playtime]=a.preview,l[$c.restpreviewcnt]=null===(u=o.preview_info)||void 0===u?void 0:u.restpreviewcnt,l)),[4,t()];case 1:return d.sent(),[2]}}))}))},yu=function(){function e(e){var t;this.player=e,this._abort=!1,this._seq=0,this._config=u(u({},ou),(null===(t=e.config)||void 0===t?void 0:t.getinfoLiveConfig)||{}),this.logger=new ue(e.config.instanceId,"UnifiedLiveGetInfo")}return e.prototype.request=function(e,t){var n=this,r=u(u({},iu),t),o=this.handlerIds(e,r);r=u(u({},r),o),this._abort=!1,this._seq+=1;var i={player:this.player,startTime:+new Date,endTime:0,alreadyRetryCount:0,config:this._config,reqParams:r,reqPath:void 0,resData:void 0,requestor:new ru,parseData:void 0,error:void 0,throw:function(e,t,n){var r=new Error("getinfo err");throw r.code=e,r.message=t,r.data=n,r},seq:this._seq,urlConfig:void 0,logger:this.logger},a=tu.find((function(e){return!r[e]}));if(a)return i.error={code:Ur.GETINFO_INNER,message:"\u7f3a\u5c11\u5fc5\u8981\u64ad\u653e\u53c2\u6570 (".concat(a,")")},Promise.resolve(this.formatOutputData(i));var s=this._config.prepareRequestMiddleWare||gu,l=this._config.sendRequestMiddleWare||vu,c=this._config.checkResponseMiddleWare||du,d=this._config.parseResponseMiddleWare||pu;this._middlewares=[s,l,c,d,Au];var p=pc(this._middlewares),f=new Promise((function(){}));return p(i).then((function(){return n._abort||n._seq!==i.seq?f:(n.logger.log("getinfo \u6210\u529f: ",i),n.formatOutputData(i))})).catch((function(e){if(n._abort||n._seq!==i.seq)return f;var t=e.code,r=e.message;return t||(n.logger.warn("getinfo \u5185\u90e8\u9519\u8bef: ",e),t=Ur.GETINFO_INNER,r="".concat(Kr.GETINFO_INNER,", err (").concat(e,")")),i.error={code:t,message:r,data:e.data},n.formatOutputData(i)}))},e.prototype.abort=function(){this._abort=!0},e.prototype.destroy=function(){this.abort(),this._middlewares=null,this.player=null},e.prototype.formatOutputData=function(e){var t,n=e.resData,r=e.parseData,o=u({},e);if(["requestor","player","throw"].forEach((function(e){delete o[e]})),!n||!r)return u({},o);var i=r.vitem,a=r.urls,s=i.crypt_param,l=this.player.getCommonKv(go.drm),c=uu(i),d=c.codec,p=c.vtype,f=c.vtypeKey,h=function(e){var t,n=null===(t=null==e?void 0:e.crypt_param)||void 0===t?void 0:t.drmtype;return dc({codec:uu(e).codec,dltype:3,drm:n})}(i),g=a.map((function(e){return e.url})),v=g[0],A=g.slice(1),y=(null===(t=null==s?void 0:s.drmckc)||void 0===t?void 0:t.split("|"))||[],_=y[0],m=y[1],E={url:v,backupUrls:A,headers:null==n?void 0:n.trans_headers,drmConfig:_?this.prepareDRMConfig({drmType:l,licenseUrl:_,certificateUrl:m}):void 0,chachaParam:l===uo.CHACHA?{cnlid:i.sid,baseKey:s.deckey,randoms:s.randoms}:null,p2pConfig:this.prepareP2PConfig({keyId:i.sid,useP2P:!!i.usep2p,downloadMode:0,encoding:f}),drmType:l,vcodec:d};return this.player.setCommonKv(go.codec,p),u(u({},o),{kernelName:h,urlConfig:E})},e.prototype.handlerIds=function(e,t){var n,r=t.roomid,o=t.livepid,i=void 0===o?"":o,a=t.anchorid;return r?(n={pid:i,chid:e,roomid:r,anchorid:void 0===a?"":a},delete t.cnlid):n={pid:i,cnlid:e},delete t.livepid,n},e.prototype.prepareDRMConfig=function(e){var t,n,r=e.drmType,o=e.licenseUrl,i=e.certificateUrl,a=this.player.getCommonKv,s=((t={})[uo.FAIR_PLAY]=tt.FairPlayWebKit,t[uo.WIDEVINE]=tt.Widevine,t),l={licenseUrl:o,certificate:{},keySystem:s[r],licenseRequestSetup:function(e){if(r===uo.FAIR_PLAY){e.responseType="text";var t={guid:a(go.guid)},n=Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&");return e.body="".concat(e.body,"&").concat(n),e}return e},licenseResponseSetup:function(e){return r===uo.FAIR_PLAY?At.base64ToUint8Array(e):e}};return r===uo.FAIR_PLAY&&(l.certificate=((n={})[s[r]]=i,n)),l},e.prototype.prepareP2PConfig=function(e){return u({flowId:this.player.getCommonKv(go.flowid),playerInfo:this.getPlayerInfo()},e)},e.prototype.getPlayerInfo=function(){var e={platform:this.player.getCommonKv(go.platform)||"",osVer:this.player.getCommonKv(go.osver)||"",broVer:this.player.getCommonKv(go.ua)||"",playerVer:this.player.getCommonKv(go.playerver)||"",guid:this.player.getCommonKv(go.guid)||"",qq:"",wx:"",vip:!1},t=this.player.getCommonKv(go.hc_main_login);return"qq"===t?e.qq=this.player.getCommonKv(go.hc_vuserid):"wx"===t&&(e.wx=this.player.getCommonKv(go.hc_vuserid)),e},e}(),_u=function(){function e(e,t){this.controllers=[],this.message=new Je,this.destroyed=!1,this.config=this.prepareConfig(t),this.player=e,this.logger=new ue(e.config.instanceId,"tvk"),this.initializeAllControllers(),this.initDebugMode()}return e.prototype.destroy=function(){this.controllers.forEach((function(e){return e.destroy()})),this.player=null,this.controllers=null,this.destroyed=!0},e.prototype.initializeAllControllers=function(){return f(this,void 0,void 0,(function(){var e,t=this;return h(this,(function(n){switch(n.label){case 0:return e=[$s,tc,this.config.definitionController,this.config.audioTrackController].map((function(e){return e?new e(t.player,t):null})).filter((function(e){return null!==e})),[4,Promise.all(e.map((function(e){return e.ready.then((function(n){return t.onControllerReady(e)})).catch((function(n){return t.onControllerFailed(e,n)}))})))];case 1:return[2,n.sent()]}}))}))},e.prototype.onControllerReady=function(e){this.checkDestroyed(e),this.logger.log("".concat(e.constructor.moduleName," ready")),e.init(),this.controllers.push(e)},e.prototype.onControllerFailed=function(e,t){this.logger.error("".concat(e.constructor.moduleName," failed, reason: ").concat(t))},e.prototype.checkDestroyed=function(e){var t=e.constructor.moduleName;if(this.destroyed)throw e.destroy(),new Error("TVK has been destroyed, ".concat(t," initialization is aborted"))},e.prototype.prepareConfig=function(e){var t=Ws;return Object.assign({},t,e)},e.prototype.initDebugMode=function(){var e=!1;try{e=!!_e.getData("__thumbplayer_tvk_debug")}catch(qe){this.logger.log("failed to get debug mode from local storage")}(this.config.debug||e)&&(window.tvk=this)},e.prototype.on=function(e,t){this.message.on(e,t)},e.prototype.off=function(e,t){this.message.off(e,t)},e.prototype.emit=function(e){for(var t,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];(t=this.message).emit.apply(t,g([e],r,!1)),(n=this.player.pluginMsg).emit.apply(n,g([e],r,!1))},e.prototype.removeAllListeners=function(){this.message.removeAllListeners()},e}();function mu(e,t){return void 0===t&&(t={}),new _u(e,t)}var Eu,Iu="CreativePlayerPlugin",bu=(ee.mobile,"3.2.30"),Cu=["e.news.qq.com"],wu=Cu.includes(window.location.hostname),Su="error-page",xu={REPORT_LOG:"error-page:report-log"},Pu=function(){return Pu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Pu.apply(this,arguments)};!function(e){e.HOT_MOUSE_OVER="ctrl:hotpoint-mouseover",e.HOT_MOUSE_MOVE="ctrl:hotpoint-mousemove",e.HOT_MOUSE_OUT="ctrl:hotpoint-mouseout"}(Eu||(Eu={}));var Tu,Du,Ou="ctrlbar",Nu=Pu(Pu({FULLSCREEN_CHANGE:"windowFullscreenChange",FULLSCREEN_ERROR:"fullscreenError",FAKE_FULLSCREEN_CHANGE:"browserFullscreenChange",CLICK_PIPBTN:"ctrl:click-pipbtn",CLICK_NEXTBTN:"ctrl:click-nextbtn",CLICK_PLAYBTN:"ctrl:click-playbtn",CLICK_REPLAY:"ctrl:click-replay",SET_LANGUAGE:"ctrl:set-language",SET_LEVEL:"ctrl:set-level",SET_AUDIO:"ctrl:set-audio",SET_PLAYRATE:"ctrl:set-playrate",SET_VOLUME:"ctrl:set-volume",TOGGLE_OVERLAY:"ctrl:toggle-overlay",MOUSE_DONW:"ctrl:progress-mousedown",MOUSE_DOWN:"ctrl:progress-mousedown",MOUSE_MOVE:"ctrl:progress-mousemove",MOUSE_UP:"ctrl:progress-mouseup",SHOW:"ctrl:show",HIDE:"ctrl:hide"},Eu),{TEST_EVENT:"ctrl:inner-test-event",RESIZE:"ctrl:resize",SHOW_LEVELS:"ctrl:show-levels",HOVER_PROGRESS:"ctrl:hover-progress"}),Ru=".plugin_ctrl_txp_bottom",ku=".plugin_ctrl_mobile_txp_bottom";!function(e){e.LARGE="large",e.NORMAL="normal"}(Tu||(Tu={})),function(e){e.PAUSE="pause",e.PLAY="play",e.REPLAY="replay",e.STOP="stop"}(Du||(Du={}));var Lu,Bu="info-panel",Mu="poster",Qu="tips",Vu="context-menu",Fu="ui-watermark";!function(e){e.ActionWatermarkRequestFailed="001"}(Lu||(Lu={}));var Uu,Ku,ju,Hu="//vm.gtimg.cn/thumbplayer/plugins/thumbplayer-plugin-super-player-plugins/".concat("1.4.182","/index.min.js"),qu=[Qu,Su,Mu,Ou,Bu,Fu,Vu],Gu={AUTO:0,H264:1,H265:2};!function(e){e[e.AUTO=void 0]="AUTO",e[e.NOT_SPT=0]="NOT_SPT",e[e.SD=11]="SD",e[e.HD=16]="HD",e[e.SHD=21]="SHD",e[e.FHD=26]="FHD",e[e.UHD=28]="UHD",e[e.UHD_ONLY=31]="UHD_ONLY"}(Uu||(Uu={})),function(e){e.PREVIEW="preview"}(Ku||(Ku={})),function(e){e.vodCGIUsed="super:cgiUsed",e.getinfoAdInfo="getinfoAdInfo",e.hlsAdRanges="hlsAdRanges"}(ju||(ju={}));var Yu,Wu={ENV_CACHE:"__thumbplayer_env_cache",RENDER_STATS_INFO:"__thumbplayer_render_stats_info",DEGRADE_CODEC_TIME:"__thumbplayer_degradecodec_time",DYNAMIC_CONFIG:"__thumbplayer_dynamic_config"},zu=Object.freeze({__proto__:null,PLAY_CODEC:Gu,get HEVC_LV_VALUE(){return Uu},get SUPER_END_STATE(){return Ku},get SUPER_DATA_KEY(){return ju},LOCAL_STORAGE_KEY:Wu,ctrlbarPluginName:"ctrlbar",contextMenuPluginName:"context-menu",adGlobalName:Iu,adVersion:bu,adScriptMaxLoadTime:1e4,skipAdDomainWhiteList:Cu,isInDomainWhiteList:wu,CTRL_EVENTS:Nu,get CTRL_SIZE(){return Tu},CtrlbarPluginName:Ou,DEFAULT_SHOW_QUERY:"show_info_panel",ErrorPagePluginEvents:xu,ErrorPagePluginName:Su,get HOTPOINT_EVENTS(){return Eu},INFO_SVG_DOM_STR:'<div class="txp_info_icon txp_none">\n  <svg\n  viewBox="0 0 1024 1024"\n  version="1.1"\n  xmlns="http://www.w3.org/2000/svg"\n  >\n  <path\n    d="M512 958.016C266.08 958.016 65.984 757.952 65.984 512 65.984 266.08 266.08 65.984 512 65.984c245.952 0 446.016 200.064 446.016 446.016C958.016 757.952 757.952 958.016 512 958.016zM512 129.984C301.344 129.984 129.984 301.344 129.984 512c0 210.624 171.36 382.016 382.016 382.016 210.624 0 382.016-171.36 382.016-382.016C894.016 301.344 722.624 129.984 512 129.984z"\n  ></path>\n  <path\n    d="M512 304m-48 0a1.5 1.5 0 1 0 96 0 1.5 1.5 0 1 0-96 0Z"\n  ></path>\n  <path\n    d="M512 768c-17.664 0-32-14.304-32-32l0-288c0-17.664 14.336-32 32-32s32 14.336 32 32l0 288C544 753.696 529.664 768 512 768z"\n  ></path>\n  </svg>\n</div>\n',InfoPanelEvents:{CLICK_UPLOAD:"contextmenu:click-upload"},InfoPanelPluginName:Bu,MaxRequestRetry:3,POSTER_IMAGE_ALT:"Thumbplayer Poster Plugin Image",POSTER_IMAGE_CLASS_NAME:"txp_poster_img",get PlayBtnStatus(){return Du},PosterPluginName:Mu,REPORTING_SVG_ICON:'<svg class="reporting-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\nxmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" fill="#fff">\n<path\n  d="M784 902.4c9.6 19.2 6.4 41.6-12.8 54.4-19.2 9.6-41.6 3.2-51.2-12.8-9.6-19.2-6.4-41.6 12.8-54.4 16-12.8 38.4-8 51.2 12.8z m-233.6 81.6c0 22.4-16 38.4-38.4 38.4s-38.4-16-38.4-38.4V960c0-22.4 19.2-38.4 41.6-38.4 19.2 0 35.2 16 38.4 38.4v25.6h-3.2z m-240-43.2c-9.6 19.2-35.2 25.6-54.4 16-19.2-9.6-25.6-35.2-16-51.2l28.8-51.2c9.6-19.2 35.2-25.6 54.4-16s25.6 35.2 12.8 54.4l-25.6 48zM121.6 784c-19.2 9.6-41.6 3.2-54.4-16-9.6-19.2-6.4-41.6 12.8-54.4l76.8-44.8c19.2-9.6 41.6-3.2 54.4 16 9.6 19.2 3.2 41.6-16 54.4L121.6 784zM38.4 552c-22.4 0-38.4-16-38.4-38.4s16-38.4 38.4-38.4H160c22.4 0 38.4 19.2 38.4 38.4 0 22.4-16 38.4-38.4 38.4H38.4z m44.8-241.6c-19.2-9.6-25.6-35.2-16-51.2 9.6-19.2 35.2-25.6 54.4-16L256 320c19.2 9.6 25.6 35.2 16 54.4s-35.2 25.6-54.4 16l-134.4-80z m160-185.6l92.8 160c9.6 19.2 35.2 25.6 54.4 12.8s25.6-35.2 12.8-54.4l-92.8-160c-12.8-19.2-35.2-22.4-54.4-12.8-16 12.8-22.4 33.6-12.8 54.4z m230.4-84.8c0-22.4 16-38.4 38.4-38.4s38.4 19.2 38.4 38.4V224c0 22.4-19.2 38.4-38.4 38.4-22.4 0-38.4-19.2-38.4-38.4V40z m240 43.2c9.6-19.2 35.2-25.6 54.4-16 19.2 9.6 25.6 35.2 16 51.2l-92.8 160c-9.6 19.2-35.2 25.6-54.4 16-19.2-9.6-25.6-35.2-12.8-54.4l89.6-156.8z m188.8 160l-160 92.8c-19.2 9.6-25.6 35.2-16 54.4 12.8 19.2 35.2 25.6 54.4 12.8l160-92.8c19.2-9.6 25.6-35.2 12.8-54.4-9.6-16-32-25.6-51.2-12.8z m83.2 228.8c22.4 0 38.4 16 38.4 38.4s-16 38.4-38.4 38.4H800c-22.4 0-38.4-19.2-38.4-38.4 0-22.4 19.2-38.4 38.4-38.4h185.6z"\n  />\n</svg>',RequestTimeout:5e3,TipsPluginName:Qu,UIContextMenuPluginName:Vu,WaterMarkCoverClassName:"thumbplayer-watermark-cover",get WatermarkError(){return Lu},WatermarkPluginName:Fu,bodyOverflowClassName:"plugin_ctrl_fake_fullscreen",classNameOnCtrlHide:"ctrl_hide",classNameOnCtrlResize:"ctrl_resize",containerClassName:"_mod_thumbplayer_container_",dataRoleMap:{error:"txp-ui-error",errorMsg:"txp-ui-error-msg",errorHandler:"txp-ui-error-handler",errorRefresh:"txp-ui-error-refresh",errorCode:"txp-ui-error-code",background:"txp-ui-error-background",clientBtn:"txp-ui-error-client-btn",browserTip:"txp-ui-error-browser"},defaultErrorText:"\u51fa\u9519\u5566",defaultShowTime:3,getRootClassName:function(e){return e?ku:Ru},gradientClassName:".plugin_ctrl_txp_gradient_bottom",hideClass:"txp_none",largeSizeClassName:"plugin_ctrl--large",mobileRootClassName:ku,pcRootClassName:Ru,shadowClassName:".plugin_ctrl_txp_shadow",PLUGINS_URL:Hu,LAZY_PLUGINS:qu});!function(e){e.DEGRADE_CODEC="degradeCodec",e.PREVIEW_START="previewStart",e.PREVIEW_END="previewEnd",e.GET_VIDEO_MARK_ALL_OVER="getVideoMarkAllOver",e.ENTER_HLS_AD="enterHlsAd",e.EXIT_HLS_AD="exitHlsAd"}(Yu||(Yu={}));var Ju,Zu,Xu=Object.freeze({__proto__:null,get SUPER_EVENTS(){return Yu}}),$u=["PLAY_EVENT","VIDEO_STATE","KERNEL_NAME","PLAY_MODE","END_STATE","EvtEmitter","kernelEvtBus","preloadEvtBus","PAUSE_TYPE","commonTool","uaTool","Logger","cookieTool","lsTool","urlTool","domTool","netTool","videoTool","stringTool","VIDEO_CODEC","AUDIO_CODEC","CONTAINER_FORMAT"],ed=["H5_PLAY_EVENT","COMMON_DATA_KEY","DATA_EVENTS","DRM_TYPE","DRM_VALUE","H5_EXT_EVENT","AdPluginName","FullScreenMode","Plugin"],td=["PLAY_CODEC","CTRL_EVENTS","SUPER_END_STATE","SUPER_EVENTS","ctrlbarPluginName","contextMenuPluginName"],nd=["TVK_EVENTS","TVK_EVENT_DETAILS"];!function(e){e[e.enabled=0]="enabled",e[e.disabled=1]="disabled"}(Zu||(Zu={}));var rd,od={MidRoll:"ZC",HlsAd:"PHLS",BeforePlay:Qr.PRE,BeforePlayCodeName:"LD",AfterPlay:Qr.POST,AfterPlayCodeName:"HT"};!function(e){e[e.HLS_AD=2]="HLS_AD"}(rd||(rd={}));var id=["playrate","definition","audiotrack","language","PlayBtn","NextBtn","Progress","CtrlShow","PictureInPicture"],ad=((Ju={})[od.AfterPlay]=id,Ju[od.BeforePlay]=id,Ju[od.MidRoll]=id,Ju[od.HlsAd]=["playrate","definition","audiotrack","language"],Ju);var sd,ld=function(){function e(e,t){var n=this;this.player=e,this.corePlayer=t,this.isHlsAdPlaying=!1,this.adSlotInfo=[],this.logger=new ue(this.player.config.instanceId,"AdLogic"),this.setEvts(!0),this.player.pluginMsg.once("pluginsetup:".concat(Vr),(function(){var e,t;n.adPlugin=Mr(n.player.config.instanceId),ee.browser.safari&&(null===(t=(e=n.adPlugin).setPhlsPlayType)||void 0===t||t.call(e)),n.setAdPluginEvts(!0)}))}return e.prototype.destroy=function(){Mr(this.player.config.instanceId)&&this.setAdPluginEvts(!1),this.setEvts(!1),this.player=null,this.corePlayer=null},e.prototype.setEvts=function(e){var t,n,r=this;this.evtMap||(this.evtMap={player:(t={},t[Hr.AD_PLAYING]=this.onAdPlaying.bind(this),t[Hr.AD_END]=this.onAdEnd.bind(this),t[Hr.AD_AUTOPLAY_BLOCKED]=this.onAdAutoplayBlocked.bind(this),t[Hr.VIDEO_TIMEUPDATE]=this.onVideoTimeUpdate.bind(this),t[Hr.AD_PAUSE]=this.onAdPaused.bind(this),t[Hr.AD_RESUME]=this.onAdResume.bind(this),t[S.ENTER_INSERT_STREAM]=this.onEnterInsertStream.bind(this),t[S.EXIT_INSERT_STREAM]=this.onExitInsertStream.bind(this),t),adPlugin:{enterCountdownCompleteEvt:this.onWillPlayMidRollAd.bind(this),enterCountdownEvt:this.onEnterMidRollAdCountdown.bind(this)},msg:(n={},n[jr.GETINFO_OVER]=this.onVideoReqInfoEnd.bind(this),n)});var o=e?this.player.on:this.player.off;Object.keys(this.evtMap.player).forEach((function(e){o.apply(r.player,[e,r.evtMap.player[e]])}));var i=e?this.player.on:this.player.off;Object.keys(this.evtMap.msg).forEach((function(e){i.apply(r.player.pluginMsg,[e,r.evtMap.msg[e]])}))},e.prototype.setAdPluginEvts=function(e){var t=this,n=Mr(this.player.config.instanceId),r=e?n.on:n.off;Object.keys(this.evtMap.adPlugin).forEach((function(e){r.apply(n,[e,t.evtMap.adPlugin[e]])}))},e.prototype.onAdPlaying=function(e){var t,n,r,o,i=this;null===(r=((t={})[od.BeforePlay]=function(){return i.setCtrlBarState(Zu.disabled,od.BeforePlay)},t[od.MidRoll]=function(){return i.setCtrlBarState(Zu.disabled,od.MidRoll)},t[od.AfterPlay]=function(){return i.setCtrlBarState(Zu.disabled,od.AfterPlay)},t)[null===(n=e.data)||void 0===n?void 0:n.adType])||void 0===r||r.apply(this),null===(o=this.player.loadingPlugin)||void 0===o||o.hide()},e.prototype.onAdPaused=function(){var e=this.player.ctrlbarPlugin;e&&!ee.mobile&&(e.show(!0),e.setCompDisable("PlayBtn",!1))},e.prototype.onAdResume=function(e){var t=e.data.adtype,n=[od.AfterPlayCodeName,od.MidRoll,od.BeforePlayCodeName],r=this.player.ctrlbarPlugin;r&&!ee.mobile&&n.includes(t)&&r.setCompDisable("PlayBtn")},e.prototype.onAdEnd=function(e){var t,n,r,o=this;null===(r=((t={})[od.BeforePlay]=function(){return o.setCtrlBarState(Zu.enabled,od.BeforePlay)},t[od.MidRoll]=function(){o.setCtrlBarState(Zu.enabled,od.MidRoll),o.player.play()},t[od.AfterPlay]=function(){return o.setCtrlBarState(Zu.enabled,od.AfterPlay)},t)[null===(n=e.data)||void 0===n?void 0:n.adType])||void 0===r||r.apply(this)},e.prototype.onAdAutoplayBlocked=function(e){var t;if(e.data.adType===od.BeforePlay){null===(t=this.player.loadingPlugin)||void 0===t||t.hide();var n=this.player.ctrlbarPlugin;n&&(n.show(!0),n.setCompDisable("PlayBtn",!1),n.setCompDisable(["PictureInPicture","playrate"],!0))}},e.prototype.onWillPlayMidRollAd=function(){this.player.pause(),Mr(this.player.config.instanceId).playAd({adType:od.MidRoll})},e.prototype.onEnterMidRollAdCountdown=function(){this.setCtrlBarState(Zu.disabled,od.MidRoll)},e.prototype.setCtrlBarState=function(e,t){var n=this.player.plugins.ctrlbar;if(n){var r=ad[t];if(n.setCompDisable(r,!!e),t===od.HlsAd);else n.setHotKeysDisable(!!e)}},e.prototype.onVideoReqInfoEnd=function(e){var t,n,r,o,i=e.data,a=((null==i?void 0:i.parseData)||{}).vitem;if(!(null==i?void 0:i.error))if(a&&a.ad){var s=function(e){var t,n=[];if(!(null==e?void 0:e.adpinfo))return n;var r=null;try{r=JSON.parse(e.adpinfo)}catch(qe){}return null===(t=null==r?void 0:r.plugin_info)||void 0===t||t.forEach((function(e){+e.optype===rd.HLS_AD&&n.push({start:e.ad_offset_time,end:e.ad_offset_time+e.ad_dura})})),n}(a.ad);this.player.setCommonKv(ju.hlsAdRanges,s),this.player.setCommonKv(ju.getinfoAdInfo,a.ad),this.adSlotInfo=J.Z.mergeTimeRanges(null!==(o=null===(r=null===(n=null===(t=i.parseData)||void 0===t?void 0:t.supplementaryInfo)||void 0===n?void 0:n.contentInfo)||void 0===r?void 0:r.ad)&&void 0!==o?o:[]),this.logger.log("hlsAdRanges from getinfo is ",s)}else this.player.setCommonKv(ju.hlsAdRanges,null)},e.prototype.onVideoTimeUpdate=function(e){var t=(e.data||{}).playtime;ee.browser.safari||t<=0||this.checkWhetherEnterOrExitHlsAd(t)},e.prototype.checkWhetherEnterOrExitHlsAd=function(e){var t=this.player.getCommonKv(ju.hlsAdRanges);if(!t||t.length<=0)this.exitHlsAd();else{var n=t.find((function(t){return t.start<=e&&e<=t.end}));!this.isHlsAdPlaying&&n?this.enterHlsAd(e,n):this.isHlsAdPlaying&&!n&&this.exitHlsAd()}},e.prototype.enterHlsAd=function(e,t){this.isHlsAdPlaying||(this.logger.log("enter hlsAd, playtime=".concat(e,", range="),t),this.isHlsAdPlaying=!0,this.player.emit(Yu.ENTER_HLS_AD,{hlsAdRange:t}))},e.prototype.exitHlsAd=function(){this.isHlsAdPlaying&&(this.logger.log("exit hlsAd...."),this.isHlsAdPlaying=!1,this.player.emit(Yu.EXIT_HLS_AD))},e.prototype.onEnterInsertStream=function(e){var t,n,r,o,i=(null!==(t=null==e?void 0:e.data)&&void 0!==t?t:{}).index;this.logger.log("enter insert stream",this.adSlotInfo[i]);var a=null===(n=this.adSlotInfo)||void 0===n?void 0:n[i];a&&(this.setCtrlBarState(Zu.disabled,od.HlsAd),null===(o=null===(r=this.adPlugin)||void 0===r?void 0:r.startSoloPlayPhls)||void 0===o||o.call(r,a.start),this.player.emit(Hr.AD_PLAYING,{adType:od.HlsAd}))},e.prototype.onExitInsertStream=function(e){var t,n,r,o=(null!==(t=null==e?void 0:e.data)&&void 0!==t?t:{}).index;this.logger.log("exit insert stream",this.adSlotInfo[o]),this.setCtrlBarState(Zu.enabled,od.HlsAd),null===(r=null===(n=this.adPlugin)||void 0===n?void 0:n.endSoloPlayPhls)||void 0===r||r.call(n),this.player.emit(Hr.AD_END,{code:Ur.SUC,adType:od.HlsAd})},e}(),cd=function(){function e(e){this.player=e,this.hasPostAdInPlaySession=!1,this.setEvts(!0),this.showDefaultPoster()}return e.prototype.destroy=function(){this.setEvts(!1),this.player=null},e.prototype.showDefaultPoster=function(){var e=this,t=this.player.config,n=t.videoId,r=t.type,o=t.lazyInitPlugins,i=t.videoInitConfig,a=n;if(i)if("string"==typeof i)a=i;else{var s=i.vid;s&&(a=s)}var l=function(){r===A.VOD&&a&&e.showPoster(a)};o?this.player.pluginMsg.once("pluginsetup:".concat(Mu),(function(){l()})):l()},e.prototype.showPoster=function(e){var t=this.player.config,n=t.poster,r=t.disablePoster,o=t.type,i=this.player.getPlugin(Mu);!r&&i&&((null==n?void 0:n.src)?i.show(n.src):o!==A.VOD?i.show("https://puui.qpic.cn/vupload/0/20171225_1514277750947.jpeg/0"):e&&"string"==typeof e&&i.showByVid(u(u({},n),{vid:e})))},e.prototype.setEvts=function(e){var t,n=this;this.evtMap||(this.evtMap=((t={})[Hr.AD_AUTOPLAY_BLOCKED]=this.onAdAutoplayBlocked.bind(this),t[Hr.AD_PLAYING]=this.onAdPlaying.bind(this),t[Hr.PLAY_SESSION_END]=this.onPlaySessionEnd.bind(this),t));var r=e?this.player.on:this.player.off;Object.keys(this.evtMap).forEach((function(e){r.apply(n.player,[e,n.evtMap[e]])}))},e.prototype.onAdAutoplayBlocked=function(e){e.data.adType===Qr.PRE&&this.showPoster(this.player.vid)},e.prototype.onAdPlaying=function(e){e.data.adType===Qr.POST&&(this.hasPostAdInPlaySession=!0)},e.prototype.waitSessionStart=function(){var e=this;return new Promise((function(t){var n=function(){return t(!0)};e.player.once(Hr.PLAY_SESSION_START,n),setTimeout((function(){var r;null===(r=e.player)||void 0===r||r.off(Hr.PLAY_SESSION_START,n),t(!1)}),dd)}))},e.prototype.onPlaySessionEnd=function(e){var t=e.data;return f(this,void 0,void 0,(function(){var e,n;return h(this,(function(r){switch(r.label){case 0:return e=t.curFlowNodeName,n=t.endState,this.hasPostAdInPlaySession?(this.hasPostAdInPlaySession=!1,this.showPoster(this.player.vid),[2]):ud.test(e)&&n!==y.NORMAL?[4,this.waitSessionStart()]:[3,2];case 1:!r.sent()&&this.showPoster(this.player.vid),r.label=2;case 2:return[2]}}))}))},e}(),ud=/AdFlowNode/i,dd=400;function pd(e,t,n){if(t&&n)for(var r=[{checker:function(){return e===A.LIVE&&"load"===t},msg:"\u76f4\u64ad\u6a21\u5f0f\u4e0d\u652f\u6301load()\u63a5\u53e3"},{checker:function(){return e===A.LIVE&&"play"===t&&n.vid},msg:"\u76f4\u64ad\u6a21\u5f0f\u4e0d\u652f\u6301\u4f20\u5165vid"},{checker:function(){return e===A.VOD&&n.cnlid},msg:"\u70b9\u64ad\u6a21\u5f0f\u4e0d\u652f\u6301\u4f20\u5165cnlid"},{checker:function(){return n.vid&&!/^\w{11}$/.test(n.vid)},msg:"vid\u53c2\u6570\u975e\u6cd5"}],o=0,i=r.length;o<i;o++)if(r[o].checker())throw new Error(r[o].msg)}function fd(){var e="npm";try{e="npm"}catch(q){}var t="";try{t="1.15.2"}catch(o){}var n="";try{n="1675660070994"}catch(i){}var r=!1;try{r="1"==={NODE_ENV:"production",VUE_APP_PATH:"production",BASE_URL:"https://qq-web.cdn-go.cn/im.qq.com_new/7b341f39/"}.__LOCAL_DEV__}catch(a){}return{CHANNEL:e,VERSION:t,BUILD_TIME:n,LOCAL_DEV:r}}!function(e){e.debugSuper="__debugSuper",e.logLevel="__logLevel",e.downloadKit="__downloadKit",e.forceCodec="__forceCodec"}(sd||(sd={}));var hd,gd=function(){function e(e){var t=this;this.player=e,this.previewDuration=vd,this.isPreviewEnd=!1,this.lastHotKeysDisabled=!1,this.lastCtrlShowDisabled=!1,this.previewStartTimeOnLive=0,this.onVideoSessionStart=function(){t.ctrlPlugin&&t.isVod&&(t.ctrlPlugin.duration=void 0)},this.onVideoReqInfoEnd=function(e){var n=e.data,r=n.code,o=n.data;if(r===Ur.SUC){var i=(null==o?void 0:o.parseData)||{},a=i.preview,s=i.duration;Number.isNaN(a)||a<=0||(t.previewDuration=a,t.isVod?(t.showTips(),t.ctrlPlugin&&(t.player.ctrlbarPlugin.duration=ee.mobile?t.previewDuration:s,ee.mobile||t.setCtrlMaxPercent(a/s))):t.showTips(),t.player.emit(Yu.PREVIEW_START,{previewDuration:a}))}},this.onVideoPlaying=function(e){if(e.data.isFirst&&(t.previewStartTimeOnLive=+new Date),t.isPreviewEnd){if(t.isPreviewEnd=!1,!t.ctrlPlugin)return;t.restoreCtrlBarAction()}},this.onVideoTimeUpdate=function(e){var n=e.data.playtime;(t.isVod?t.checkPreviewOverOnVodMode(n):t.checkPreviewOverOnLiveMode())&&(t.isPreviewEnd=!0,t.player.emit(Yu.PREVIEW_END,{previewDuration:t.previewDuration}))},this.onPlaySessionEnd=function(){var e;t.previewDuration!==vd&&(null===(e=t.player.tipsPlugin)||void 0===e||e.hide()),t.previewDuration=vd,t.previewStartTimeOnLive=0,t.ctrlPlugin&&(t.setCtrlMaxPercent(1),t.restoreCtrlBarAction())},this.onVideoPause=function(){t.isPreviewEnd&&t.setCtrlPlayBtnStatus(Du.REPLAY)},this.setPreviewListener(!0)}return e.prototype.destroy=function(){this.setPreviewListener(!1),this.player=null},e.prototype.setPreviewListener=function(e){var t=e?this.player.on.bind(this.player):this.player.off.bind(this.player);t(Hr.PLAY_SESSION_START,this.onVideoSessionStart),t(Hr.VIDEO_REQ_INFO_END,this.onVideoReqInfoEnd),t(Hr.VIDEO_PLAYING,this.onVideoPlaying),t(Hr.VIDEO_TIMEUPDATE,this.onVideoTimeUpdate),t(Hr.VIDEO_PAUSE,this.onVideoPause),t(Hr.PLAY_SESSION_END,this.onPlaySessionEnd)},e.prototype.checkPreviewOverOnVodMode=function(e){var t=this;return!(this.previewDuration===vd||e<this.previewDuration||this.isPreviewEnd)&&(ee.mobile?setTimeout((function(){t.player.corePlayer.stop(Ku.PREVIEW)})):(this.player.pause(),this.disableCtrlAction()),!0)},e.prototype.checkPreviewOverOnLiveMode=function(){var e=this;return!(this.previewDuration===vd||this.previewStartTimeOnLive<=0||this.isPreviewEnd||+new Date-this.previewStartTimeOnLive<=1e3*this.previewDuration)&&(setTimeout((function(){e.player.corePlayer.stop(Ku.PREVIEW)})),!0)},e.prototype.setCtrlPlayBtnStatus=function(e){var t,n,r=null===(n=null===(t=this.ctrlPlugin)||void 0===t?void 0:t.instances)||void 0===n?void 0:n.PlayBtn;r&&(r.el.dataset.status=e)},e.prototype.setCtrlMaxPercent=function(e){var t,n;void 0===e&&(e=1);var r=null===(n=null===(t=this.ctrlPlugin)||void 0===t?void 0:t.instances)||void 0===n?void 0:n.Progress;r&&(r.maxPercent=e)},e.prototype.disableCtrlAction=function(){this.ctrlPlugin&&(this.lastHotKeysDisabled=this.ctrlPlugin.getIsHotKeysDisabled(),this.lastCtrlShowDisabled=this.ctrlShow.shadowClickDisabled,this.ctrlShow.shadowClickDisabled=!0,this.ctrlPlugin.setHotKeysDisable(!0))},e.prototype.restoreCtrlBarAction=function(){this.ctrlPlugin&&(this.ctrlPlugin.setHotKeysDisable(this.lastHotKeysDisabled),this.ctrlShow.shadowClickDisabled=this.lastCtrlShowDisabled)},e.prototype.showTips=function(){var e,t=[/^http(s?):\/\/v\.qq(\.com)\/x\/(cover|page)\//.test(location.href),ee.browser.qqlive].some((function(e){return e}));if(!t){var n=J.Z.formatPlayTime(this.previewDuration),r=function(e,t,n){if(!e)return"";t="0"!==t?"_".concat(t):"";var r=e.substr(0,1),o=e.substr(e.length-2,1),i=e.substr(e.length-1,1),a="".concat("//v.qq.com/page","/").concat(r,"/").concat(o,"/").concat(i,"/").concat(e).concat(t,".html");return n&&(a+="?start=".concat(n)),a}(this.player.vid,"0");null===(e=this.player.tipsPlugin)||void 0===e||e.show({text:"\u53ef\u8bd5\u770b ".concat(n,'\uff0c\u53bb\u817e\u8baf\u89c6\u9891\u89c2\u770b\u5b8c\u6574\u7248 <a target="_blank;" href="').concat(r,'">\u7acb\u5373\u524d\u5f80</a>'),time:-1})}},Object.defineProperty(e.prototype,"isVod",{get:function(){return this.player.config.type===A.VOD},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ctrlShow",{get:function(){var e,t;return null===(t=null===(e=this.ctrlPlugin)||void 0===e?void 0:e.instances)||void 0===t?void 0:t.CtrlShow},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ctrlPlugin",{get:function(){return this.player.plugins.ctrlbar},enumerable:!1,configurable:!0}),e}(),vd=0,Ad=["//vd6.l.qq.com/proxyhttp","//vi.l.qq.com/proxyhttp"],yd={retryCount:3};!function(e){e.onlyvinfo="onlyvinfo",e.onlyad="onlyad",e.vinfoad="vinfoad"}(hd||(hd={}));var _d,md,Ed,Id="70015001",bd="70015003";!function(e){e.SD="sd",e.HD="hd",e.SHD="shd",e.FHD="fhd",e.UHD="uhd",e.DOLBY="dolby",e.HDR10="hdr10",e.SFR_HDR="sfr_hdr"}(_d||(_d={})),function(e){e[e.mp4=1]="mp4",e[e.hls=3]="hls"}(md||(md={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.FRAME_DROP=1]="FRAME_DROP",e[e.WASM_RENDER=2]="WASM_RENDER",e[e.WASM_SPT_ERR=3]="WASM_SPT_ERR",e[e.ORG_SPT_ERR=4]="ORG_SPT_ERR",e[e.USER=5]="USER"}(Ed||(Ed={}));var Cd=function(e){function t(t){var n=e.call(this,t)||this;return n.isRetryedInSession=!1,n.superPlayer=t,n}return c(t,e),t.prototype.onSessionStart=function(){this.isRetryedInSession=!1},t.prototype.getRetryConfig=function(t,n){var r,o=null===(r=e.prototype.getRetryConfig)||void 0===r?void 0:r.call(this,t),i=n||{},a=i.degradeCodecExpireTime,s=void 0===a?0:a,l=i.degradeReason,c=void 0===l?Ed.UNKNOWN:l;return o&&n&&this.canDegradeCodecDefn()&&(o.updatePlayParam.videoReqInfoParam.hevclv=Uu.NOT_SPT),u(u({},o),{degradeCodecExpireTime:s,degradeReason:c})},t.prototype.canDegradeCodecDefn=function(e){return e||(e=this.superPlayer.getCommonKv(go.currentDefn)),-1!==[_d.SD,_d.HD,_d.SHD,_d.FHD].indexOf(e)},t}(Ei),wd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checkEvt=S.TIME_UPDATE,t.intervalFrameDroppedArr=[],t}return c(t,e),t.prototype.check=function(e){return this.needIgnore(e)||this.needIgnoreBecausePlayTimeCloseToBuffer()?null:this.checkFrameDrop()?this.getRetryConfig(e.data.videoInfo,{degradeCodecExpireTime:this.superPlayer.config.maxDegradeCodecExpireTime,degradeReason:Ed.FRAME_DROP}):null},t.prototype.needIgnore=function(e){var t=e.data.videoInfo;return!(this.superPlayer.config.enableDegradeOnLowPerformance&&this.player&&this.player.currentVideoInfo&&t.config.vcodec!==N.H264&&this.player.kernelName!==K.WASM&&this.canDegradeCodecDefn())||!!this.isRetryedInSession},t.prototype.needIgnoreBecausePlayTimeCloseToBuffer=function(){for(var e=this.player,t=e.playtime,n=e.videoBuffered,r=0;r<n.length;r++)if(Math.abs(n[r].end-t)<3)return!0;return!1},t.prototype.checkFrameDrop=function(){var e,t=this.superPlayer.config.maxFrameDropRate,n=((null===(e=this.player.currentVideoInfo)||void 0===e?void 0:e.qualityInfo)||{}).intervalFrameDropped,r=void 0===n?0:n;if(this.intervalFrameDroppedArr.push(r),this.intervalFrameDroppedArr.length>=60){var o=this.intervalFrameDroppedArr.reduce((function(e,t){return e+t}))/60,i=[].concat(this.intervalFrameDroppedArr);if(this.intervalFrameDroppedArr.length=0,o>=t)return this.logger.log("dropframe rate ".concat(o," is more than ").concat(t,"\n        intervalFrameDroppedArrForLog=").concat(i)),this.isRetryedInSession=!0,!0}return!1},t}(Cd),Sd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checkEvt=S.ERROR,t}return c(t,e),t.prototype.check=function(e){var t=e.data.videoInfo,n=t.error,r=this.superPlayer.config.enableDegradeOnLowPerformance;return this.isRetryedInSession?null:t.config&&t.config.vcodec!==N.H264&&r?n.code!==I.MEDIA_ERR_DECODE&&n.code!==I.MEDIA_ERR_SRC_NOT_SUPPORTED?null:(this.isRetryedInSession=!0,this.getRetryConfig(t,{degradeCodecExpireTime:0,degradeReason:Ed.ORG_SPT_ERR})):null},t}(Cd),xd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checkEvt=S.ERROR,t}return c(t,e),t.prototype.check=function(e){var t=e.data.videoInfo,n=t.playtime,r=t.error;return this.isRetryedInSession||!this.superPlayer.config.retryHevcByWasmIfOriginErr||!t.config||t.config.vcodec!==N.H265||this.player.kernelName===K.WASM||r.code!==I.MEDIA_ERR_DECODE&&r.code!==I.MEDIA_ERR_SRC_NOT_SUPPORTED?null:(this.isRetryedInSession=!0,{error:r,updatePlayParam:{videoLoadParam:{startTime:n,kernelName:K.WASM}}})},t}(Cd),Pd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checkEvt=S.VIDEO_FRAME_RENDER,t.lowRenderFrameCount=0,t.lowRenderFrameTimeCostArr=[],t.renderTotalCount=0,t}return c(t,e),t.prototype.onSessionStart=function(){this.lowRenderFrameCount=0,this.renderTotalCount=0,e.prototype.onSessionStart.call(this)},t.prototype.check=function(e){var t=this.superPlayer.config,n=t.minRenderFrameRate,r=t.maxLowRenderFrameRate,o=t.enableDegradeOnLowPerformance,i=t.maxDegradeCodecExpireTime,a=e.data.videoInfo;if(!o||!(n<1&&n>0&&r<1&&r>0)||this.player.kernelName!==K.WASM||!this.canDegradeCodecDefn())return null;var s=(this.player.currentVideoInfo||{}).videoFrameRate;if(!s||s<0)return null;if(this.isRetryedInSession)return null;var l=1e3/s*n,c=e.data.renderCostTime;if(this.lowRenderFrameTimeCostArr.push(c),c<l&&this.lowRenderFrameCount++,this.renderTotalCount++,this.renderTotalCount>=1e3){var u=this.recordStats(),d=this.lowRenderFrameCount/this.renderTotalCount;if(this.renderTotalCount=0,this.lowRenderFrameCount=0,d>r)return this.logger.log("low render frame rate ".concat(d," is more than ").concat(r)),this.writeStats(u),this.isRetryedInSession=!0,this.getRetryConfig(a,{degradeCodecExpireTime:i,degradeReason:Ed.WASM_RENDER})}return null},t.prototype.recordStats=function(){var e=this.superPlayer.config,t=e.minRenderFrameRate,n=e.maxLowRenderFrameRate,r={lowRenderFrameTimeCostArr:this.lowRenderFrameTimeCostArr.slice(-200),lowRenderFrameCount:this.lowRenderFrameCount,renderTotalCount:this.renderTotalCount,maxLowRenderFrameRate:n,minRenderFrameRate:t};return this.lowRenderFrameTimeCostArr.length=0,r},t.prototype.writeStats=function(e){try{var t=JSON.stringify(e);_e.setData(Wu.RENDER_STATS_INFO,t)}catch(qe){}},t}(Cd),Td=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checkEvt=S.ERROR,t}return c(t,e),t.prototype.check=function(e){var t,n=e.data.videoInfo,r=n.playtime,o=n.error;return this.isRetryedInSession?null:ee.browser.safari&&this.player.kernelName===K.HLS_JS&&(null===(t=n.config)||void 0===t?void 0:t.vcodec)===N.H264&&o.code===I.MEDIA_ERR_DECODE?(this.isRetryedInSession=!0,{error:o,updatePlayParam:{videoLoadParam:{startTime:r,kernelName:K.ORIGIN}}}):null},t}(Cd),Dd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checkEvt=S.ERROR,t}return c(t,e),t.prototype.check=function(e){var t=e.data.videoInfo,n=t.error.code;if(this.isRetryedInSession)return null;return this.superPlayer.config.enableDegradeOnLowPerformance?"70060003"!==n?null:(this.isRetryedInSession=!0,this.getRetryConfig(t,{degradeCodecExpireTime:0,degradeReason:Ed.WASM_SPT_ERR})):null},t}(Cd);function Od(){var e=Ee.getTopFrameUrl(),t=Ee.getDomainOfURL(e);return["v.qq.com","film.qq.com"].includes(t)}var Nd=fd().VERSION,Rd=function(){if(ee.mobile)return"11001";var e=Od();return ee.os.windows&&e?"10201":ee.os.windows&&!e?"70201":ee.os.mac&&e?"10901":ee.os.mac&&!e?"70901":e?"10901":"70901"}(),kd={platform:Rd,sdtfrom:function(e){if("11001"===e){if(ee.os.iphone||ee.os.ipod)return"v3010";if(ee.os.ipad)return"v4010";if(ee.os.tablet)return"v6010";if(ee.os.android)return"v5010";if(ee.browser.IEMobile)return"v7010"}return{70201:"v1104",70901:"v1103"}[e]||"v1010"}(Rd)},Ld={enableDegradeOnLowPerformance:!0,maxDegradeCodecExpireTime:432e5,minRenderFrameRate:.8,maxLowRenderFrameRate:.3,maxFrameDropRate:.2,enableTVK:!0},Bd={platform:"10201",sdtfrom:"10201"};function Md(e,t){var n,r=(null===(n=e.dynamicConfig)||void 0===n?void 0:n.enableP2PChannlType)||e.enableP2PChannlType||[],o=e.enableP2P,i=void 0!==o&&o,a=e.businessConfig,s=(void 0===a?{}:a).type,l=Ee.getUrlParamByKey(location.href,sd.downloadKit);return"0"!==l&&("1"===l||(i?!!i:-1!==["10901","10201"].indexOf(t)||-1!==r.indexOf(s)))}function Qd(e){var t,n,r,o=e.plugins,i=void 0===o?[]:o,a=e.mode,s=void 0===a?A.VOD:a,l=e.businessConfig,c=void 0===l?{}:l,d=e.coreConfig,p=void 0===d?{}:d,f=e.pluginConfig,h=void 0===f?{}:f,v=e.dynamicConfig,y=void 0===v?{}:v;e.type=null!==(t=e.type)&&void 0!==t?t:s;var _,m=e.type,E=e.lazyInitPlugins,I=m===A.VOD?kd:Bd,b=u(u({},I),c),C=function(e,t){var n,r;void 0===e&&(e=A.VOD);var o=t.removeComponents,i=void 0===o?[]:o,a=i.includes(Mu)||!!t.disablePoster,s=i.includes(Ou)||!!t.disableCtrlbar,l=i.includes(Su)||!!t.disableErrorPage,c=i.includes(Qu)||!!t.disableTips,u=i.includes(Os.pluginName)||!!t.disableLoading,d=i.includes(Vu)||!!t.disableCtxMenu,p=i.includes(Fu)||!!t.disableWatermark,f=i.includes(Bu),h=((n={}).poster={isEnabled:!a,config:t.poster},n.ctrlbar={isEnabled:!s},n["error-page"]={isEnabled:!l,config:{showOnError:!0}},n.tips={isEnabled:!c},n[Os.pluginName]={isEnabled:!u},n["context-menu"]={isEnabled:!Gi&&!d,config:{menus:[{role:"version",label:Nd||"1.3.0"}]}},n["info-panel"]={isEnabled:!f,config:{defaultInfo:!0}},n[Ts.pluginName]={isEnabled:e===A.LIVE,config:{livepid:null===(r=t.livepollConfig)||void 0===r?void 0:r.livepid}},n["ui-watermark"]={isEnabled:!p},n),g=[];return Object.keys(h).forEach((function(e){var t=h[e],n=t.isEnabled,r=t.config;n&&g.push(r?[e,r]:e)})),g}(m,e),w=g(g([],C,!0),i,!0),S=b.platform,x=u(u(u(u(u(u({},Ld),{supportedPaidFormat:Od()?[Ns.FHD,Ns.DOLBY,Ns.SFR_HDR,Ns.UHD]:[],logLevel:(_=+Ee.getUrlParamByKey(location.href,sd.logLevel),isNaN(_)?D.NONE:_),videoElementConfig:{playsinline:!0},maxVideoNodeCount:Gi||m===A.LIVE?1:2,enableP2P:Md(e,S)}),h),p),e),{businessConfig:b,plugins:w,offlineConfig:u({platform:S},e.offlineConfig),errorPageConfig:u({useBrowserTip:Od(),useClientBtn:Od()},e.errorPageConfig),ctrlConfig:u(u({disableNextBtn:!0,hidePopupOnClick:!0},h.ctrlConfig),e.ctrlConfig),infoPanelConfig:u({defaultInfo:!0},e.infoPanelConfig),vodQaReporterConfig:u(u({},null==e?void 0:e.vodQaReporterConfig),{paramsKey:u(u({},null===(n=h.vodQaReporterConfig)||void 0===n?void 0:n.paramsKey),null===(r=null==e?void 0:e.vodQaReporterConfig)||void 0===r?void 0:r.paramsKey)})}),P=[],T={superPlayerConfig:Fd(x,Vd()||y),lazyPlugins:P};return E?(T.superPlayerConfig.plugins=T.superPlayerConfig.plugins.filter((function(e){var t="string"==typeof e?e:e[0];return!qu.includes(t)||(P.push(e),!1)})),T):T}function Vd(){var e=window.SUPER_PLAYER_DYNAMIC_CONFIG_ID;if(!e)return null;try{var t=_e.getData(Wu.DYNAMIC_CONFIG);if(!t)return null;var n=JSON.parse(t)[e];return n&&n.app_config&&"{}"!==n.app_config&&""!==n.app_config?JSON.parse(n.app_config):null}catch(qe){}return null}function Fd(e,t){var n=e;return Object.keys(t).forEach((function(e){var r=n[e];"[object Object]"===Object.prototype.toString.call(r)?n[e]=u(u({},r),t[e]):n[e]=t[e]})),n}function Ud(e){return f(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,l,c;return h(this,(function(u){switch(u.label){case 0:return t=e.vid,n=e.platform,r={vid:t,platform:void 0===n?"11001":n,h5flag:1,otype:"json"},o="".concat("//h5vv6.video.qq.com/getextinfo","?").concat(Ee.object2string(r,"&")),[4,Fe.jsonp(o)];case 1:return"o"!==(i=u.sent()).s||i.em&&0!=+i.em?[2,null]:(a=i.limit,s=i.td,l=i.preview,c=i.fs,[2,{duration:0==+a?+s:+l,payLimit:+a,fileSize:c}])}}))}))}var Kd,jd=function(){function e(){}return e.get=function(e){var t;return null===(t=Hd())||void 0===t?void 0:t[e]},e.set=function(e,t){var n,r=null!==(n=Hd())&&void 0!==n?n:{};r[e]=t,_e.setData(Wu.ENV_CACHE,JSON.stringify(r))},e.clear=function(){_e.setData(Wu.ENV_CACHE,"")},e}();function Hd(){var e=_e.getData(Wu.ENV_CACHE);if(""!==e)try{var t=JSON.parse(e);if("[object Object]"===Object.prototype.toString.call(t))return t;jd.clear()}catch(q){}}function qd(){return vt.supportAV1()?{spav1:15}:null}function Gd(e,t,n,r){var o,i=e.enableTxHevc,a=e.supportedPaidFormat,s=n.defn;return vt.supportHevc()&&!ee.mobile&&function(e,t,n,r){var o=t.livepid,i=e.enableHevcRateOnPid,a=void 0===i?0:i,s=e.enableHevcPids;if(e.type===A.VOD||!s)return!0;if(!o||-1===s.indexOf(o))return!1;var l=n.guid;if(a<=0||a>1||!l)return!1;return function(e,t){return parseInt(e.slice(0,4),16)<=65535*t}(l,a)}(e,t,n)?-1!==a.indexOf(Ns.UHD)&&(ee.browser.chrome||ee.browser.safari)?{hevclv:Uu.UHD}:{hevclv:Uu.FHD}:i&&(null===(o=Zt.kernelMap[K.WASM])||void 0===o?void 0:o.isEnvSupport)&&function(){var e=ee.browser.chrome&&J.Z.compareVersion(ee.browser.chrome.version,"92.0")>=0,t=jd.get(Kd.enableHevc);void 0===t&&(t=1);var n=navigator.hardwareConcurrency>8;return e&&1===t&&n}()&&(void 0===s||-1!==[_d.SD,_d.HD].indexOf(s))?{hevclv:Uu.HD}:null}function Yd(e,t,n,r,o){var i,a=e.preferCodec,s=t.playCodec,l=Ee.getUrlParamByKey(location.href,sd.forceCodec);l&&(s=+l);var c={};if(s===Gu.H264)return{};if(s===Gu.H265)return{hevclv:Uu.UHD};if(o)return{};if(0===(null==a?void 0:a.length))return{};for(var u=!!a,d=a||[R.AV1,R.H265],p=((i={})[R.AV1]=qd,i[R.H265]=function(){return Gd(e,t,n)},i),f=0;f<d.length;f++){var h=p[d[f]],g=null==h?void 0:h();if(g&&(Object.assign(c,g),u))break}return c}function Wd(e,t,n,r){return f(this,void 0,void 0,(function(){return h(this,(function(o){return e.type===A.VOD?[2,zd(e,t,n,r)]:[2,Jd(e,t,n,r)]}))}))}function zd(e,t,n,r){var o,i;return f(this,void 0,void 0,(function(){var a,s,l,c,u,d,p,f,g;return h(this,(function(h){var v;return a=e.businessConfig,s=cc(),l={guid:n(go.guid),platform:a.platform,sdtfrom:a.sdtfrom,appVer:n(go.appVer)},(c=n(co.definition))&&(l.defn=c),u=t||{},ee.mobile||(l.sphls=2),l.spvvpay=1,l.spadseg=(void 0===(v=!0)&&(v=!1),v?3:2),(d=n(ju.getinfoAdInfo))&&(l.adsid=d.adsid||"",l.adpinfo=d.adpinfo||""),l.dtype=function(e){if(ee.mobile){var t=e.businessConfig,n=void 0===t?{}:t,r=e.enableP2PChannlType,o=void 0===r?[]:r,i=e.enableP2P,a=void 0!==i&&i,s=n.type;return a||-1!==o.indexOf(s)?md.hls:md.mp4}return md.hls}(e),p=Yd(e,u,l,0,r),Object.assign(l,p),(f=e.supportedPaidFormat)&&(g=Bs(f),Object.assign(l,g)),l.logintoken=Object.keys(s).length>0?te.safelyStringify(s):"",e.enableTVK&&(l.spm3u8tag=67,l.spmasterm3u8=3,ee.mobile||(l.sphls=2),(null===(o=e.tvkConfig)||void 0===o?void 0:o.showUHDClientGuide)&&(null===(i=e.supportedPaidFormat)||void 0===i?void 0:i.includes(Ns.UHD))&&(!l.hevclv||l.hevclv<Uu.UHD)&&!vt.supportHevc()&&(l.hevclv=Uu.UHD_ONLY)),[2,l]}))}))}function Jd(e,t,n,r){return f(this,void 0,void 0,(function(){var o,i,a,s,l;return h(this,(function(c){return o=e.businessConfig,cc(),i={guid:n(go.guid),platform:o.platform,sdtfrom:o.sdtfrom,appver:n(go.appVer)},(a=n(co.definition))&&(i.defn=a),s=t||{},i.livepid=s.livepid||"",i.roomid=s.roomid||"",i.defnswitch=1,l=Yd(e,s,i,0,r),Object.assign(i,l),Object.assign(i,{defauto:i.defnswitch,appVer:i.appver}),[2,i]}))}))}!function(e){e.drm="drm",e.hdr="hdr",e.enableHevc="enableHevc_20220822"}(Kd||(Kd={}));var Zd,Xd,$d=function(e){function t(t,n){var r=e.call(this)||this;return r.playerConfig=t,r.pluginMsg=n,r.destroyed=!1,r.logger=new ue(r.playerConfig.instanceId,"ProxyHttp"),r}return c(t,e),t.prototype.request=function(e,t,n){return f(this,void 0,void 0,(function(){var r,o,i,a,s,l;return h(this,(function(c){switch(c.label){case 0:r=u(u({},n||{}),yd).retryCount,o={},e&&Object.assign(e,cc(((l={})[ic.MAIN_LOGIN]="lt",l[ic.OPENID]="opid",l[ic.APPID]="appid",l[ic.ACCESS_TOKEN]="atkn",l[ic.VUSERID]="uid",l[ic.VUSESSION]="tkn",l))),o.reqParams=this.getRequestParams(e,t),this.logger.log("proxyhttp reqParams(ad)",te.safelyStringify(e)),this.logger.log("proxyhttp reqParams(vinfo)",te.safelyStringify(t));try{this.pluginMsg.emit(jr.PROXY_HTTP_START,o.reqParams)}catch(qe){this.logger.warn("H5_EXT_EVENT.PROXY_HTTP_START err, ".concat(qe))}i=0,c.label=1;case 1:if(!(i<r+1))return[3,7];c.label=2;case 2:return c.trys.push([2,4,,5]),o.reqPath=this.getRequestUrl(i),this.logger.log("proxyhttp request start, num=".concat(i,", url=").concat(o.reqPath)),[4,Fe.xhr({responseType:"text",timeout:8e3,withCredentials:!0,method:"post",url:o.reqPath,retryCount:0,body:JSON.stringify(o.reqParams)})];case 3:return a=c.sent(),o.resData=JSON.parse(a.data),o.xhrReqData=a.data,[3,5];case 4:return s=c.sent(),this.logger.log("proxyhttp(num=".concat(i,") request err:"),s),o.error=null,[3,5];case 5:if(this.destroyed)return[2,new Promise((function(){}))];if(o.alreadyRetryCount=i,o.resData)return[3,7];c.label=6;case 6:return i++,[3,1];case 7:this.parseResponseData(o);try{this.pluginMsg.emit(jr.PROXY_HTTP_END,o)}catch(qe){this.logger.warn("H5_EXT_EVENT.PROXY_HTTP_END err, ".concat(qe))}return[2,o]}}))}))},t.prototype.destroy=function(){this.destroyed=!0,this.logger=null},t.prototype.getRequestUrl=function(e){if(this.playerConfig.proxyHttpPath)return this.playerConfig.proxyHttpPath;return Ad[e%Ad.length]},t.prototype.getRequestParams=function(e,t){var n=t?Ee.convertUrlParam(t):null,r=null,o=null;(null==e?void 0:e.adparam)?(r=Ee.convertUrlParam(e.adparam),o=JSON.stringify(e.sspAdParam)):r=e?Ee.convertUrlParam(e):null;var i=o?{sspAdParam:o,adparam:r}:{adparam:r};return r&&n?u({buid:hd.vinfoad,vinfoparam:n},i):r?u({buid:hd.onlyad},i):n?{buid:hd.onlyvinfo,vinfoparam:n}:void 0},t.prototype.parseResponseData=function(e){var t,n;if(e.resData)if(0===e.resData.errCode){if(e.parseData={},e.resData.ad){this.logger.log("proxyhttp result(ad): ",null===(t=e.resData)||void 0===t?void 0:t.ad);try{e.parseData.ad=JSON.parse(e.resData.ad)}catch(qe){this.logger.warn("can not parse ad data, res=".concat(e.resData.ad))}}if(e.resData.vinfo){this.logger.log("proxyhttp result(vinfo): ",null===(n=e.resData)||void 0===n?void 0:n.vinfo);try{e.parseData.vinfo=JSON.parse(e.resData.vinfo)}catch(qe){this.logger.warn("can not parse vinfo data, res=".concat(e.resData.vinfo))}}}else e.error={code:bd,message:"\u64ad\u653e\u540e\u53f0\u8fd4\u56de\u9519\u8bef\u7801\uff08".concat(e.resData.errCode,")")};else e.error={code:Id}},t}(Je),ep=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.doRequestCallback=n,o.adType=r,o}return c(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.doRequestCallback=null},t.prototype.getName=function(){return"ProxyHttpFlowNode"},t.prototype.start=function(){return f(this,void 0,void 0,(function(){var e=this;return h(this,(function(t){switch(t.label){case 0:return this.emit(wi.START,{name:this.getName()}),this.isPreload=!1,this.loadDefer?[4,this.loadDefer]:[3,2];case 1:return t.sent(),this.emit(wi.END,{name:this.getName()}),[3,3];case 2:this.request().then((function(){e.emit(wi.END,{name:e.getName()})})),t.label=3;case 3:return[2]}}))}))},t.prototype.pause=function(){},t.prototype.resume=function(){},t.prototype.preload=function(){var e=this;return this.emit(wi.PRELOAD,{name:this.getName()}),this.isPreload=!0,this.loadDefer=this.request().then((function(){e.emit(wi.PRELOAD_NEXT,{forcePreload:e.adType===Qr.PRE,name:e.getName()})})),this.loadDefer},t.prototype.request=function(){var e=this;return this.doRequestCallback().catch((function(t){e.emit(wi.ABORT,u(u({},t),{name:e.getName()}))}))},t}(Pi),tp=fd(),np=de("SuperPlayer"),rp=function(e){function t(n){var r,o=this,i=Qd(n),a=i.superPlayerConfig,s=i.lazyPlugins;Dt.getReporter().collectUsage(2,tp.CHANNEL,null===(r=n.businessConfig)||void 0===r?void 0:r.platform),(o=e.call(this,a)||this).type=A.VOD,o.lazyPlugins=[],o.videoLoadParamModifier=function(e){var t,n;if(o.config.keepOriginalStartTime)return e;var r=null!==(t=o.getCommonKv(ju.hlsAdRanges))&&void 0!==t?t:[],i=J.Z.findDiscontinuityTimeRangeAtPlaytime(e.startTime,r);if(i&&e.startTime){var a=i.start-1;return o.log("start time modified due to hls ad, origin: ".concat(e.startTime,", new: ").concat(a)),u(u({},e),{startTime:a})}return(null===(n=o.removedAdRange)||void 0===n?void 0:n.length)?u(u({},e),{startTime:o.getVVIPOffsetTime(e.startTime)}):e},o.logger=new ue(o.config.instanceId,"SuperPlayer"),o.log("new SuperPlayer(), input config=",te.safelyStringify(n));var l=n.mode,c=void 0===l?A.VOD:l,d=n.type;return o.lazyPlugins=s,o.type=d||c,o.adLogic=new ld(o,o.corePlayer),o.previewLogic=new gd(o),o.posterLogic=new cd(o),o.writeGlobalCommonKvs(),o.initPlugins(),o.initInnerEvts(),o.reqExtInfoOnMobile(),o.setupRemovedAdRange(),"1"===Ee.getUrlParamByKey(location.href,sd.debugSuper)&&(t._instances[o.config.instanceId]=o),(n.videoId||n.adInitConfig)&&o.loadAdPlugin(),a.enableTVK&&(o.tvk=mu(o,a.tvkConfig)),o}return c(t,e),Object.defineProperty(t.prototype,"vinfo",{get:function(){return this.currentVideoInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ctrlbarPlugin",{get:function(){return this.plugins.ctrlbar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tipsPlugin",{get:function(){return this.plugins.tips},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadingPlugin",{get:function(){return this.plugins[Os.pluginName]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"errorPagePlugin",{get:function(){return this.plugins["error-page"]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"posterPlugin",{get:function(){return this.plugins.poster},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this.corePlayer.config},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previewDuration",{get:function(){return this.previewLogic.previewDuration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"core",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coreConfig",{get:function(){return this.config},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getinfoPlugin",{get:function(){return this.videoReqInfoPlugin},enumerable:!1,configurable:!0}),t.prototype.log=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.logger).log.apply(e,t)},t.prototype.warn=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.logger).warn.apply(e,t)},Object.defineProperty(t.prototype,"videoSize",{get:function(){var e;return this.videoSizeFromGetInfo||(null===(e=this.corePlayer)||void 0===e?void 0:e.videoSize)||{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cnlid",{get:function(){return this.config.type===A.LIVE?this.vid:""},enumerable:!1,configurable:!0}),t.prototype.degradeCodecRetry=function(e){var t;return void 0===e&&(e=0),null===(t=this.startGetinfoRetry)||void 0===t?void 0:t.call(this,{updatePlayParam:{videoReqInfoParam:{hevclv:Uu.NOT_SPT},videoLoadParam:{startTime:this.playtime,kernelName:void 0}},degradeCodecExpireTime:e,degradeReason:Ed.USER},!1)},t.prototype.clearLocalstorage=function(e){return-1!==Object.keys(Wu).findIndex((function(t){return Wu[t]===e}))&&(_e.delData(e),!0)},t.prototype.destroy=function(){var n,r,o,i,a,s;return null===(n=this.tvk)||void 0===n||n.destroy(),this.tvk=null,null===(r=this.adLogic)||void 0===r||r.destroy(),this.adLogic=null,null===(o=this.previewLogic)||void 0===o||o.destroy(),this.previewLogic=null,null===(i=this.posterLogic)||void 0===i||i.destroy(),this.posterLogic=null,null===(a=this.proxyHttpRequestor)||void 0===a||a.destroy(),this.proxyHttpRequestor=null,(null===(s=this.config)||void 0===s?void 0:s.instanceId)&&t._instances[this.config.instanceId]&&delete t._instances[this.config.instanceId],clearTimeout(this.mouseMoveTimerSuperPlayer),e.prototype.destroy.call(this)},t.prototype.play=function(e,t){var n,r;return f(this,void 0,void 0,(function(){var o;return h(this,(function(i){return e?(null===(n=this.loadingPlugin)||void 0===n||n.show(),(o=null===(r=this.ctrlbarPlugin)||void 0===r?void 0:r.instances.CenterBtn)&&o.hideEl(o.playBtn),[2,this.loadOrPlay(e,t,"play")]):[2,this.playByInitConfig()]}))}))},t.prototype.loadOrPlay=function(t,n,r){var o,i;return void 0===r&&(r="load"),f(this,void 0,void 0,(function(){var a,s,l,c,d,p,f,g,v;return h(this,(function(h){switch(h.label){case 0:return t?(this.clearBeforeReplay(),a=t,this.replayConfig=t,pd(this.type,r,a),"string"==typeof t&&(this.type===A.LIVE?(s=(null===(o=this.currentPlayItem)||void 0===o?void 0:o.cnlid)?this.currentPlayItem:{},a=u(u({},s),{cnlid:t})):(s=(null===(i=this.currentPlayItem)||void 0===i?void 0:i.vid)?this.currentPlayItem:{},a=u(u({},s),{vid:t}))),c=(l=a).vid,d=l.cnlid,p=l.livepid,f=this.isH5PlayParam(n)?n:{videoLoadParam:n},this.currentPlayItem=c||d||a,this.playtimeLimiter.clearAllConfig(),this.getinfoPlugin&&(c||d)?(g=this,[4,Wd(this.config,a,this.getCommonKv.bind(this),this.checkDegradeCodecFromLocal())]):[3,3]):[2];case 1:return g.buildinVideoReqInfoParam=h.sent(),this._destroyed?[2]:(f.videoReqInfoParam=u(u({},this.buildinVideoReqInfoParam),f.videoReqInfoParam),[4,this.loadAdPlugin()]);case 2:return h.sent(),this._destroyed?[2]:(d?(f.videoReqInfoParam.cnlid=d,this.getPlugin(Ts.pluginName).livepid=p,this.setCommonKv(go.livepid,p)):c&&(f.videoReqInfoParam.vid=c),[2,e.prototype[r].call(this,c||d,f)]);case 3:return v=a.levels,this.setLevelOptions(v,a.url),[2,e.prototype[r].call(this,a,f)]}}))}))},t.prototype.replay=function(){var e,t,n;null===(t=null===(e=this.loadParam)||void 0===e?void 0:e.videoLoadParam)||void 0===t||delete t.startTime;var r=this.getCommonKv(go.currentDefn);return this.vid&&r?this.play(this.replayConfig,u(u({},this.loadParam),{videoReqInfoParam:u(u({},null===(n=this.loadParam)||void 0===n?void 0:n.videoReqInfoParam),{defn:r})})):this.play(this.replayConfig,this.loadParam)},t.prototype.load=function(t,n){return f(this,void 0,void 0,(function(){return h(this,(function(r){return t?[2,this.loadOrPlay(t,n,"load")]:[2,e.prototype.load.call(this)]}))}))},t.prototype.preload=function(t,n,r){return f(this,void 0,void 0,(function(){var o,i,a;return h(this,(function(s){switch(s.label){case 0:return t?(pd(this.type,"load",t),o="string"==typeof t?t:null==t?void 0:t.vid,i=this.isH5PlayParam(n)?n:{videoLoadParam:n},this.getinfoPlugin&&o?[4,Wd(this.config,t,this.getCommonKv.bind(this),this.checkDegradeCodecFromLocal())]:[2]):[2];case 1:return a=s.sent(),this._destroyed?[2]:(i.videoReqInfoParam=u(u({},a),null==i?void 0:i.videoReqInfoParam),[2,e.prototype.preload.call(this,o,i,r)])}}))}))},t.prototype.seek=function(t){var n=t;ee.mobile||this.previewDuration===vd||(n=Math.min(t,this.previewDuration-1));var r=this.getCommonKv(ju.hlsAdRanges);if(r){var o=J.Z.findDiscontinuityTimeRangeAtPlaytime(n,r);o&&(n=o.start-1)}return e.prototype.seek.call(this,n)},t.prototype.setLevel=function(t,n){return void 0===n&&(n={}),f(this,void 0,void 0,(function(){var r,o,i,a,s,l,c,d,p,f,g,y,_,m,I,b,C=this;return h(this,(function(h){return"string"!=typeof t?[2,Promise.reject("setLevel received illegal parameter")]:this.getinfoPlugin&&this.vid?(this.state===E.PAUSE&&this.type===A.VOD&&this.play(),r=this.getCommonKv(go.currentDefn),n.userTrigger&&this.setCommonKv(co.definition,t),this.buildinVideoReqInfoParam.flowid=this.getCommonKv(go.flowid),o=u(u({},this.buildinVideoReqInfoParam),{defn:t,logintoken:te.safelyStringify(cc())}),i=void 0,this.type===A.LIVE?(a=u(u({},o),{defnswitch:n.userTrigger?1:0}),Object.assign(a,{defauto:+!a.defnswitch}),i=a):(s=u({fhdswitch:n.userTrigger?1:0},o),(l=this.getCommonKv(ju.getinfoAdInfo))&&(s.adsid=l.adsid||"",s.adpinfo=l.adpinfo||""),c=this.currentVideoInfo,d=c.audioTracks,p=c.currentAudioTrack,d.length>1&&(f=d.find((function(e){return e.id===p})))&&Object.assign(s,{track:f.name}),i=s),g=[_d.DOLBY,_d.HDR10,_d.SFR_HDR],y=n.setLevelMode,-1===g.indexOf(r)&&-1===g.indexOf(t)||(y=v.HARD),[2,e.prototype.setLevel.call(this,i,{setLevelMode:y}).catch((function(e){C.log(e),C.ctrlbarPlugin&&(C.ctrlbarPlugin.level=r),C.setCommonKv(go.currentDefn,r)}))]):(_=this.getCommonKv(go.currentDefnList),m=null==_?void 0:_.findIndex((function(e){return e.value===t})),(I=_[m])?(!(b=I.url)&&this.defnIdToUrl&&(b=this.defnIdToUrl(t),I.url=b),b?(this.setCommonKv(go.currentDefn,t),this.levelList=_,this.level=I.value,this.replayConfig.url=b,[2,e.prototype.setLevel.call(this,u(u({},this.replayConfig),{levels:void 0,defn:I.value,url:I.url,level:I,levelIndex:m}))]):[2,Promise.reject(new Error("definition must contains url"))]):[2,Promise.reject(new Error("no definition info"))])}))}))},t.prototype.getPlugin=function(e){return this.plugins[e]},t.prototype.closePayTipsCallback=function(e){var t=Mr(this.config.instanceId);"ad"===e&&"function"==typeof(null==t?void 0:t.resumeAd)&&t.resumeAd()},t.prototype.createPlugin=function(t,n){void 0===n&&(n={});var r=n.pluginName;(void 0===r?t:r)===Vr?e.prototype.createPlugin.call(this,t,u(u({},n),{requestProxyHttp:this.requestAdProxyHttp.bind(this)})):e.prototype.createPlugin.call(this,t,n)},t.prototype.setAdConfig=function(e){return this.waitAdPlugin().then((function(t){return t.setConf(e)}))},t.prototype.resizeAd=function(){return this.waitAdPlugin().then((function(e){var t;return null===(t=e.resizeAd)||void 0===t?void 0:t.call(e)}))},t.prototype.hideAdBeforeResize=function(){return this.waitAdPlugin().then((function(e){var t;return null===(t=e.hideAdBeforeResize)||void 0===t?void 0:t.call(e)}))},t.prototype.getVVIPOffsetTime=function(e,t){void 0===t&&(t=!1);var n=this.removedAdRange;if(!(null==n?void 0:n.length))return e;if(t)return this.getPlusAdOffsetTime(e);for(var r=0,o=0;o<n.length;o++){var i=n[o],a=i.start,s=i.end;if(a>e)break;if(s>e){r+=e-a;break}r+=s-a}return e-r},t.prototype.startGetinfoRetry=function(t,n){var r,o=t.degradeCodecExpireTime,i=void 0===o?0:o,a=t.degradeReason,s=void 0===a?Ed.UNKNOWN:a;if(s===Ed.USER&&!this.canGetinfoRetry())return!1;if(i>0){var l={playerSize:xe.getDomSize(this.player.container),videoSize:this.player.videoSize,url:location.href,topUrl:Ee.getTopFrameUrl(),kernelName:this.player.kernelName,flowid:this.player.getCommonKv(go.flowid),guid:this.player.getCommonKv(go.guid),playtime:this.player.playtime,duration:this.player.duration,vid:this.player.vid,loadingUrl:null===(r=this.player.currentVideoInfo)||void 0===r?void 0:r.loadingUrl};this.logger.log("start degrade retry, degradeReason=".concat(s,", extraInfo=").concat(te.safelyStringify(l))),function(e,t,n){var r=JSON.stringify(u({time:Date.now(),degradeExpireTime:e,degradeReason:t},n));_e.setData(Wu.DEGRADE_CODEC_TIME,r)}(i,s,l)}return e.prototype.startGetinfoRetry.call(this,t,n)},t.prototype.getRetryCheckClasses=function(){return g([wd,Pd,Dd,xd,Td,Sd],e.prototype.getRetryCheckClasses.call(this),!0)},t.prototype.getPlusAdOffsetTime=function(e){return this.removedAdRange.reduce((function(e,t){var n=t.start,r=t.end;return n<=e&&(e+=r-n),e}),e)},t.prototype.waitAdPlugin=function(){var e,t=this,n=Mr(null===(e=this.config)||void 0===e?void 0:e.instanceId);return n?Promise.resolve(n):new Promise((function(e){t.pluginMsg.on("pluginsetup:".concat(Vr),(function(){e(Mr(t.config.instanceId))}))}))},t.prototype.playByInitConfig=function(){var t=this.config,n=t.videoId,r=t.videoInitConfig,o=void 0===r?n:r;return!o||this.currentPlayItem?e.prototype.play.call(this):this.play(o)},t.prototype.nodeBeforePreAd=function(t){return t.vid?this.getProxyHttpFlowNode({reqInfo:t,adType:Qr.PRE}):e.prototype.nodeBeforePreAd.call(this,t)},t.prototype.nodeBeforePostAd=function(t){return t.vid?this.getProxyHttpFlowNode({reqInfo:t,adType:Qr.POST}):e.prototype.nodeBeforePostAd.call(this,t)},t.prototype.setupRemovedAdRange=function(){var e=this;this.on(Hr.VIDEO_REQ_INFO_END,(function(t){var n=t.data;if(n.code===Ur.SUC&&e.config.type!==A.LIVE)try{var r=n.data,o=r.parseData,i=r.reqParams,a=o.vitem,s=a.purevid,l=a.dotinfo,c=void 0===l?"":l;s&&i.vid!==s&&c?e.removedAdRange=JSON.parse(c).dot_time.map((function(e){return{start:+e.start_time/1e3,end:+e.end_time/1e3}})):e.removedAdRange=null}catch(u){e.log("set ad range err,",u),e.removedAdRange=null}}))},t.prototype.selectGetinfoModule=function(e){var t=e.type,n=void 0===t?A.VOD:t,r=e.getinfoModule;return r||(n===A.VOD?Qc:e.enableUnifiedGetinfoLive?yu:Xc)},t.prototype.initPlugins=function(){return f(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return this.config.lazyInitPlugins?(this.setCacheStatus(!0),this.setReplayType(0),[4,this.waitLoadStart()]):[3,3];case 1:return e.sent(),[4,this.loadPlayerPlugins()];case 2:e.sent(),e.label=3;case 3:return this.initAdPlugin(),this.initErrorPage(),this.initTipsPlugin(),this.initCtrlbarPlugin(),this.initLivepoll(),this.initLoadingPlugin(),this.clearCache(),[2]}}))}))},t.prototype.waitLoadStart=function(){var e=this;return new Promise((function(t){e.once(Hr.VIDEO_LOAD_START,(function(){return t()})),setTimeout((function(){t()}),200)}))},t.prototype.initAdPlugin=function(){var e=this,t=this.ctrlbarPlugin;t&&(t.on(Nu.FAKE_FULLSCREEN_CHANGE,(function(){return e.resizeAd()})),t.on(Nu.FULLSCREEN_CHANGE,(function(){e.hideAdBeforeResize();setTimeout((function(){e.resizeAd()}),300)})))},t.prototype.reqExtInfoOnMobile=function(){return f(this,void 0,void 0,(function(){var e,t,n,r,o;return h(this,(function(i){switch(i.label){case 0:return e=this.config,t=e.videoId,n=e.enableGetExtInfo,(void 0===n||n)&&ee.mobile&&"string"==typeof t?(r=this.getCommonKv(go.platform),[4,Ud({vid:t,platform:r})]):[2];case 1:return o=i.sent().duration,this.state===E.IDLE&&!this.played&&this.ctrlbarPlugin&&(this.ctrlbarPlugin.duration=o),[2]}}))}))},t.prototype.initLoadingPlugin=function(){var e=this;this.on(Hr.VIDEO_SETLEVEL_START,(function(){var t;return null===(t=e.loadingPlugin)||void 0===t?void 0:t.show()})),this.on(Hr.VIDEO_SETLEVEL_END,(function(){var t;return null===(t=e.loadingPlugin)||void 0===t?void 0:t.hide()})),this.pluginMsg.on(jr.RETRY_PLAY,(function(t){var n,r,o=t.data;null===(n=e.loadingPlugin)||void 0===n||n.show(),null===(r=e.tipsPlugin)||void 0===r||r.show((null==o?void 0:o.degradeReason)?"\u6b63\u5728\u7f13\u51b2\u4e2d...":"\u91cd\u65b0\u8bf7\u6c42\u89c6\u9891\u4fe1\u606f...")}))},t.prototype.initLivepoll=function(){var e=this,t=this.plugins[Ts.pluginName];t&&t.on(Ps,(function(t){var n;t.data.new===Ss.OVER&&(null===(n=e.errorPagePlugin)||void 0===n||n.show({text:"\u76f4\u64ad\u5df2\u7ed3\u675f",hideRefresh:!0}))}))},t.prototype.isUsingCustomGetInfo=function(){var e;return!!(null===(e=this.config.getinfoConfig)||void 0===e?void 0:e.path)},t.prototype.shouldUseProxyHttpForGetInfo=function(){var e,t=this.type===A.VOD&&!this.isUsingCustomGetInfo();return this.type===A.VOD&&this.setCommonKv(ju.vodCGIUsed,t?"proxyhttp":null===(e=this.config.getinfoConfig)||void 0===e?void 0:e.path),t},t.prototype.initErrorPage=function(){var e=this;this.errorPagePlugin&&this.errorPagePlugin.on(xu.REPORT_LOG,(function(){e.offlineLog.report(!0,"error-page:click").then((function(t){var n,r=t||{},o=r.status,i=r.msg;null===(n=e.tipsPlugin)||void 0===n||n.show(o?"\u65e5\u5fd7\u4e0a\u62a5\u6210\u529f":"\u65e5\u5fd7\u4e0a\u62a5\u5931\u8d25 ".concat(i))})).catch((function(t){var n;null===(n=e.tipsPlugin)||void 0===n||n.show("\u65e5\u5fd7\u4e0a\u62a5\u5931\u8d25 ".concat(null==t?void 0:t.message))}))}))},t.prototype.initTipsPlugin=function(){var e=this;this.tipsPlugin&&this.on(Hr.VIDEO_SETLEVEL_END,(function(t){var n,r,o,i=t.data,a=e.getCommonKv(go.currentDefn),s=null===(n=e.levelList)||void 0===n?void 0:n.find((function(e){return e.value===a})),l=(null===(o=null===(r=null==s?void 0:s.payload)||void 0===r?void 0:r.trim)||void 0===o?void 0:o.call(r))||(null==s?void 0:s.label);e.tipsPlugin.show(i.code!==Ur.SUC?"".concat(i.message||"\u62b1\u6b49\uff0c\u5207\u6362\u6e05\u6670\u5ea6\u5931\u8d25~"):"\u5df2\u4e3a\u60a8\u5207\u6362\u5230\u6e05\u6670\u5ea6[".concat(l,"]"))}))},t.prototype.initCtrlbarPlugin=function(){var e=this;if(this.ctrlbarPlugin){this.ctrlbarPlugin.level=this.getCommonKv(go.currentDefn),this.ctrlbarPlugin.audio=this.getCommonKv(go.currentAudioTrack),this.ctrlbarPlugin.lang=this.getCommonKv(go.currentSubtitle),this.pluginMsg.on(jr.DATASET_UPDATE,(function(t){var n,r=t.data,o=r.key,i=r.newVal;if(i!==r.oldVal)switch(o){case go.currentAudioTrackList:e.ctrlbarPlugin.audioOpts=i;break;case go.currentAudioTrack:e.ctrlbarPlugin.audio=i;break;case go.currentDefn:e.ctrlbarPlugin.level=i,e.level=i;break;case go.currentDefnList:if(!i||i.length<=1){e.ctrlbarPlugin.levelOpts=[];break}n=[].concat(i),e.ctrlbarPlugin.levelOpts=n,e.levelList=n}})),this.ctrlbarPlugin.on(Nu.SET_LEVEL,(function(t){var n,r;if(e.checkCanSetLevel()){var o=t.data,i=o.value,a=o.payload,s=o.label;null===(n=e.tipsPlugin)||void 0===n||n.show({text:"\u6b63\u5728\u4e3a\u60a8\u5207\u6362\u6e05\u6670\u5ea6[".concat((null===(r=null==a?void 0:a.trim)||void 0===r?void 0:r.call(a))||s,"]"),time:-1}),e.setLevel(i,{userTrigger:!0})}}));var t=function(){e.tipsPlugin.show("\u62b1\u6b49\uff0c\u5207\u6362\u97f3\u8f68\u5931\u8d25~"),e.ctrlbarPlugin.audio=e.currentVideoInfo.currentAudioTrack};this.ctrlbarPlugin.on(Nu.SET_AUDIO,(function(n){var r,o=n.data,i=o.label,a=o.value;null===(r=e.tipsPlugin)||void 0===r||r.show({text:"\u6b63\u5728\u4e3a\u60a8\u5207\u6362\u97f3\u8f68[".concat(i,"]"),time:-1}),e.setAudioTrack(a).then((function(n){n.fail?t():function(t){e.tipsPlugin.show("\u5df2\u4e3a\u60a8\u5207\u6362\u5230\u97f3\u8f68[".concat(t,"]"))}(i)})).catch((function(){t()}))})),this.on(S.SET_AUDIO_TRACK_OVER,(function(t){e.setCommonKv(go.currentAudioTrack,t.data.id)})),this.ctrlbarPlugin.on(Nu.TEST_EVENT,(function(){var t;null===(t=e.getPlugin(Bu))||void 0===t||t.show()}));this.container.addEventListener("mousemove",(function(){clearTimeout(e.mouseMoveTimerSuperPlayer),e.mouseMoveTimerSuperPlayer=setTimeout(e.hideMouseOnSuperPlayer.bind(e),5e3)}))}},t.prototype.hideMouseOnSuperPlayer=function(){var e,t;if(this.ctrlbarPlugin){var n=this.ctrlbarPlugin.instances.CtrlShow.isMouseHoverControl;this.config.autoHideMouse||(null===(e=this.ctrlbarPlugin.instances.Fullscreen)||void 0===e?void 0:e.isFullScreen)&&this.state===E.PLAYING?n&&(this.container.style.cursor="auto"):(null===(t=this.ctrlbarPlugin.instances.FakeFullscreen)||void 0===t?void 0:t.isFullScreen)&&this.state===E.PLAYING&&!n&&(this.container.style.cursor="none")}},t.prototype.setLevelOptions=function(e,t){var n;if(e){var r=e.list,o=(null===(n=r.find((function(e){return e.default||e.url===t})))||void 0===n?void 0:n.value)||r[0].value;this.setCommonKv(go.currentDefn,o),this.setCommonKv(go.currentDefnList,r),this.levelList=r,this.level=o,this.defnIdToUrl=e.callback}else this.setCommonKv(go.currentDefn,void 0),this.setCommonKv(go.currentDefnList,void 0),this.levelList=void 0,this.level=void 0,this.defnIdToUrl=void 0},t.prototype.isH5PlayParam=function(e){void 0===e&&(e={});var t=e;return!!(t.videoReqInfoParam||t.videoLoadParam||t.adParam||t.playTimeLimit)},t.prototype.initInnerEvts=function(){var e=this;this.pluginMsg.on(jr.GETINFO_OVER,(function(t){var n,r=(t.data||{}).resData,o=((null===(n=null==r?void 0:r.vl)||void 0===n?void 0:n.vi)||[])[0];if(o){var i=o.vw,a=o.vh;e.videoSizeFromGetInfo={width:i,height:a}}})),ee.mobile&&this.on(Hr.VIDEO_TIMEUPDATE,(function(t){var n=t.data;if(e.previewDuration!==vd){n.playtime>=e.previewDuration-10&&e.loadPostAd()}}))},t.prototype.writeGlobalCommonKvs=function(){this.setCommonKv(go.appVer,"3.5.57"),this.setCommonKv(this.config.businessConfig),this.writeLoginCommonKV()},t.prototype.getDefnNameById=function(e){var t,n,r=null===(n=null===(t=this.getinfoCtx)||void 0===t?void 0:t.parseData)||void 0===n?void 0:n.definitionList.find((function(t){return t.name===e}));if(r){var o=function(e,t){if(void 0===t&&(t=!1),t)return function(e){var t=e.split(" ");return[t[0],t[1]]}(e);var n=null==e?void 0:e.match(/(.*);\((.*)\)/);return(null==n?void 0:n.length)>=3?[n[1],n[2]]:[null!=e?e:"",""]}(r.cname,this.type===A.LIVE),i=o[0],a=void 0===i?"":i,s=o[1];return"".concat(void 0===s?"":s," ").concat(a).trim()}return""},t.prototype.requestAdProxyHttp=function(e,t){var n;return f(this,void 0,void 0,(function(){var r,o,i,a,s;return h(this,(function(l){switch(l.label){case 0:if(r=new $d(this.config,this.pluginMsg),!(o=Mr(this.config.instanceId)))return[2];i=o.getAdParams(u(u(u({},this.curReqInfo.getAdParam(e)),t),{vid:this.curReqInfo.vid,adType:e})),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,r.request(i,null)];case 2:return a=l.sent(),[3,4];case 3:return s=l.sent(),this.warn("proxyhttp request err in catch, ".concat(s)),[3,4];case 4:return(null===(n=null==a?void 0:a.parseData)||void 0===n?void 0:n.ad)&&o.setAdInfo(a.parseData.ad),[2,a]}}))}))},t.prototype.requestProxyHttp=function(e,t){var n,r,o,i;return f(this,void 0,void 0,(function(){var a,s,l,c,d,p;return h(this,(function(f){switch(f.label){case 0:return null===(n=this.proxyHttpRequestor)||void 0===n||n.destroy(),this.proxyHttpRequestor=new $d(this.config,this.pluginMsg),"function"==typeof(null==(l=Mr(this.config.instanceId))?void 0:l.getAdParams)&&(a=l.getAdParams(u(u({},e.getAdParam(t)),{vid:e.vid,adType:t}))),"function"!=typeof(null===(r=this.videoReqInfoPlugin)||void 0===r?void 0:r.getReqParams)?[3,2]:[4,this.getinfoPlugin.getReqParams(e.vid,u(u({},e.videoReqInfoParam),{flowid:e.flowid}))];case 1:c=f.sent(),(s=c.reqParams).otype="ojson",f.label=2;case 2:return f.trys.push([2,4,,5]),[4,this.proxyHttpRequestor.request(a,s)];case 3:return d=f.sent(),[3,5];case 4:return p=f.sent(),this.warn("proxyhttp request err in catch, ".concat(p)),[3,5];case 5:return(null==d?void 0:d.error)?(this.warn("proxyhttp request error data: ",JSON.stringify(d.error)),[2]):((null===(o=null==d?void 0:d.parseData)||void 0===o?void 0:o.vinfo)?e.vinfoCache=Promise.resolve(d.parseData.vinfo):e.requestRawVod(),(null===(i=null==d?void 0:d.parseData)||void 0===i?void 0:i.ad)&&(e.adCache=d.parseData.ad),[2])}}))}))},t.prototype.stop=function(t){var n;return null===(n=this.proxyHttpRequestor)||void 0===n||n.destroy(),this.videoSizeFromGetInfo=null,e.prototype.stop.call(this,t)},t.prototype.emit=function(t,n){return e.prototype.emit.call(this,t,n)},t.prototype.on=function(t,n,r){return e.prototype.on.call(this,t,n,r)},t.prototype.once=function(t,n){return e.prototype.once.call(this,t,n)},t.prototype.off=function(t,n){return e.prototype.off.call(this,t,n)},t.prototype.listeners=function(t){return e.prototype.listeners.call(this,t)},t.prototype.listenerCount=function(t){return e.prototype.listenerCount.call(this,t)},t.prototype.writeLoginCommonKV=function(){var e,t,n,r=function(e){return ye.get(e)},o=cc();this.setCommonKv(((e={})[go.hc_main_login]=o[ic.MAIN_LOGIN],e[go.hc_vuserid]=o[ic.VUSERID],e[go.hc_openid]=o[ic.OPENID],e[go.hc_appid]=o[ic.APPID],e[go.hc_access_token]=o[ic.ACCESS_TOKEN],e));var i=o[ic.GUID]||ye.get(ic.GUID);i&&(this.setCommonKv(go.guid,i),_e.setData(lo.GUID,i));var a="qq"===o[ic.MAIN_LOGIN],s=null===(n=r("luin")||r("uin"))||void 0===n?void 0:n.replace(/\D/g,"").replace(/^0+/,"");this.setCommonKv(((t={})[go.loginid]=a?s:r("openid"),t[go.loginex]=a?r("openid"):s,t));this.setCommonKv(go.logintype,{qq:1,wx:2}[o[ic.MAIN_LOGIN]]||0),this.setCommonKv(go.hc_vuession,o[ic.VUSESSION])},t.prototype.getProxyHttpFlowNode=function(e){var t=this,n=e.reqInfo,r=e.adType,o=r===Qr.PRE?function(){return n.vinfoCache?n.vinfoCache:t.shouldUseProxyHttpForGetInfo()?t.requestProxyHttp(n,Qr.PRE):t.requestAdProxyHttp(Qr.PRE)}:function(){return ee.mobile||t.previewLogic.previewDuration===vd?t.requestAdProxyHttp(Qr.POST):Promise.resolve()};return new ep({flowid:n.flowid},o,r)},t.prototype.loadAdPlugin=function(){var e=this,t=this.config.enableCreativePlugin;if(!(void 0===t||t)||tp.LOCAL_DEV||wu)return Promise.resolve();var n=function(e){var t,n=e.adKernelName,r=void 0===n?K.DEMUX_2_FMP4:n,o=e.adInitConfig,i=e.useSingleVideoElement,a=!!Zt.getKernelByName(K.DEMUX_2_FMP4),s=!ee.browser.safari&&a&&r===K.DEMUX_2_FMP4;return u(u({},o),{playerData:u(u({},null==o?void 0:o.playerData),{playerVideoDom:(null!=i?i:ee.mobile)?null===(t=e.videoElements)||void 0===t?void 0:t[0]:void 0}),isUseDemuxKernel:s,opencache:s})}(this.config);if(Zd)return Zd.then((function(){!Mr(e.config.instanceId)&&Fi.getPlugin(Vr)&&e.createPlugin(Vr,n)}));var r=/^http(s?):\/\/(.*)\.(qq|woa|oa)\.com/.test(location.href)&&this.config.adVersion?this.config.adVersion:bu,o="https://vm.gtimg.cn/thumbplayer/creative/".concat(r,"/creative-player-").concat(ee.mobile?"m":"v",".js");return Zd=this.loadPlugin({url:o,globalName:Iu,pluginName:Vr,timeout:1e4,config:n,crossOrigin:"anonymous"}).catch((function(t){e.log("adPlugin load fail. ".concat(null==t?void 0:t.message))}))},t.prototype.loadPlayerPlugins=function(e){return void 0===e&&(e=2),f(this,void 0,void 0,(function(){var t,n,r;return h(this,(function(o){switch(o.label){case 0:if(e<=0||!this.lazyPlugins.length)return[2];t=this.lazyPlugins.map((function(e){return"string"==typeof e?e:e[0]})),n=Fi.getPlugins(t)||{},o.label=1;case 1:return o.trys.push([1,4,,5]),Object.keys(n).length===t.length?[3,3]:[4,xe.loadScript(Hu,void 0,1e4)];case 2:o.sent(),o.label=3;case 3:return[2,this.createPlugins(this.lazyPlugins)];case 4:return r=o.sent(),this.log("super-player-plugins load fail. ".concat(null==r?void 0:r.message)),[3,5];case 5:return[4,this.loadPlayerPlugins(e-1)];case 6:return o.sent(),[2]}}))}))},t.prototype.clearBeforeReplay=function(){this.setCommonKv(ju.hlsAdRanges,null),this.setCommonKv(ju.getinfoAdInfo,null)},t.prototype.checkDegradeCodecFromLocal=function(){var e=this,t=function(){var e=NaN,t=NaN,n=Ed.UNKNOWN;try{var r=_e.getData(Wu.DEGRADE_CODEC_TIME),o=JSON.parse(r||"{}");e=+o.time,t=+o.degradeExpireTime,n=o.degradeReason}catch(qe){}return Number.isNaN(e)||Number.isNaN(t)||Date.now()>=e+t?{needDegrade:!1}:{needDegrade:!0,degradeReason:n}}(),n=t.needDegrade,r=t.degradeReason;return this.log("codec degrade cache",n,r),n&&this.once(Hr.PLAY_SESSION_START,(function(){e.pluginMsg.emit(jr.DEGRADE_CODEC_PLAY,{degradeReason:r})})),n},t._instances={},d([np,p("design:type",Function),p("design:paramtypes",[]),p("design:returntype",void 0)],t.prototype,"destroy",null),d([np,p("design:type",Function),p("design:paramtypes",[Object,Object]),p("design:returntype",Promise)],t.prototype,"play",null),d([np,p("design:type",Function),p("design:paramtypes",[]),p("design:returntype",void 0)],t.prototype,"replay",null),d([np,p("design:type",Function),p("design:paramtypes",[Object,Object]),p("design:returntype",Promise)],t.prototype,"load",null),d([np,p("design:type",Function),p("design:paramtypes",[Object,Object,Number]),p("design:returntype",Promise)],t.prototype,"preload",null),d([np,p("design:type",Function),p("design:paramtypes",[Number]),p("design:returntype",void 0)],t.prototype,"seek",null),d([np,p("design:type",Function),p("design:paramtypes",[String,Object]),p("design:returntype",Promise)],t.prototype,"setLevel",null),d([np,p("design:type",Function),p("design:paramtypes",[String]),p("design:returntype",void 0)],t.prototype,"closePayTipsCallback",null),d([np,p("design:type",Function),p("design:paramtypes",[String,Object]),p("design:returntype",void 0)],t.prototype,"createPlugin",null),d([np,p("design:type",Function),p("design:paramtypes",[Object]),p("design:returntype",void 0)],t.prototype,"setAdConfig",null),d([np,p("design:type",Function),p("design:paramtypes",[String]),p("design:returntype",void 0)],t.prototype,"stop",null),t}(Fi);tp.BUILD_TIME,tp.VERSION;window.SuperPlayer=rp,Xd=rp,g(g(g(g([],$u,!0),ed,!0),td,!0),nd,!0).filter((function(e){return void 0===Xd[e]})).forEach((function(e){[i,o,zu,Xu,a].forEach((function(t){(null==t?void 0:t[e])&&(Xd[e]=t[e])}))}))},9783:function(e,t,n){n(1539),n(8674),n(7727),Promise.prototype.finally||(Promise.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))})},3219:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _data_orange_ci_workspace_node_modules_babel_runtime_helpers_esm_typeof_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3336),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7658),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_web_dom_exception_stack_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2801),core_js_modules_web_dom_exception_stack_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_web_dom_exception_stack_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_buffer_slice_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9575),core_js_modules_es_array_buffer_slice_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_buffer_slice_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_typed_array_uint8_array_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2472),core_js_modules_es_typed_array_uint8_array_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_typed_array_uint8_array_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_typed_array_at_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8675),core_js_modules_es_typed_array_at_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_typed_array_at_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3105),core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_typed_array_find_last_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3408),core_js_modules_es_typed_array_find_last_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_typed_array_find_last_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_typed_array_find_last_index_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2958),core_js_modules_es_typed_array_find_last_index_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_typed_array_find_last_index_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3462),core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(3824),core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(1539),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(9714),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(4747),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(9826),core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_es_parse_int_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1058),core_js_modules_es_parse_int_js__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es_parse_int_js__WEBPACK_IMPORTED_MODULE_15__),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(9653),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_16__),core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(6992),core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_17__),core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2990),core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_18__),core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(8927),core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_19__),core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(5035),core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_20__),core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(4345),core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_21__),core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(7174),core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_22__),core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(2846),core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_23__),core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(4731),core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_24__),core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(7209),core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_25__),core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(6319),core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_26__),core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(8867),core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_27___default=__webpack_require__.n(core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_27__),core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(7789),core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_28___default=__webpack_require__.n(core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_28__),core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(3739),core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_29___default=__webpack_require__.n(core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_29__),core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(9368),core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_30___default=__webpack_require__.n(core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_30__),core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(4483),core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_31___default=__webpack_require__.n(core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_31__),core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(2056),core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_32___default=__webpack_require__.n(core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_32__),core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(678),core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_33___default=__webpack_require__.n(core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_33__),core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(7462),core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_34___default=__webpack_require__.n(core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_34__),core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(2974),core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_35___default=__webpack_require__.n(core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_35__),core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(5016),core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_36___default=__webpack_require__.n(core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_36__),core_js_modules_es_object_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(489),core_js_modules_es_object_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_37___default=__webpack_require__.n(core_js_modules_es_object_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_37__),core_js_modules_es_object_get_own_property_names_js__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(6210),core_js_modules_es_object_get_own_property_names_js__WEBPACK_IMPORTED_MODULE_38___default=__webpack_require__.n(core_js_modules_es_object_get_own_property_names_js__WEBPACK_IMPORTED_MODULE_38__),core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__(2772),core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_39___default=__webpack_require__.n(core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_39__),_tencent_ovb_utils__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(7434),comTool={supportES6:function supportES6(){try{eval("var foo = (x)=>x+1")}catch(e){return!1}return!0},isObject:function(e){return"object"===(0,_data_orange_ci_workspace_node_modules_babel_runtime_helpers_esm_typeof_js__WEBPACK_IMPORTED_MODULE_0__.Z)(e)&&e.constructor===Object},createGUID:function(e){void 0===e&&(e=32);for(var t=e||32,n="",r=1;r<=t;r++){n+=Math.floor(16*Math.random()).toString(16)}return n},xss:_tencent_ovb_utils__WEBPACK_IMPORTED_MODULE_40__.vD,removeDiscontinuityTimeRangesFromPlayTime:function(e,t){var n=comTool.findDiscontinuityTimeRangeAtPlaytime(e,t);if(n)return n.start;var r=e;return t.forEach((function(t){t.end<e&&(r-=t.end-t.start)})),r},findDiscontinuityTimeRangeAtPlaytime:function(e,t){return comTool.mergeTimeRanges(t).find((function(t){return e>=t.start&&e<=t.end}))},mergeTimeRanges:function(e){var t=-1,n=-1,r=[];return e.forEach((function(e){var o=e.start,i=e.end;o<=n||(n>=0&&r.push({start:t,end:n}),t=o),n=i})),t>=0&&n>=0&&r.push({start:t,end:n}),r},compareVersion:_tencent_ovb_utils__WEBPACK_IMPORTED_MODULE_40__.n4,formatPlayTime:function(e){var t=e;if("string"==typeof t&&(t=parseInt(t,10)),"number"!=typeof t||Number.isNaN(t))return"00:00";var n=function(e){return e<10?"0".concat(e):e},r=Math.floor(t/3600),o=Math.floor((t-3600*r)/60),i=Math.floor(t-3600*r-60*o);return 0===r?[n(o),n(i)].join(":"):[r,n(o),n(i)].join(":")},dateFormat:function(e,t){return void 0===t&&(t=Date.now()),_tencent_ovb_utils__WEBPACK_IMPORTED_MODULE_40__.vc(t,e||"yyyy-MM-dd hh:mm:ss")},base64ToArrayBuffer:function(e){for(var t=window.atob(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r},setTimeoutByRAF:function(e,t){var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame,r=+new Date;!function o(){+new Date-r>t?e():n(o)}()},assignApiToPrototype:function(e,t,n){for(var r=Object.getPrototypeOf(e),o=Object.getOwnPropertyNames(t),i=0,a=n.length;i<a;i++){var s=n[i];-1!==o.indexOf(s)||"function"!=typeof r[s]||(t[s]=r[s].bind(e))}}};__webpack_exports__.Z=comTool},8005:function(e,t,n){"use strict";n.d(t,{F1:function(){return g}});n(7658);function r(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:void 0!==n.g?n.g:{}}var o,i,a="function"==typeof Proxy,s=n(124),l=n(9584),c=n(6347),u=n(8534),d=n(3087),p=n(2833);n(8862),n(9601),n(6699),n(2023),n(7941),n(1539),n(8674);function f(){return void 0!==o||("undefined"!=typeof window&&window.performance?(o=!0,i=window.performance):void 0!==n.g&&(null===(e=n.g.perf_hooks)||void 0===e?void 0:e.performance)?(o=!0,i=n.g.perf_hooks.performance):o=!1),o?i.now():Date.now();var e}var h=function(){function e(t,n){var r=this;(0,d.Z)(this,e),this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;var o={};if(t.settings)for(var i in t.settings){var a=t.settings[i];o[i]=a.defaultValue}var s="__vue-devtools-plugin-settings__".concat(t.id),l=Object.assign({},o);try{var c=localStorage.getItem(s),u=JSON.parse(c);Object.assign(l,u)}catch(p){}this.fallbacks={getSettings:function(){return l},setSettings:function(e){try{localStorage.setItem(s,JSON.stringify(e))}catch(p){}l=e},now:function(){return f()}},n&&n.on("plugin:settings:set",(function(e,t){e===r.plugin.id&&r.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:function(e,t){return r.target?r.target.on[t]:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];r.onQueue.push({method:t,args:n})}}}),this.proxiedTarget=new Proxy({},{get:function(e,t){return r.target?r.target[t]:"on"===t?r.proxiedOn:Object.keys(r.fallbacks).includes(t)?function(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return r.targetQueue.push({method:t,args:o,resolve:function(){}}),(e=r.fallbacks)[t].apply(e,o)}:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return new Promise((function(e){r.targetQueue.push({method:t,args:n,resolve:e})}))}}})}var t;return(0,p.Z)(e,[{key:"setRealTarget",value:(t=(0,u.Z)((0,s.Z)().mark((function e(t){var n,r,o,i,a,u,d,p;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.target=t,n=(0,c.Z)(this.onQueue);try{for(n.s();!(r=n.n()).done;)i=r.value,(o=this.target.on)[i.method].apply(o,(0,l.Z)(i.args))}catch(s){n.e(s)}finally{n.f()}a=(0,c.Z)(this.targetQueue),e.prev=4,a.s();case 6:if((u=a.n()).done){e.next=15;break}return p=u.value,e.t0=p,e.next=11,(d=this.target)[p.method].apply(d,(0,l.Z)(p.args));case 11:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1);case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t2=e.catch(4),a.e(e.t2);case 20:return e.prev=20,a.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[4,17,20,23]])}))),function(e){return t.apply(this,arguments)})}]),e}();function g(e,t){var n=e,o=r(),i=r().__VUE_DEVTOOLS_GLOBAL_HOOK__,s=a&&n.enableEarlyProxy;if(!i||!o.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&s){var l=s?new h(n,i):null;(o.__VUE_DEVTOOLS_PLUGINS__=o.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:l}),l&&t(l.proxiedTarget)}else i.emit("devtools-plugin:setup",e,t)}},4870:function(e,t,n){"use strict";n.d(t,{B:function(){return p},Bj:function(){return d},Fl:function(){return He},IU:function(){return Te},Jd:function(){return x},PG:function(){return we},SU:function(){return Ve},Um:function(){return Ie},WL:function(){return Ue},X$:function(){return O},X3:function(){return Pe},Xl:function(){return De},dq:function(){return Le},iH:function(){return Be},j:function(){return T},lk:function(){return P},qj:function(){return Ee},qq:function(){return b},yT:function(){return xe}});var r,o=n(6084),i=n(2482),a=n(6347),s=n(9584),l=n(3087),c=n(2833),u=(n(7658),n(3948),n(1817),n(1299),n(2222),n(6992),n(1539),n(189),n(8783),n(4129),n(2526),n(1532),n(9601),n(4747),n(7327),n(1249),n(6210),n(4819),n(9653),n(3593),n(2586),n(1037),n(7318),n(9361),n(2165),n(1825),n(8674),n(7139));var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,l.Z)(this,e),this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=r,!t&&r&&(this.index=(r.scopes||(r.scopes=[])).push(this)-1)}return(0,c.Z)(e,[{key:"run",value:function(e){if(this.active){var t=r;try{return r=this,e()}finally{r=t}}else 0}},{key:"on",value:function(){r=this}},{key:"off",value:function(){r=this.parent}},{key:"stop",value:function(e){if(this.active){var t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}}}]),e}();function p(e){return new d(e)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;t&&t.active&&t.effects.push(e)}var h,g=function(e){var t=new Set(e);return t.w=0,t.n=0,t},v=function(e){return(e.w&m)>0},A=function(e){return(e.n&m)>0},y=new WeakMap,_=0,m=1,E=Symbol(""),I=Symbol(""),b=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;(0,l.Z)(this,e),this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,f(this,r)}return(0,c.Z)(e,[{key:"run",value:function(){if(!this.active)return this.fn();for(var e=h,t=w;e;){if(e===this)return;e=e.parent}try{return this.parent=h,h=this,w=!0,m=1<<++_,_<=30?function(e){var t=e.deps;if(t.length)for(var n=0;n<t.length;n++)t[n].w|=m}(this):C(this),this.fn()}finally{_<=30&&function(e){var t=e.deps;if(t.length){for(var n=0,r=0;r<t.length;r++){var o=t[r];v(o)&&!A(o)?o.delete(e):t[n++]=o,o.w&=~m,o.n&=~m}t.length=n}}(this),m=1<<--_,h=this.parent,w=t,this.parent=void 0,this.deferStop&&this.stop()}}},{key:"stop",value:function(){h===this?this.deferStop=!0:this.active&&(C(this),this.onStop&&this.onStop(),this.active=!1)}}]),e}();function C(e){var t=e.deps;if(t.length){for(var n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var w=!0,S=[];function x(){S.push(w),w=!1}function P(){var e=S.pop();w=void 0===e||e}function T(e,t,n){if(w&&h){var r=y.get(e);r||y.set(e,r=new Map);var o=r.get(n);o||r.set(n,o=g());D(o,undefined)}}function D(e,t){var n=!1;_<=30?A(e)||(e.n|=m,n=!v(e)):n=!e.has(h),n&&(e.add(h),h.deps.push(e))}function O(e,t,n,r,o,i){var l=y.get(e);if(l){var c=[];if("clear"===t)c=(0,s.Z)(l.values());else if("length"===n&&(0,u.kJ)(e)){var d=(0,u.He)(r);l.forEach((function(e,t){("length"===t||t>=d)&&c.push(e)}))}else switch(void 0!==n&&c.push(l.get(n)),t){case"add":(0,u.kJ)(e)?(0,u.S0)(n)&&c.push(l.get("length")):(c.push(l.get(E)),(0,u._N)(e)&&c.push(l.get(I)));break;case"delete":(0,u.kJ)(e)||(c.push(l.get(E)),(0,u._N)(e)&&c.push(l.get(I)));break;case"set":(0,u._N)(e)&&c.push(l.get(E))}if(1===c.length)c[0]&&N(c[0]);else{var p,f=[],h=(0,a.Z)(c);try{for(h.s();!(p=h.n()).done;){var v=p.value;v&&f.push.apply(f,(0,s.Z)(v))}}catch(A){h.e(A)}finally{h.f()}N(g(f))}}}function N(e,t){var n,r=(0,u.kJ)(e)?e:(0,s.Z)(e),o=(0,a.Z)(r);try{for(o.s();!(n=o.n()).done;){var i=n.value;i.computed&&R(i,t)}}catch(p){o.e(p)}finally{o.f()}var l,c=(0,a.Z)(r);try{for(c.s();!(l=c.n()).done;){var d=l.value;d.computed||R(d,t)}}catch(p){c.e(p)}finally{c.f()}}function R(e,t){(e!==h||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}var k=(0,u.fY)("__proto__,__v_isRef,__isVue"),L=new Set(Object.getOwnPropertyNames(Symbol).filter((function(e){return"arguments"!==e&&"caller"!==e})).map((function(e){return Symbol[e]})).filter(u.yk)),B=U(),M=U(!1,!0),Q=U(!0),V=F();function F(){var e={};return["includes","indexOf","lastIndexOf"].forEach((function(t){e[t]=function(){for(var e=Te(this),n=0,r=this.length;n<r;n++)T(e,0,n+"");for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var l=e[t].apply(e,i);return-1===l||!1===l?e[t].apply(e,(0,s.Z)(i.map(Te))):l}})),["push","pop","shift","unshift","splice"].forEach((function(t){e[t]=function(){x();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=Te(this)[t].apply(this,n);return P(),o}})),e}function U(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r,o){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_isShallow"===r)return t;if("__v_raw"===r&&o===(e?t?me:_e:t?ye:Ae).get(n))return n;var i=(0,u.kJ)(n);if(!e&&i&&(0,u.RI)(V,r))return Reflect.get(V,r,o);var a=Reflect.get(n,r,o);return((0,u.yk)(r)?L.has(r):k(r))?a:(e||T(n,0,r),t?a:Le(a)?i&&(0,u.S0)(r)?a:a.value:(0,u.Kn)(a)?e?be(a):Ee(a):a)}}var K=H(),j=H(!0);function H(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n,r,o){var i=t[n];if(Se(i)&&Le(i)&&!Le(r))return!1;if(!e&&(xe(r)||Se(r)||(i=Te(i),r=Te(r)),!(0,u.kJ)(t)&&Le(i)&&!Le(r)))return i.value=r,!0;var a=(0,u.kJ)(t)&&(0,u.S0)(n)?Number(n)<t.length:(0,u.RI)(t,n),s=Reflect.set(t,n,r,o);return t===Te(o)&&(a?(0,u.aU)(r,i)&&O(t,"set",n,r):O(t,"add",n,r)),s}}var q={get:B,set:K,deleteProperty:function(e,t){var n=(0,u.RI)(e,t),r=(e[t],Reflect.deleteProperty(e,t));return r&&n&&O(e,"delete",t,void 0),r},has:function(e,t){var n=Reflect.has(e,t);return(0,u.yk)(t)&&L.has(t)||T(e,0,t),n},ownKeys:function(e){return T(e,0,(0,u.kJ)(e)?"length":E),Reflect.ownKeys(e)}},G={get:Q,set:function(e,t){return!0},deleteProperty:function(e,t){return!0}},Y=(0,u.l7)({},q,{get:M,set:j}),W=function(e){return e},z=function(e){return Reflect.getPrototypeOf(e)};function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Te(e=e.__v_raw),i=Te(t);n||(t!==i&&T(o,0,t),T(o,0,i));var a=z(o),s=a.has,l=r?W:n?Ne:Oe;return s.call(o,t)?l(e.get(t)):s.call(o,i)?l(e.get(i)):void(e!==o&&e.get(t))}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.__v_raw,r=Te(n),o=Te(e);return t||(e!==o&&T(r,0,e),T(r,0,o)),e===o?n.has(e):n.has(e)||n.has(o)}function X(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=e.__v_raw,!t&&T(Te(e),0,E),Reflect.get(e,"size",e)}function $(e){e=Te(e);var t=Te(this);return z(t).has.call(t,e)||(t.add(e),O(t,"add",e,e)),this}function ee(e,t){t=Te(t);var n=Te(this),r=z(n),o=r.has,i=r.get,a=o.call(n,e);a||(e=Te(e),a=o.call(n,e));var s=i.call(n,e);return n.set(e,t),a?(0,u.aU)(t,s)&&O(n,"set",e,t):O(n,"add",e,t),this}function te(e){var t=Te(this),n=z(t),r=n.has,o=n.get,i=r.call(t,e);i||(e=Te(e),i=r.call(t,e));o&&o.call(t,e);var a=t.delete(e);return i&&O(t,"delete",e,void 0),a}function ne(){var e=Te(this),t=0!==e.size,n=e.clear();return t&&O(e,"clear",void 0,void 0),n}function re(e,t){return function(n,r){var o=this,i=o.__v_raw,a=Te(i),s=t?W:e?Ne:Oe;return!e&&T(a,0,E),i.forEach((function(e,t){return n.call(r,s(e),s(t),o)}))}}function oe(e,t,n){return function(){var r=this.__v_raw,o=Te(r),a=(0,u._N)(o),s="entries"===e||e===Symbol.iterator&&a,l="keys"===e&&a,c=r[e].apply(r,arguments),d=n?W:t?Ne:Oe;return!t&&T(o,0,l?I:E),(0,i.Z)({next:function(){var e=c.next(),t=e.value,n=e.done;return n?{value:t,done:n}:{value:s?[d(t[0]),d(t[1])]:d(t),done:n}}},Symbol.iterator,(function(){return this}))}}function ie(e){return function(){return"delete"!==e&&this}}function ae(){var e={get:function(e){return J(this,e)},get size(){return X(this)},has:Z,add:$,set:ee,delete:te,clear:ne,forEach:re(!1,!1)},t={get:function(e){return J(this,e,!1,!0)},get size(){return X(this)},has:Z,add:$,set:ee,delete:te,clear:ne,forEach:re(!1,!0)},n={get:function(e){return J(this,e,!0)},get size(){return X(this,!0)},has:function(e){return Z.call(this,e,!0)},add:ie("add"),set:ie("set"),delete:ie("delete"),clear:ie("clear"),forEach:re(!0,!1)},r={get:function(e){return J(this,e,!0,!0)},get size(){return X(this,!0)},has:function(e){return Z.call(this,e,!0)},add:ie("add"),set:ie("set"),delete:ie("delete"),clear:ie("clear"),forEach:re(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((function(o){e[o]=oe(o,!1,!1),n[o]=oe(o,!0,!1),t[o]=oe(o,!1,!0),r[o]=oe(o,!0,!0)})),[e,n,t,r]}var se=ae(),le=(0,o.Z)(se,4),ce=le[0],ue=le[1],de=le[2],pe=le[3];function fe(e,t){var n=t?e?pe:de:e?ue:ce;return function(t,r,o){return"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get((0,u.RI)(n,r)&&r in t?n:t,r,o)}}var he={get:fe(!1,!1)},ge={get:fe(!1,!0)},ve={get:fe(!0,!1)};var Ae=new WeakMap,ye=new WeakMap,_e=new WeakMap,me=new WeakMap;function Ee(e){return Se(e)?e:Ce(e,!1,q,he,Ae)}function Ie(e){return Ce(e,!1,Y,ge,ye)}function be(e){return Ce(e,!0,G,ve,_e)}function Ce(e,t,n,r,o){if(!(0,u.Kn)(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;var i=o.get(e);if(i)return i;var a,s=(a=e).__v_skip||!Object.isExtensible(a)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((0,u.W7)(a));if(0===s)return e;var l=new Proxy(e,2===s?r:n);return o.set(e,l),l}function we(e){return Se(e)?we(e.__v_raw):!(!e||!e.__v_isReactive)}function Se(e){return!(!e||!e.__v_isReadonly)}function xe(e){return!(!e||!e.__v_isShallow)}function Pe(e){return we(e)||Se(e)}function Te(e){var t=e&&e.__v_raw;return t?Te(t):e}function De(e){return(0,u.Nj)(e,"__v_skip",!0),e}var Oe=function(e){return(0,u.Kn)(e)?Ee(e):e},Ne=function(e){return(0,u.Kn)(e)?be(e):e};function Re(e){w&&h&&D((e=Te(e)).dep||(e.dep=g()))}function ke(e,t){(e=Te(e)).dep&&N(e.dep)}function Le(e){return!(!e||!0!==e.__v_isRef)}function Be(e){return Me(e,!1)}function Me(e,t){return Le(e)?e:new Qe(e,t)}var Qe=function(){function e(t,n){(0,l.Z)(this,e),this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Te(t),this._value=n?t:Oe(t)}return(0,c.Z)(e,[{key:"value",get:function(){return Re(this),this._value},set:function(e){var t=this.__v_isShallow||xe(e)||Se(e);e=t?e:Te(e),(0,u.aU)(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Oe(e),ke(this))}}]),e}();function Ve(e){return Le(e)?e.value:e}var Fe={get:function(e,t,n){return Ve(Reflect.get(e,t,n))},set:function(e,t,n,r){var o=e[t];return Le(o)&&!Le(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function Ue(e){return we(e)?e:new Proxy(e,Fe)}var Ke;var je=function(){function e(t,n,r,o){var i=this;(0,l.Z)(this,e),this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Ke]=!1,this._dirty=!0,this.effect=new b(t,(function(){i._dirty||(i._dirty=!0,ke(i))})),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}return(0,c.Z)(e,[{key:"value",get:function(){var e=Te(this);return Re(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value},set:function(e){this._setter(e)}}]),e}();function He(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(0,u.mf)(e);i?(n=e,r=u.dG):(n=e.get,r=e.set);var a=new je(n,r,i||!r,o);return a}Ke="__v_isReadonly"},3396:function(e,t,n){"use strict";n.d(t,{$d:function(){return p},Ah:function(){return Se},FN:function(){return vn},Fl:function(){return On},HY:function(){return kt},Ko:function(){return Ve},LL:function(){return Be},P$:function(){return ne},Q6:function(){return le},U2:function(){return oe},Us:function(){return It},WI:function(){return Fe},Wm:function(){return $t},Y3:function(){return C},Y8:function(){return ee},YP:function(){return z},_:function(){return Xt},aZ:function(){return ce},bv:function(){return Ie},dG:function(){return un},f3:function(){return Y},h:function(){return Nn},iD:function(){return qt},ic:function(){return Ce},j4:function(){return Gt},kq:function(){return an},lR:function(){return Nt},nK:function(){return se},uE:function(){return on},up:function(){return ke},w5:function(){return V},wF:function(){return Ee},wg:function(){return Ft},wy:function(){return Oe}});var r,o=n(3336),i=n(6084),a=n(6347),s=n(2482),l=n(9584),c=(n(1249),n(2222),n(1539),n(4747),n(7941),n(7042),n(8674),n(6699),n(561),n(2772),n(2023),n(6992),n(1532),n(8783),n(3948),n(189),n(2707),n(6755),n(3210),n(4916),n(5306),n(7327),n(9601),n(3290),n(3680),n(3706),n(2703),n(2526),n(1817),n(4603),n(9714),n(9653),n(1058),n(3161),n(2165),n(1038),n(9070),n(9596),n(7318),n(543),n(4723),n(4553),n(4129),n(7852),n(3371),n(5827),n(7658),n(8862),n(1703),n(8450),n(541),n(1299),n(4870)),u=n(7139);r={},(0,s.Z)(r,"sp","serverPrefetch hook"),(0,s.Z)(r,"bc","beforeCreate hook"),(0,s.Z)(r,"c","created hook"),(0,s.Z)(r,"bm","beforeMount hook"),(0,s.Z)(r,"m","mounted hook"),(0,s.Z)(r,"bu","beforeUpdate hook"),(0,s.Z)(r,"u","updated"),(0,s.Z)(r,"bum","beforeUnmount hook"),(0,s.Z)(r,"um","unmounted hook"),(0,s.Z)(r,"a","activated hook"),(0,s.Z)(r,"da","deactivated hook"),(0,s.Z)(r,"ec","errorCaptured hook"),(0,s.Z)(r,"rtc","renderTracked hook"),(0,s.Z)(r,"rtg","renderTriggered hook"),(0,s.Z)(r,0,"setup function"),(0,s.Z)(r,1,"render function"),(0,s.Z)(r,2,"watcher getter"),(0,s.Z)(r,3,"watcher callback"),(0,s.Z)(r,4,"watcher cleanup function"),(0,s.Z)(r,5,"native event handler"),(0,s.Z)(r,6,"component event handler"),(0,s.Z)(r,7,"vnode hook"),(0,s.Z)(r,8,"directive hook"),(0,s.Z)(r,9,"transition hook"),(0,s.Z)(r,10,"app errorHandler"),(0,s.Z)(r,11,"app warnHandler"),(0,s.Z)(r,12,"ref function"),(0,s.Z)(r,13,"async component loader"),(0,s.Z)(r,14,"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core");function d(e,t,n,r){var o;try{o=r?e.apply(void 0,(0,l.Z)(r)):e()}catch(i){f(i,t,n)}return o}function p(e,t,n,r){if((0,u.mf)(e)){var o=d(e,t,n,r);return o&&(0,u.tI)(o)&&o.catch((function(e){f(e,t,n)})),o}for(var i=[],a=0;a<e.length;a++)i.push(p(e[a],t,n,r));return i}function f(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=t?t.vnode:null;if(t){for(var i=t.parent,a=t.proxy,s=n;i;){var l=i.ec;if(l)for(var c=0;c<l.length;c++)if(!1===l[c](e,a,s))return;i=i.parent}var u=t.appContext.config.errorHandler;if(u)return void d(u,null,10,[e,a,s])}h(e,n,o,r)}function h(e,t,n){console.error(e)}var g=!1,v=!1,A=[],y=0,_=[],m=null,E=0,I=Promise.resolve(),b=null;function C(e){var t=b||I;return e?t.then(this?e.bind(this):e):t}function w(e){A.length&&A.includes(e,g&&e.allowRecurse?y+1:y)||(null==e.id?A.push(e):A.splice(function(e){for(var t=y+1,n=A.length;t<n;){var r=t+n>>>1;D(A[r])<e?t=r+1:n=r}return t}(e.id),0,e),S())}function S(){g||v||(v=!0,b=I.then(N))}function x(e){(0,u.kJ)(e)?_.push.apply(_,(0,l.Z)(e)):m&&m.includes(e,e.allowRecurse?E+1:E)||_.push(e),S()}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g?y+1:0;for(0;t<A.length;t++){var n=A[t];n&&n.pre&&(A.splice(t,1),t--,n())}}function T(e){if(_.length){var t,n=(0,l.Z)(new Set(_));if(_.length=0,m)return void(t=m).push.apply(t,(0,l.Z)(n));for((m=n).sort((function(e,t){return D(e)-D(t)})),E=0;E<m.length;E++)m[E]();m=null,E=0}}var D=function(e){return null==e.id?1/0:e.id},O=function(e,t){var n=D(e)-D(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function N(e){v=!1,g=!0,A.sort(O);u.dG;try{for(y=0;y<A.length;y++){var t=A[y];t&&!1!==t.active&&d(t,null,14)}}finally{y=0,A.length=0,T(),g=!1,b=null,(A.length||_.length)&&N(e)}}new Set;new Map;function R(e,t){if(!e.isUnmounted){for(var n=e.vnode.props||u.kT,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a,s=o,l=t.startsWith("update:"),c=l&&t.slice(7);if(c&&c in n){var d="".concat("modelValue"===c?"model":c,"Modifiers"),f=n[d]||u.kT,h=f.number,g=f.trim;g&&(s=o.map((function(e){return(0,u.HD)(e)?e.trim():e}))),h&&(s=o.map(u.He))}0;var v=n[a=(0,u.hR)(t)]||n[a=(0,u.hR)((0,u._A)(t))];!v&&l&&(v=n[a=(0,u.hR)((0,u.rs)(t))]),v&&p(v,e,6,s);var A=n[a+"Once"];if(A){if(e.emitted){if(e.emitted[a])return}else e.emitted={};e.emitted[a]=!0,p(A,e,6,s)}}}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.emitsCache,o=r.get(e);if(void 0!==o)return o;var i=e.emits,a={},s=!1;if(!(0,u.mf)(e)){var l=function(e){var n=k(e,t,!0);n&&(s=!0,(0,u.l7)(a,n))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return i||s?((0,u.kJ)(i)?i.forEach((function(e){return a[e]=null})):(0,u.l7)(a,i),(0,u.Kn)(e)&&r.set(e,a),a):((0,u.Kn)(e)&&r.set(e,null),null)}function L(e,t){return!(!e||!(0,u.F7)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,u.RI)(e,t[0].toLowerCase()+t.slice(1))||(0,u.RI)(e,(0,u.rs)(t))||(0,u.RI)(e,t))}var B=null,M=null;function Q(e){var t=B;return B=e,M=e&&e.type.__scopeId||null,t}function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B;if(!t)return e;if(e._n)return e;var n=function n(){n._d&&jt(-1);var r,o=Q(t);try{r=e.apply(void 0,arguments)}finally{Q(o),n._d&&jt(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function F(e){var t,n,r=e.type,o=e.vnode,a=e.proxy,s=e.withProxy,l=e.props,c=(0,i.Z)(e.propsOptions,1)[0],d=e.slots,p=e.attrs,h=e.emit,g=e.render,v=e.renderCache,A=e.data,y=e.setupState,_=e.ctx,m=e.inheritAttrs,E=Q(e);try{if(4&o.shapeFlag){var I=s||a;t=sn(g.call(I,I,v,l,y,A,_)),n=p}else{var b=r;0,t=sn(b.length>1?b(l,{attrs:p,slots:d,emit:h}):b(l,null)),n=r.props?p:U(p)}}catch(x){Qt.length=0,f(x,e,1),t=$t(Bt)}var C=t;if(n&&!1!==m){var w=Object.keys(n),S=C.shapeFlag;if(w.length)if(7&S)c&&w.some(u.tR)&&(n=K(n,c)),C=nn(C,n);else;}return o.dirs&&((C=nn(C)).dirs=C.dirs?C.dirs.concat(o.dirs):o.dirs),o.transition&&(C.transition=o.transition),t=C,Q(E),t}var U=function(e){var t;for(var n in e)("class"===n||"style"===n||(0,u.F7)(n))&&((t||(t={}))[n]=e[n]);return t},K=function(e,t){var n={};for(var r in e)(0,u.tR)(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function j(e,t,n){var r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(var o=0;o<r.length;o++){var i=r[o];if(t[i]!==e[i]&&!L(n,i))return!0}return!1}function H(e,t){for(var n=e.vnode,r=e.parent;r&&r.subTree===n;)(n=r.vnode).el=t,r=r.parent}var q=function(e){return e.__isSuspense};function G(e,t){var n;t&&t.pendingBranch?(0,u.kJ)(e)?(n=t.effects).push.apply(n,(0,l.Z)(e)):t.effects.push(e):x(e)}function Y(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=gn||B;if(r){var o=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&(0,u.mf)(t)?t.call(r.proxy):t}else 0}var W={};function z(e,t,n){return J(e,t,n)}function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.kT,r=n.immediate,o=n.deep,i=n.flush;n.onTrack,n.onTrigger;var a,s,l=gn,f=!1,h=!1;if((0,c.dq)(e)?(a=function(){return e.value},f=(0,c.yT)(e)):(0,c.PG)(e)?(a=function(){return e},o=!0):(0,u.kJ)(e)?(h=!0,f=e.some((function(e){return(0,c.PG)(e)||(0,c.yT)(e)})),a=function(){return e.map((function(e){return(0,c.dq)(e)?e.value:(0,c.PG)(e)?$(e):(0,u.mf)(e)?d(e,l,2):void 0}))}):a=(0,u.mf)(e)?t?function(){return d(e,l,2)}:function(){if(!l||!l.isUnmounted)return s&&s(),p(e,l,3,[A])}:u.dG,t&&o){var g=a;a=function(){return $(g())}}var v,A=function(e){s=I.onStop=function(){d(e,l,4)}};if(In){if(A=u.dG,t?r&&p(t,l,3,[a(),h?[]:void 0,A]):a(),"sync"!==i)return u.dG;var y=kn();v=y.__watcherHandles||(y.__watcherHandles=[])}var _,m=h?new Array(e.length).fill(W):W,E=function(){if(I.active)if(t){var e=I.run();(o||f||(h?e.some((function(e,t){return(0,u.aU)(e,m[t])})):(0,u.aU)(e,m)))&&(s&&s(),p(t,l,3,[e,m===W?void 0:h&&m[0]===W?[]:m,A]),m=e)}else I.run()};E.allowRecurse=!!t,"sync"===i?_=E:"post"===i?_=function(){return Et(E,l&&l.suspense)}:(E.pre=!0,l&&(E.id=l.uid),_=function(){return w(E)});var I=new c.qq(a,_);t?r?E():m=I.run():"post"===i?Et(I.run.bind(I),l&&l.suspense):I.run();var b=function(){I.stop(),l&&l.scope&&(0,u.Od)(l.scope.effects,I)};return v&&v.push(b),b}function Z(e,t,n){var r,o=this.proxy,i=(0,u.HD)(e)?e.includes(".")?X(o,e):function(){return o[e]}:e.bind(o,o);(0,u.mf)(t)?r=t:(r=t.handler,n=t);var a=gn;An(this);var s=J(i,r.bind(o),n);return a?An(a):yn(),s}function X(e,t){var n=t.split(".");return function(){for(var t=e,r=0;r<n.length&&t;r++)t=t[n[r]];return t}}function $(e,t){if(!(0,u.Kn)(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),(0,c.dq)(e))$(e.value,t);else if((0,u.kJ)(e))for(var n=0;n<e.length;n++)$(e[n],t);else if((0,u.DM)(e)||(0,u._N)(e))e.forEach((function(e){$(e,t)}));else if((0,u.PO)(e))for(var r in e)$(e[r],t);return e}function ee(){var e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ie((function(){e.isMounted=!0})),we((function(){e.isUnmounting=!0})),e}var te=[Function,Array],ne={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:te,onEnter:te,onAfterEnter:te,onEnterCancelled:te,onBeforeLeave:te,onLeave:te,onAfterLeave:te,onLeaveCancelled:te,onBeforeAppear:te,onAppear:te,onAfterAppear:te,onAppearCancelled:te},setup:function(e,t){var n,r=t.slots,o=vn(),i=ee();return function(){var t=r.default&&le(r.default(),!0);if(t&&t.length){var s=t[0];if(t.length>1){var l,u=(0,a.Z)(t);try{for(u.s();!(l=u.n()).done;){var d=l.value;if(d.type!==Bt){0,s=d,!0;break}}}catch(I){u.e(I)}finally{u.f()}}var p=(0,c.IU)(e),f=p.mode;if(i.isLeaving)return ie(s);var h=ae(s);if(!h)return ie(s);var g=oe(h,p,i,o);se(h,g);var v=o.subTree,A=v&&ae(v),y=!1,_=h.type.getTransitionKey;if(_){var m=_();void 0===n?n=m:m!==n&&(n=m,y=!0)}if(A&&A.type!==Bt&&(!Wt(h,A)||y)){var E=oe(A,p,i,o);if(se(A,E),"out-in"===f)return i.isLeaving=!0,E.afterLeave=function(){i.isLeaving=!1,!1!==o.update.active&&o.update()},ie(s);"in-out"===f&&h.type!==Bt&&(E.delayLeave=function(e,t,n){re(i,A)[String(A.key)]=A,e._leaveCb=function(){t(),e._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=n})}return s}}}};function re(e,t){var n=e.leavingVNodes,r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function oe(e,t,n,r){var o=t.appear,i=t.mode,a=t.persisted,s=void 0!==a&&a,l=t.onBeforeEnter,c=t.onEnter,d=t.onAfterEnter,f=t.onEnterCancelled,h=t.onBeforeLeave,g=t.onLeave,v=t.onAfterLeave,A=t.onLeaveCancelled,y=t.onBeforeAppear,_=t.onAppear,m=t.onAfterAppear,E=t.onAppearCancelled,I=String(e.key),b=re(n,e),C=function(e,t){e&&p(e,r,9,t)},w=function(e,t){var n=t[1];C(e,t),(0,u.kJ)(e)?e.every((function(e){return e.length<=1}))&&n():e.length<=1&&n()},S={mode:i,persisted:s,beforeEnter:function(t){var r=l;if(!n.isMounted){if(!o)return;r=y||l}t._leaveCb&&t._leaveCb(!0);var i=b[I];i&&Wt(e,i)&&i.el._leaveCb&&i.el._leaveCb(),C(r,[t])},enter:function(e){var t=c,r=d,i=f;if(!n.isMounted){if(!o)return;t=_||c,r=m||d,i=E||f}var a=!1,s=e._enterCb=function(t){a||(a=!0,C(t?i:r,[e]),S.delayedLeave&&S.delayedLeave(),e._enterCb=void 0)};t?w(t,[e,s]):s()},leave:function(t,r){var o=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();C(h,[t]);var i=!1,a=t._leaveCb=function(n){i||(i=!0,r(),C(n?A:v,[t]),t._leaveCb=void 0,b[o]===e&&delete b[o])};b[o]=e,g?w(g,[t,a]):a()},clone:function(e){return oe(e,t,n,r)}};return S}function ie(e){if(de(e))return(e=nn(e)).children=null,e}function ae(e){return de(e)?e.children?e.children[0]:void 0:e}function se(e,t){6&e.shapeFlag&&e.component?se(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function le(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=[],o=0,i=0;i<e.length;i++){var a=e[i],s=null==n?a.key:String(n)+String(null!=a.key?a.key:i);a.type===kt?(128&a.patchFlag&&o++,r=r.concat(le(a.children,t,s))):(t||a.type!==Bt)&&r.push(null!=s?nn(a,{key:s}):a)}if(o>1)for(var l=0;l<r.length;l++)r[l].patchFlag=-2;return r}function ce(e){return(0,u.mf)(e)?{setup:e,name:e.name}:e}var ue=function(e){return!!e.type.__asyncLoader};var de=function(e){return e.type.__isKeepAlive};RegExp,RegExp;function pe(e,t){return(0,u.kJ)(e)?e.some((function(e){return pe(e,t)})):(0,u.HD)(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function fe(e,t){ge(e,"a",t)}function he(e,t){ge(e,"da",t)}function ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gn,r=e.__wdc||(e.__wdc=function(){for(var t=n;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(_e(t,r,n),n)for(var o=n.parent;o&&o.parent;)de(o.parent.vnode)&&ve(r,t,n,o),o=o.parent}function ve(e,t,n,r){var o=_e(t,e,r,!0);Se((function(){(0,u.Od)(r[t],o)}),n)}function Ae(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function ye(e){return 128&e.shapeFlag?e.ssContent:e}function _e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gn,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n){var o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=function(){if(!n.isUnmounted){(0,c.Jd)(),An(n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=p(t,n,e,o);return yn(),(0,c.lk)(),a}});return r?o.unshift(i):o.push(i),i}}var me=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gn;return(!In||"sp"===e)&&_e(e,(function(){return t.apply(void 0,arguments)}),n)}},Ee=me("bm"),Ie=me("m"),be=me("bu"),Ce=me("u"),we=me("bum"),Se=me("um"),xe=me("sp"),Pe=me("rtg"),Te=me("rtc");function De(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gn;_e("ec",e,t)}function Oe(e,t){var n=B;if(null===n)return e;for(var r=Pn(n)||n.proxy,o=e.dirs||(e.dirs=[]),a=0;a<t.length;a++){var s=(0,i.Z)(t[a],4),l=s[0],c=s[1],d=s[2],p=s[3],f=void 0===p?u.kT:p;l&&((0,u.mf)(l)&&(l={mounted:l,updated:l}),l.deep&&$(c),o.push({dir:l,instance:r,value:c,oldValue:void 0,arg:d,modifiers:f}))}return e}function Ne(e,t,n,r){for(var o=e.dirs,i=t&&t.dirs,a=0;a<o.length;a++){var s=o[a];i&&(s.oldValue=i[a].value);var l=s.dir[r];l&&((0,c.Jd)(),p(l,n,8,[e.el,s,e,t]),(0,c.lk)())}}var Re="components";function ke(e,t){return Me(Re,e,!0,t)||e}var Le=Symbol();function Be(e){return(0,u.HD)(e)?Me(Re,e,!1)||e:e||Le}function Me(e,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=B||gn;if(r){var o=r.type;if(e===Re){var i=Tn(o,!1);if(i&&(i===t||i===(0,u._A)(t)||i===(0,u.kC)((0,u._A)(t))))return o}var a=Qe(r[e]||o[e],t)||Qe(r.appContext[e],t);return!a&&n?o:a}}function Qe(e,t){return e&&(e[t]||e[(0,u._A)(t)]||e[(0,u.kC)((0,u._A)(t))])}function Ve(e,t,n,r){var o,i=n&&n[r];if((0,u.kJ)(e)||(0,u.HD)(e)){o=new Array(e.length);for(var a=0,s=e.length;a<s;a++)o[a]=t(e[a],a,void 0,i&&i[a])}else if("number"==typeof e){0,o=new Array(e);for(var l=0;l<e;l++)o[l]=t(l+1,l,void 0,i&&i[l])}else if((0,u.Kn)(e))if(e[Symbol.iterator])o=Array.from(e,(function(e,n){return t(e,n,void 0,i&&i[n])}));else{var c=Object.keys(e);o=new Array(c.length);for(var d=0,p=c.length;d<p;d++){var f=c[d];o[d]=t(e[f],f,d,i&&i[d])}}else o=[];return n&&(n[r]=o),o}function Fe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(B.isCE||B.parent&&ue(B.parent)&&B.parent.isCE)return"default"!==t&&(n.name=t),$t("slot",n,r&&r());var i=e[t];i&&i._c&&(i._d=!1),Ft();var a=i&&Ue(i(n)),s=Gt(kt,{key:n.key||a&&a.key||"_".concat(t)},a||(r?r():[]),a&&1===e._?64:-2);return!o&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),i&&i._c&&(i._d=!0),s}function Ue(e){return e.some((function(e){return!Yt(e)||e.type!==Bt&&!(e.type===kt&&!Ue(e.children))}))?e:null}var Ke=function e(t){return t?_n(t)?Pn(t)||t.proxy:e(t.parent):null},je=(0,u.l7)(Object.create(null),{$:function(e){return e},$el:function(e){return e.vnode.el},$data:function(e){return e.data},$props:function(e){return e.props},$attrs:function(e){return e.attrs},$slots:function(e){return e.slots},$refs:function(e){return e.refs},$parent:function(e){return Ke(e.parent)},$root:function(e){return Ke(e.root)},$emit:function(e){return e.emit},$options:function(e){return Je(e)},$forceUpdate:function(e){return e.f||(e.f=function(){return w(e.update)})},$nextTick:function(e){return e.n||(e.n=C.bind(e.proxy))},$watch:function(e){return Z.bind(e)}}),He=function(e,t){return e!==u.kT&&!e.__isScriptSetup&&(0,u.RI)(e,t)},qe={get:function(e,t){var n,r=e._,o=r.ctx,i=r.setupState,a=r.data,s=r.props,l=r.accessCache,d=r.type,p=r.appContext;if("$"!==t[0]){var f=l[t];if(void 0!==f)switch(f){case 1:return i[t];case 2:return a[t];case 4:return o[t];case 3:return s[t]}else{if(He(i,t))return l[t]=1,i[t];if(a!==u.kT&&(0,u.RI)(a,t))return l[t]=2,a[t];if((n=r.propsOptions[0])&&(0,u.RI)(n,t))return l[t]=3,s[t];if(o!==u.kT&&(0,u.RI)(o,t))return l[t]=4,o[t];Ge&&(l[t]=0)}}var h,g,v=je[t];return v?("$attrs"===t&&(0,c.j)(r,"get",t),v(r)):(h=d.__cssModules)&&(h=h[t])?h:o!==u.kT&&(0,u.RI)(o,t)?(l[t]=4,o[t]):(g=p.config.globalProperties,(0,u.RI)(g,t)?g[t]:void 0)},set:function(e,t,n){var r=e._,o=r.data,i=r.setupState,a=r.ctx;return He(i,t)?(i[t]=n,!0):o!==u.kT&&(0,u.RI)(o,t)?(o[t]=n,!0):!(0,u.RI)(r.props,t)&&(("$"!==t[0]||!(t.slice(1)in r))&&(a[t]=n,!0))},has:function(e,t){var n,r=e._,o=r.data,i=r.setupState,a=r.accessCache,s=r.ctx,l=r.appContext,c=r.propsOptions;return!!a[t]||o!==u.kT&&(0,u.RI)(o,t)||He(i,t)||(n=c[0])&&(0,u.RI)(n,t)||(0,u.RI)(s,t)||(0,u.RI)(je,t)||(0,u.RI)(l.config.globalProperties,t)},defineProperty:function(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,u.RI)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};var Ge=!0;function Ye(e){var t=Je(e),n=e.proxy,r=e.ctx;Ge=!1,t.beforeCreate&&We(t.beforeCreate,e,"bc");var o,i=t.data,a=t.computed,s=t.methods,l=t.watch,d=t.provide,p=t.inject,f=t.created,h=t.beforeMount,g=t.mounted,v=t.beforeUpdate,A=t.updated,y=t.activated,_=t.deactivated,m=(t.beforeDestroy,t.beforeUnmount),E=(t.destroyed,t.unmounted),I=t.render,b=t.renderTracked,C=t.renderTriggered,w=t.errorCaptured,S=t.serverPrefetch,x=t.expose,P=t.inheritAttrs,T=t.components,D=t.directives;t.filters;if(p&&function(e,t){arguments.length>2&&void 0!==arguments[2]||u.dG;var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,u.kJ)(e)&&(e=et(e));var r=function(r){var o=e[r],i=void 0;i=(0,u.Kn)(o)?"default"in o?Y(o.from||r,o.default,!0):Y(o.from||r):Y(o),(0,c.dq)(i)&&n?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:function(){return i.value},set:function(e){return i.value=e}}):t[r]=i};for(var o in e)r(o)}(p,r,null,e.appContext.config.unwrapInjectedRef),s)for(var O in s){var N=s[O];(0,u.mf)(N)&&(r[O]=N.bind(n))}if(i&&(o=i.call(n,n),(0,u.Kn)(o)&&(e.data=(0,c.qj)(o))),Ge=!0,a){var R=function(e){var t=a[e],o=(0,u.mf)(t)?t.bind(n,n):(0,u.mf)(t.get)?t.get.bind(n,n):u.dG;var i=!(0,u.mf)(t)&&(0,u.mf)(t.set)?t.set.bind(n):u.dG,s=On({get:o,set:i});Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:function(){return s.value},set:function(e){return s.value=e}})};for(var k in a)R(k)}if(l)for(var L in l)ze(l[L],r,n,L);if(d){var B=(0,u.mf)(d)?d.call(n):d;Reflect.ownKeys(B).forEach((function(e){!function(e,t){if(gn){var n=gn.provides,r=gn.parent&&gn.parent.provides;r===n&&(n=gn.provides=Object.create(r)),n[e]=t}}(e,B[e])}))}function M(e,t){(0,u.kJ)(t)?t.forEach((function(t){return e(t.bind(n))})):t&&e(t.bind(n))}if(f&&We(f,e,"c"),M(Ee,h),M(Ie,g),M(be,v),M(Ce,A),M(fe,y),M(he,_),M(De,w),M(Te,b),M(Pe,C),M(we,m),M(Se,E),M(xe,S),(0,u.kJ)(x))if(x.length){var Q=e.exposed||(e.exposed={});x.forEach((function(e){Object.defineProperty(Q,e,{get:function(){return n[e]},set:function(t){return n[e]=t}})}))}else e.exposed||(e.exposed={});I&&e.render===u.dG&&(e.render=I),null!=P&&(e.inheritAttrs=P),T&&(e.components=T),D&&(e.directives=D)}function We(e,t,n){p((0,u.kJ)(e)?e.map((function(e){return e.bind(t.proxy)})):e.bind(t.proxy),t,n)}function ze(e,t,n,r){var o=r.includes(".")?X(n,r):function(){return n[r]};if((0,u.HD)(e)){var i=t[e];(0,u.mf)(i)&&z(o,i)}else if((0,u.mf)(e))z(o,e.bind(n));else if((0,u.Kn)(e))if((0,u.kJ)(e))e.forEach((function(e){return ze(e,t,n,r)}));else{var a=(0,u.mf)(e.handler)?e.handler.bind(n):t[e.handler];(0,u.mf)(a)&&z(o,a,e)}else 0}function Je(e){var t,n=e.type,r=n.mixins,o=n.extends,i=e.appContext,a=i.mixins,s=i.optionsCache,l=i.config.optionMergeStrategies,c=s.get(n);return c?t=c:a.length||r||o?(t={},a.length&&a.forEach((function(e){return Ze(t,e,l,!0)})),Ze(t,n,l)):t=n,(0,u.Kn)(n)&&s.set(n,t),t}function Ze(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=t.mixins,i=t.extends;for(var a in i&&Ze(e,i,n,!0),o&&o.forEach((function(t){return Ze(e,t,n,!0)})),t)if(r&&"expose"===a);else{var s=Xe[a]||n&&n[a];e[a]=s?s(e[a],t[a]):t[a]}return e}var Xe={data:$e,props:nt,emits:nt,methods:nt,computed:nt,beforeCreate:tt,created:tt,beforeMount:tt,mounted:tt,beforeUpdate:tt,updated:tt,beforeDestroy:tt,beforeUnmount:tt,destroyed:tt,unmounted:tt,activated:tt,deactivated:tt,errorCaptured:tt,serverPrefetch:tt,components:nt,directives:nt,watch:function(e,t){if(!e)return t;if(!t)return e;var n=(0,u.l7)(Object.create(null),e);for(var r in t)n[r]=tt(e[r],t[r]);return n},provide:$e,inject:function(e,t){return nt(et(e),et(t))}};function $e(e,t){return t?e?function(){return(0,u.l7)((0,u.mf)(e)?e.call(this,this):e,(0,u.mf)(t)?t.call(this,this):t)}:t:e}function et(e){if((0,u.kJ)(e)){for(var t={},n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function tt(e,t){return e?(0,l.Z)(new Set([].concat(e,t))):t}function nt(e,t){return e?(0,u.l7)((0,u.l7)(Object.create(null),e),t):t}function rt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o={},i={};for(var a in(0,u.Nj)(i,zt,1),e.propsDefaults=Object.create(null),ot(e,t,o,i),e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=r?o:(0,c.Um)(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function ot(e,t,n,r){var o,a=(0,i.Z)(e.propsOptions,2),s=a[0],l=a[1],d=!1;if(t)for(var p in t)if(!(0,u.Gg)(p)){var f=t[p],h=void 0;s&&(0,u.RI)(s,h=(0,u._A)(p))?l&&l.includes(h)?(o||(o={}))[h]=f:n[h]=f:L(e.emitsOptions,p)||p in r&&f===r[p]||(r[p]=f,d=!0)}if(l)for(var g=(0,c.IU)(n),v=o||u.kT,A=0;A<l.length;A++){var y=l[A];n[y]=it(s,g,y,v[y],e,!(0,u.RI)(v,y))}return d}function it(e,t,n,r,o,i){var a=e[n];if(null!=a){var s=(0,u.RI)(a,"default");if(s&&void 0===r){var l=a.default;if(a.type!==Function&&(0,u.mf)(l)){var c=o.propsDefaults;n in c?r=c[n]:(An(o),r=c[n]=l.call(null,t),yn())}else r=l}a[0]&&(i&&!s?r=!1:!a[1]||""!==r&&r!==(0,u.rs)(n)||(r=!0))}return r}function at(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.propsCache,o=r.get(e);if(o)return o;var a=e.props,s={},c=[],d=!1;if(!(0,u.mf)(e)){var p=function(e){d=!0;var n=at(e,t,!0),r=(0,i.Z)(n,2),o=r[0],a=r[1];(0,u.l7)(s,o),a&&c.push.apply(c,(0,l.Z)(a))};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!a&&!d)return(0,u.Kn)(e)&&r.set(e,u.Z6),u.Z6;if((0,u.kJ)(a))for(var f=0;f<a.length;f++){0;var h=(0,u._A)(a[f]);st(h)&&(s[h]=u.kT)}else if(a)for(var g in a){var v=(0,u._A)(g);if(st(v)){var A=a[g],y=s[v]=(0,u.kJ)(A)||(0,u.mf)(A)?{type:A}:Object.assign({},A);if(y){var _=ut(Boolean,y.type),m=ut(String,y.type);y[0]=_>-1,y[1]=m<0||_<m,(_>-1||(0,u.RI)(y,"default"))&&c.push(v)}}}var E=[s,c];return(0,u.Kn)(e)&&r.set(e,E),E}function st(e){return"$"!==e[0]}function lt(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function ct(e,t){return lt(e)===lt(t)}function ut(e,t){return(0,u.kJ)(t)?t.findIndex((function(t){return ct(t,e)})):(0,u.mf)(t)&&ct(t,e)?0:-1}var dt=function(e){return"_"===e[0]||"$stable"===e},pt=function(e){return(0,u.kJ)(e)?e.map(sn):[sn(e)]},ft=function(e,t,n){if(t._n)return t;var r=V((function(){return pt(t.apply(void 0,arguments))}),n);return r._c=!1,r},ht=function(e,t,n){var r=e._ctx;for(var o in e)if(!dt(o)){var i=e[o];(0,u.mf)(i)?t[o]=ft(0,i,r):null!=i&&function(){var e=pt(i);t[o]=function(){return e}}()}},gt=function(e,t){var n=pt(t);e.slots.default=function(){return n}},vt=function(e,t){if(32&e.vnode.shapeFlag){var n=t._;n?(e.slots=(0,c.IU)(t),(0,u.Nj)(t,"_",n)):ht(t,e.slots={})}else e.slots={},t&&gt(e,t);(0,u.Nj)(e.slots,zt,1)};function At(){return{app:null,config:{isNativeTag:u.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}var yt=0;function _t(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,u.mf)(n)||(n=Object.assign({},n)),null==r||(0,u.Kn)(r)||(r=null);var o=At(),i=new Set,a=!1,s=o.app={_uid:yt++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:Ln,get config(){return o.config},set config(e){0},use:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i.has(e)||(e&&(0,u.mf)(e.install)?(i.add(e),e.install.apply(e,[s].concat(n))):(0,u.mf)(e)&&(i.add(e),e.apply(void 0,[s].concat(n)))),s},mixin:function(e){return o.mixins.includes(e)||o.mixins.push(e),s},component:function(e,t){return t?(o.components[e]=t,s):o.components[e]},directive:function(e,t){return t?(o.directives[e]=t,s):o.directives[e]},mount:function(i,l,c){if(!a){0;var u=$t(n,r);return u.appContext=o,l&&t?t(u,i):e(u,i,c),a=!0,s._container=i,i.__vue_app__=s,Pn(u.component)||u.component.proxy}},unmount:function(){a&&(e(null,s._container),delete s._container.__vue_app__)},provide:function(e,t){return o.provides[e]=t,s}};return s}}function mt(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,u.kJ)(e))e.forEach((function(e,i){return mt(e,t&&((0,u.kJ)(t)?t[i]:t),n,r,o)}));else if(!ue(r)||o){var i=4&r.shapeFlag?Pn(r.component)||r.component.proxy:r.el,a=o?null:i,s=e.i,l=e.r;0;var p=t&&t.r,f=s.refs===u.kT?s.refs={}:s.refs,h=s.setupState;if(null!=p&&p!==l&&((0,u.HD)(p)?(f[p]=null,(0,u.RI)(h,p)&&(h[p]=null)):(0,c.dq)(p)&&(p.value=null)),(0,u.mf)(l))d(l,s,12,[a,f]);else{var g=(0,u.HD)(l),v=(0,c.dq)(l);if(g||v){var A=function(){if(e.f){var t=g?(0,u.RI)(h,l)?h[l]:f[l]:l.value;o?(0,u.kJ)(t)&&(0,u.Od)(t,i):(0,u.kJ)(t)?t.includes(i)||t.push(i):g?(f[l]=[i],(0,u.RI)(h,l)&&(h[l]=f[l])):(l.value=[i],e.k&&(f[e.k]=l.value))}else g?(f[l]=a,(0,u.RI)(h,l)&&(h[l]=a)):v&&(l.value=a,e.k&&(f[e.k]=a))};a?(A.id=-1,Et(A,n)):A()}else 0}}}var Et=G;function It(e){return bt(e)}function bt(e,t){(0,u.E9)().__VUE__=!0;var n,r,o=e.insert,a=e.remove,s=e.patchProp,l=e.createElement,d=e.createText,p=e.createComment,f=e.setText,h=e.setElementText,g=e.parentNode,v=e.nextSibling,_=e.setScopeId,m=void 0===_?u.dG:_,E=e.insertStaticContent,I=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:!!t.dynamicChildren;if(e!==t){e&&!Wt(e,t)&&(r=re(e),X(e,o,i,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);var c=t.type,u=t.ref,d=t.shapeFlag;switch(c){case Lt:b(e,t,n,r);break;case Bt:C(e,t,n,r);break;case Mt:null==e&&S(t,n,r,a);break;case kt:V(e,t,n,r,o,i,a,s,l);break;default:1&d?O(e,t,n,r,o,i,a,s,l):6&d?U(e,t,n,r,o,i,a,s,l):(64&d||128&d)&&c.process(e,t,n,r,o,i,a,s,l,ie)}null!=u&&o&&mt(u,e&&e.ref,i,t||e,!t)}},b=function(e,t,n,r){if(null==e)o(t.el=d(t.children),n,r);else{var i=t.el=e.el;t.children!==e.children&&f(i,t.children)}},C=function(e,t,n,r){null==e?o(t.el=p(t.children||""),n,r):t.el=e.el},S=function(e,t,n,r){var o=E(e.children,t,n,r,e.el,e.anchor),a=(0,i.Z)(o,2);e.el=a[0],e.anchor=a[1]},x=function(e,t,n){for(var r,i=e.el,a=e.anchor;i&&i!==a;)r=v(i),o(i,t,n),i=r;o(a,t,n)},D=function(e){for(var t,n=e.el,r=e.anchor;n&&n!==r;)t=v(n),a(n),n=t;a(r)},O=function(e,t,n,r,o,i,a,s,l){a=a||"svg"===t.type,null==e?N(t,n,r,o,i,a,s,l):B(e,t,o,i,a,s,l)},N=function(e,t,n,r,i,a,c,d){var p,f,g=e.type,v=e.props,A=e.shapeFlag,y=e.transition,_=e.dirs;if(p=e.el=l(e.type,a,v&&v.is,v),8&A?h(p,e.children):16&A&&k(e.children,p,null,r,i,a&&"foreignObject"!==g,c,d),_&&Ne(e,null,r,"created"),v){for(var m in v)"value"===m||(0,u.Gg)(m)||s(p,m,null,v[m],a,e.children,r,i,ne);"value"in v&&s(p,"value",null,v.value),(f=v.onVnodeBeforeMount)&&dn(f,r,e)}R(p,e,e.scopeId,c,r),_&&Ne(e,null,r,"beforeMount");var E=(!i||i&&!i.pendingBranch)&&y&&!y.persisted;E&&y.beforeEnter(p),o(p,t,n),((f=v&&v.onVnodeMounted)||E||_)&&Et((function(){f&&dn(f,r,e),E&&y.enter(p),_&&Ne(e,null,r,"mounted")}),i)},R=function e(t,n,r,o,i){if(r&&m(t,r),o)for(var a=0;a<o.length;a++)m(t,o[a]);if(i&&n===i.subTree){var s=i.vnode;e(t,s,s.scopeId,s.slotScopeIds,i.parent)}},k=function(e,t,n,r,o,i,a,s){for(var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,c=l;c<e.length;c++){var u=e[c]=s?ln(e[c]):sn(e[c]);I(null,u,t,n,r,o,i,a,s)}},B=function(e,t,n,r,o,i,a){var l=t.el=e.el,c=t.patchFlag,d=t.dynamicChildren,p=t.dirs;c|=16&e.patchFlag;var f,g=e.props||u.kT,v=t.props||u.kT;n&&Ct(n,!1),(f=v.onVnodeBeforeUpdate)&&dn(f,n,t,e),p&&Ne(t,e,n,"beforeUpdate"),n&&Ct(n,!0);var A=o&&"foreignObject"!==t.type;if(d?M(e.dynamicChildren,d,l,n,r,A,i):a||W(e,t,l,null,n,r,A,i,!1),c>0){if(16&c)Q(l,t,g,v,n,r,o);else if(2&c&&g.class!==v.class&&s(l,"class",null,v.class,o),4&c&&s(l,"style",g.style,v.style,o),8&c)for(var y=t.dynamicProps,_=0;_<y.length;_++){var m=y[_],E=g[m],I=v[m];I===E&&"value"!==m||s(l,m,E,I,o,e.children,n,r,ne)}1&c&&e.children!==t.children&&h(l,t.children)}else a||null!=d||Q(l,t,g,v,n,r,o);((f=v.onVnodeUpdated)||p)&&Et((function(){f&&dn(f,n,t,e),p&&Ne(t,e,n,"updated")}),r)},M=function(e,t,n,r,o,i,a){for(var s=0;s<t.length;s++){var l=e[s],c=t[s],u=l.el&&(l.type===kt||!Wt(l,c)||70&l.shapeFlag)?g(l.el):n;I(l,c,u,null,r,o,i,a,!0)}},Q=function(e,t,n,r,o,i,a){if(n!==r){if(n!==u.kT)for(var l in n)(0,u.Gg)(l)||l in r||s(e,l,n[l],null,a,t.children,o,i,ne);for(var c in r)if(!(0,u.Gg)(c)){var d=r[c],p=n[c];d!==p&&"value"!==c&&s(e,c,p,d,a,t.children,o,i,ne)}"value"in r&&s(e,"value",n.value,r.value)}},V=function(e,t,n,r,i,a,s,l,c){var u=t.el=e?e.el:d(""),p=t.anchor=e?e.anchor:d(""),f=t.patchFlag,h=t.dynamicChildren,g=t.slotScopeIds;g&&(l=l?l.concat(g):g),null==e?(o(u,n,r),o(p,n,r),k(t.children,n,p,i,a,s,l,c)):f>0&&64&f&&h&&e.dynamicChildren?(M(e.dynamicChildren,h,n,i,a,s,l),(null!=t.key||i&&t===i.subTree)&&wt(e,t,!0)):W(e,t,n,p,i,a,s,l,c)},U=function(e,t,n,r,o,i,a,s,l){t.slotScopeIds=s,null==e?512&t.shapeFlag?o.ctx.activate(t,n,r,a,l):K(t,n,r,o,i,a,l):q(e,t,l)},K=function(e,t,n,r,o,i,a){var s=e.component=hn(e,r,o);if(de(e)&&(s.ctx.renderer=ie),bn(s),s.asyncDep){if(o&&o.registerDep(s,G),!e.el){var l=s.subTree=$t(Bt);C(null,l,t,n)}}else G(s,e,t,n,o,i,a)},q=function(e,t,n){var r,o,i=t.component=e.component;if(function(e,t,n){var r=e.props,o=e.children,i=e.component,a=t.props,s=t.children,l=t.patchFlag,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!o&&!s||s&&s.$stable)||r!==a&&(r?!a||j(r,a,c):!!a);if(1024&l)return!0;if(16&l)return r?j(r,a,c):!!a;if(8&l)for(var u=t.dynamicProps,d=0;d<u.length;d++){var p=u[d];if(a[p]!==r[p]&&!L(c,p))return!0}return!1}(e,t,n)){if(i.asyncDep&&!i.asyncResolved)return void Y(i,t,n);i.next=t,r=i.update,(o=A.indexOf(r))>y&&A.splice(o,1),i.update()}else t.el=e.el,i.vnode=t},G=function(e,t,n,o,i,a,s){var l=e.effect=new c.qq((function(){if(e.isMounted){var l,c=e.next,d=e.bu,p=e.u,f=e.parent,h=e.vnode,v=c;0,Ct(e,!1),c?(c.el=h.el,Y(e,c,s)):c=h,d&&(0,u.ir)(d),(l=c.props&&c.props.onVnodeBeforeUpdate)&&dn(l,f,c,h),Ct(e,!0);var A=F(e);0;var y=e.subTree;e.subTree=A,I(y,A,g(y.el),re(y),e,i,a),c.el=A.el,null===v&&H(e,A.el),p&&Et(p,i),(l=c.props&&c.props.onVnodeUpdated)&&Et((function(){return dn(l,f,c,h)}),i)}else{var _,m=t,E=m.el,b=m.props,C=e.bm,w=e.m,S=e.parent,x=ue(t);if(Ct(e,!1),C&&(0,u.ir)(C),!x&&(_=b&&b.onVnodeBeforeMount)&&dn(_,S,t),Ct(e,!0),E&&r){var P=function(){e.subTree=F(e),r(E,e.subTree,e,i,null)};x?t.type.__asyncLoader().then((function(){return!e.isUnmounted&&P()})):P()}else{0;var T=e.subTree=F(e);0,I(null,T,n,o,e,i,a),t.el=T.el}if(w&&Et(w,i),!x&&(_=b&&b.onVnodeMounted)){var D=t;Et((function(){return dn(_,S,D)}),i)}(256&t.shapeFlag||S&&ue(S.vnode)&&256&S.vnode.shapeFlag)&&e.a&&Et(e.a,i),e.isMounted=!0,t=n=o=null}}),(function(){return w(d)}),e.scope),d=e.update=function(){return l.run()};d.id=e.uid,Ct(e,!0),d()},Y=function(e,t,n){t.component=e;var r=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,r){var o=e.props,a=e.attrs,s=e.vnode.patchFlag,l=(0,c.IU)(o),d=(0,i.Z)(e.propsOptions,1)[0],p=!1;if(!(r||s>0)||16&s){var f;for(var h in ot(e,t,o,a)&&(p=!0),l)t&&((0,u.RI)(t,h)||(f=(0,u.rs)(h))!==h&&(0,u.RI)(t,f))||(d?!n||void 0===n[h]&&void 0===n[f]||(o[h]=it(d,l,h,void 0,e,!0)):delete o[h]);if(a!==l)for(var g in a)t&&(0,u.RI)(t,g)||(delete a[g],p=!0)}else if(8&s)for(var v=e.vnode.dynamicProps,A=0;A<v.length;A++){var y=v[A];if(!L(e.emitsOptions,y)){var _=t[y];if(d)if((0,u.RI)(a,y))_!==a[y]&&(a[y]=_,p=!0);else{var m=(0,u._A)(y);o[m]=it(d,l,m,_,e,!1)}else _!==a[y]&&(a[y]=_,p=!0)}}p&&(0,c.X$)(e,"set","$attrs")}(e,t.props,r,n),function(e,t,n){var r=e.vnode,o=e.slots,i=!0,a=u.kT;if(32&r.shapeFlag){var s=t._;s?n&&1===s?i=!1:((0,u.l7)(o,t),n||1!==s||delete o._):(i=!t.$stable,ht(t,o)),a=t}else t&&(gt(e,t),a={default:1});if(i)for(var l in o)dt(l)||l in a||delete o[l]}(e,t.children,n),(0,c.Jd)(),P(),(0,c.lk)()},W=function(e,t,n,r,o,i,a,s){var l=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=e&&e.children,u=e?e.shapeFlag:0,d=t.children,p=t.patchFlag,f=t.shapeFlag;if(p>0){if(128&p)return void J(c,d,n,r,o,i,a,s,l);if(256&p)return void z(c,d,n,r,o,i,a,s,l)}8&f?(16&u&&ne(c,o,i),d!==c&&h(n,d)):16&u?16&f?J(c,d,n,r,o,i,a,s,l):ne(c,o,i,!0):(8&u&&h(n,""),16&f&&k(d,n,r,o,i,a,s,l))},z=function(e,t,n,r,o,i,a,s,l){e=e||u.Z6,t=t||u.Z6;var c,d=e.length,p=t.length,f=Math.min(d,p);for(c=0;c<f;c++){var h=t[c]=l?ln(t[c]):sn(t[c]);I(e[c],h,n,null,o,i,a,s,l)}d>p?ne(e,o,i,!0,!1,f):k(t,n,r,o,i,a,s,l,f)},J=function(e,t,n,r,o,i,a,s,l){for(var c=0,d=t.length,p=e.length-1,f=d-1;c<=p&&c<=f;){var h=e[c],g=t[c]=l?ln(t[c]):sn(t[c]);if(!Wt(h,g))break;I(h,g,n,null,o,i,a,s,l),c++}for(;c<=p&&c<=f;){var v=e[p],A=t[f]=l?ln(t[f]):sn(t[f]);if(!Wt(v,A))break;I(v,A,n,null,o,i,a,s,l),p--,f--}if(c>p){if(c<=f)for(var y=f+1,_=y<d?t[y].el:r;c<=f;)I(null,t[c]=l?ln(t[c]):sn(t[c]),n,_,o,i,a,s,l),c++}else if(c>f)for(;c<=p;)X(e[c],o,i,!0),c++;else{var m,E=c,b=c,C=new Map;for(c=b;c<=f;c++){var w=t[c]=l?ln(t[c]):sn(t[c]);null!=w.key&&C.set(w.key,c)}var S=0,x=f-b+1,P=!1,T=0,D=new Array(x);for(c=0;c<x;c++)D[c]=0;for(c=E;c<=p;c++){var O=e[c];if(S>=x)X(O,o,i,!0);else{var N=void 0;if(null!=O.key)N=C.get(O.key);else for(m=b;m<=f;m++)if(0===D[m-b]&&Wt(O,t[m])){N=m;break}void 0===N?X(O,o,i,!0):(D[N-b]=c+1,N>=T?T=N:P=!0,I(O,t[N],n,null,o,i,a,s,l),S++)}}var R=P?function(e){var t,n,r,o,i,a=e.slice(),s=[0],l=e.length;for(t=0;t<l;t++){var c=e[t];if(0!==c){if(e[n=s[s.length-1]]<c){a[t]=n,s.push(t);continue}for(r=0,o=s.length-1;r<o;)e[s[i=r+o>>1]]<c?r=i+1:o=i;c<e[s[r]]&&(r>0&&(a[t]=s[r-1]),s[r]=t)}}r=s.length,o=s[r-1];for(;r-- >0;)s[r]=o,o=a[o];return s}(D):u.Z6;for(m=R.length-1,c=x-1;c>=0;c--){var k=b+c,L=t[k],B=k+1<d?t[k+1].el:r;0===D[c]?I(null,L,n,B,o,i,a,s,l):P&&(m<0||c!==R[m]?Z(L,n,B,2):m--)}}},Z=function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=t.el,l=t.type,c=t.transition,u=t.children,d=t.shapeFlag;if(6&d)e(t.component.subTree,n,r,i);else if(128&d)t.suspense.move(n,r,i);else if(64&d)l.move(t,n,r,ie);else if(l!==kt)if(l!==Mt){var p=2!==i&&1&d&&c;if(p)if(0===i)c.beforeEnter(s),o(s,n,r),Et((function(){return c.enter(s)}),a);else{var f=c.leave,h=c.delayLeave,g=c.afterLeave,v=function(){return o(s,n,r)},A=function(){f(s,(function(){v(),g&&g()}))};h?h(s,v,A):A()}else o(s,n,r)}else x(t,n,r);else{o(s,n,r);for(var y=0;y<u.length;y++)e(u[y],n,r,i);o(t.anchor,n,r)}},X=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=e.type,a=e.props,s=e.ref,l=e.children,c=e.dynamicChildren,u=e.shapeFlag,d=e.patchFlag,p=e.dirs;if(null!=s&&mt(s,null,n,e,!0),256&u)t.ctx.deactivate(e);else{var f,h=1&u&&p,g=!ue(e);if(g&&(f=a&&a.onVnodeBeforeUnmount)&&dn(f,t,e),6&u)te(e.component,n,r);else{if(128&u)return void e.suspense.unmount(n,r);h&&Ne(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,o,ie,r):c&&(i!==kt||d>0&&64&d)?ne(c,t,n,!1,!0):(i===kt&&384&d||!o&&16&u)&&ne(l,t,n),r&&$(e)}(g&&(f=a&&a.onVnodeUnmounted)||h)&&Et((function(){f&&dn(f,t,e),h&&Ne(e,null,t,"unmounted")}),n)}},$=function(e){var t=e.type,n=e.el,r=e.anchor,o=e.transition;if(t!==kt)if(t!==Mt){var i=function(){a(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){var s=o.leave,l=o.delayLeave,c=function(){return s(n,i)};l?l(e.el,i,c):c()}else i()}else D(e);else ee(n,r)},ee=function(e,t){for(var n;e!==t;)n=v(e),a(e),e=n;a(t)},te=function(e,t,n){var r=e.bum,o=e.scope,i=e.update,a=e.subTree,s=e.um;r&&(0,u.ir)(r),o.stop(),i&&(i.active=!1,X(a,e,t,n)),s&&Et(s,t),Et((function(){e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},ne=function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=i;a<e.length;a++)X(e[a],t,n,r,o)},re=function e(t){return 6&t.shapeFlag?e(t.component.subTree):128&t.shapeFlag?t.suspense.next():v(t.anchor||t.el)},oe=function(e,t,n){null==e?t._vnode&&X(t._vnode,null,null,!0):I(t._vnode||null,e,t,null,null,null,n),P(),T(),t._vnode=e},ie={p:I,um:X,m:Z,r:$,mt:K,mc:k,pc:W,pbc:M,n:re,o:e};if(t){var ae=t(ie),se=(0,i.Z)(ae,2);n=se[0],r=se[1]}return{render:oe,hydrate:n,createApp:_t(oe,n)}}function Ct(e,t){var n=e.effect,r=e.update;n.allowRecurse=r.allowRecurse=t}function wt(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.children,o=t.children;if((0,u.kJ)(r)&&(0,u.kJ)(o))for(var i=0;i<r.length;i++){var a=r[i],s=o[i];1&s.shapeFlag&&!s.dynamicChildren&&((s.patchFlag<=0||32===s.patchFlag)&&((s=o[i]=ln(o[i])).el=a.el),n||wt(a,s)),s.type===Lt&&(s.el=a.el)}}var St=function(e){return e.__isTeleport},xt=function(e){return e&&(e.disabled||""===e.disabled)},Pt=function(e){return"undefined"!=typeof SVGElement&&e instanceof SVGElement},Tt=function(e,t){var n=e&&e.to;if((0,u.HD)(n)){if(t){var r=t(n);return r}return null}return n},Dt={__isTeleport:!0,process:function(e){function t(t,n,r,o,i,a,s,l,c,u){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t,n,r,o,i,a,s,l,c){var u=c.mc,d=c.pc,p=c.pbc,f=c.o,h=f.insert,g=f.querySelector,v=f.createText,A=(f.createComment,xt(t.props)),y=t.shapeFlag,_=t.children,m=t.dynamicChildren;if(null==e){var E=t.el=v(""),I=t.anchor=v("");h(E,n,r),h(I,n,r);var b=t.target=Tt(t.props,g),C=t.targetAnchor=v("");b&&(h(C,b),a=a||Pt(b));var w=function(e,t){16&y&&u(_,e,t,o,i,a,s,l)};A?w(n,I):b&&w(b,C)}else{t.el=e.el;var S=t.anchor=e.anchor,x=t.target=e.target,P=t.targetAnchor=e.targetAnchor,T=xt(e.props),D=T?n:x,O=T?S:P;if(a=a||Pt(x),m?(p(e.dynamicChildren,m,D,o,i,a,s),wt(e,t,!0)):l||d(e,t,D,O,o,i,a,s,!1),A)T||Ot(t,n,S,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){var N=t.target=Tt(t.props,g);N&&Ot(t,N,null,c,0)}else T&&Ot(t,x,P,c,1)}Rt(t)})),remove:function(e,t,n,r,o,i){var a=o.um,s=o.o.remove,l=e.shapeFlag,c=e.children,u=e.anchor,d=e.targetAnchor,p=e.target,f=e.props;if(p&&s(d),(i||!xt(f))&&(s(u),16&l))for(var h=0;h<c.length;h++){var g=c[h];a(g,t,n,!0,!!g.dynamicChildren)}},move:Ot,hydrate:function(e,t,n,r,o,i,a,s){var l=a.o,c=l.nextSibling,u=l.parentNode,d=l.querySelector,p=t.target=Tt(t.props,d);if(p){var f=p._lpa||p.firstChild;if(16&t.shapeFlag)if(xt(t.props))t.anchor=s(c(e),t,u(e),n,r,o,i),t.targetAnchor=f;else{t.anchor=c(e);for(var h=f;h;)if((h=c(h))&&8===h.nodeType&&"teleport anchor"===h.data){t.targetAnchor=h,p._lpa=t.targetAnchor&&c(t.targetAnchor);break}s(f,t,p,n,r,o,i)}Rt(t)}return t.anchor&&c(t.anchor)}};function Ot(e,t,n,r){var o=r.o.insert,i=r.m,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;0===a&&o(e.targetAnchor,t,n);var s=e.el,l=e.anchor,c=e.shapeFlag,u=e.children,d=e.props,p=2===a;if(p&&o(s,t,n),(!p||xt(d))&&16&c)for(var f=0;f<u.length;f++)i(u[f],t,n,2);p&&o(l,t,n)}var Nt=8==n.j?Dt:null;function Rt(e){var t=e.ctx;if(t&&t.ut){for(var n=e.children[0].el;n!==e.targetAnchor;)1===n.nodeType&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}var kt=Symbol(void 0),Lt=Symbol(void 0),Bt=Symbol(void 0),Mt=Symbol(void 0),Qt=[],Vt=null;function Ft(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Qt.push(Vt=e?null:[])}function Ut(){Qt.pop(),Vt=Qt[Qt.length-1]||null}var Kt=1;function jt(e){Kt+=e}function Ht(e){return e.dynamicChildren=Kt>0?Vt||u.Z6:null,Ut(),Kt>0&&Vt&&Vt.push(e),e}function qt(e,t,n,r,o,i){return Ht(Xt(e,t,n,r,o,i,!0))}function Gt(e,t,n,r,o){return Ht($t(e,t,n,r,o,!0))}function Yt(e){return!!e&&!0===e.__v_isVNode}function Wt(e,t){return e.type===t.type&&e.key===t.key}var zt="__vInternal",Jt=function(e){var t=e.key;return null!=t?t:null},Zt=function(e){var t=e.ref,n=e.ref_key,r=e.ref_for;return null!=t?(0,u.HD)(t)||(0,c.dq)(t)||(0,u.mf)(t)?{i:B,r:t,k:n,f:!!r}:t:null};function Xt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e===kt?0:1,a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Jt(t),ref:t&&Zt(t),scopeId:M,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:B};return s?(cn(l,n),128&i&&e.normalize(l)):n&&(l.shapeFlag|=(0,u.HD)(n)?8:16),Kt>0&&!a&&Vt&&(l.patchFlag>0||6&i)&&32!==l.patchFlag&&Vt.push(l),l}var $t=en;function en(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e&&e!==Le||(e=Bt),Yt(e)){var a=nn(e,t,!0);return n&&cn(a,n),Kt>0&&!i&&Vt&&(6&a.shapeFlag?Vt[Vt.indexOf(e)]=a:Vt.push(a)),a.patchFlag|=-2,a}if(Dn(e)&&(e=e.__vccOpts),t){var s=t=tn(t),l=s.class,d=s.style;l&&!(0,u.HD)(l)&&(t.class=(0,u.C_)(l)),(0,u.Kn)(d)&&((0,c.X3)(d)&&!(0,u.kJ)(d)&&(d=(0,u.l7)({},d)),t.style=(0,u.j5)(d))}var p=(0,u.HD)(e)?1:q(e)?128:St(e)?64:(0,u.Kn)(e)?4:(0,u.mf)(e)?2:0;return Xt(e,t,n,r,o,p,i,!0)}function tn(e){return e?(0,c.X3)(e)||zt in e?(0,u.l7)({},e):e:null}function nn(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.props,o=e.ref,i=e.patchFlag,a=e.children,s=t?un(r||{},t):r,l={__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&Jt(s),ref:t&&t.ref?n&&o?(0,u.kJ)(o)?o.concat(Zt(t)):[o,Zt(t)]:Zt(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==kt?-1===i?16:16|i:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&nn(e.ssContent),ssFallback:e.ssFallback&&nn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx};return l}function rn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return $t(Lt,null,e,t)}function on(e,t){var n=$t(Mt,null,e);return n.staticCount=t,n}function an(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?(Ft(),Gt(Bt,null,e)):$t(Bt,null,e)}function sn(e){return null==e||"boolean"==typeof e?$t(Bt):(0,u.kJ)(e)?$t(kt,null,e.slice()):"object"===(0,o.Z)(e)?ln(e):$t(Lt,null,String(e))}function ln(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:nn(e)}function cn(e,t){var n=0,r=e.shapeFlag;if(null==t)t=null;else if((0,u.kJ)(t))n=16;else if("object"===(0,o.Z)(t)){if(65&r){var i=t.default;return void(i&&(i._c&&(i._d=!1),cn(e,i()),i._c&&(i._d=!0)))}n=32;var a=t._;a||zt in t?3===a&&B&&(1===B.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=B}else(0,u.mf)(t)?(t={default:t,_ctx:B},n=32):(t=String(t),64&r?(n=16,t=[rn(t)]):n=8);e.children=t,e.shapeFlag|=n}function un(){for(var e={},t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];for(var r in n)if("class"===r)e.class!==n.class&&(e.class=(0,u.C_)([e.class,n.class]));else if("style"===r)e.style=(0,u.j5)([e.style,n.style]);else if((0,u.F7)(r)){var o=e[r],i=n[r];!i||o===i||(0,u.kJ)(o)&&o.includes(i)||(e[r]=o?[].concat(o,i):i)}else""!==r&&(e[r]=n[r])}return e}function dn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;p(e,t,7,[n,r])}var pn=At(),fn=0;function hn(e,t,n){var r=e.type,o=(t?t.appContext:e.appContext)||pn,i={uid:fn++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new c.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:at(r,o),emitsOptions:k(r,o),emit:null,emitted:null,propsDefaults:u.kT,inheritAttrs:r.inheritAttrs,ctx:u.kT,data:u.kT,props:u.kT,attrs:u.kT,slots:u.kT,refs:u.kT,setupState:u.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=R.bind(null,i),e.ce&&e.ce(i),i}var gn=null,vn=function(){return gn||B},An=function(e){gn=e,e.scope.on()},yn=function(){gn&&gn.scope.off(),gn=null};function _n(e){return 4&e.vnode.shapeFlag}var mn,En,In=!1;function bn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];In=t;var n=e.vnode,r=n.props,o=n.children,i=_n(e);rt(e,r,i,t),vt(e,o);var a=i?Cn(e,t):void 0;return In=!1,a}function Cn(e,t){var n=e.type;e.accessCache=Object.create(null),e.proxy=(0,c.Xl)(new Proxy(e.ctx,qe));var r=n.setup;if(r){var o=e.setupContext=r.length>1?xn(e):null;An(e),(0,c.Jd)();var i=d(r,e,0,[e.props,o]);if((0,c.lk)(),yn(),(0,u.tI)(i)){if(i.then(yn,yn),t)return i.then((function(n){wn(e,n,t)})).catch((function(t){f(t,e,0)}));e.asyncDep=i}else wn(e,i,t)}else Sn(e,t)}function wn(e,t,n){(0,u.mf)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,u.Kn)(t)&&(e.setupState=(0,c.WL)(t)),Sn(e,n)}function Sn(e,t,n){var r=e.type;if(!e.render){if(!t&&mn&&!r.render){var o=r.template||Je(e).template;if(o){0;var i=e.appContext.config,a=i.isCustomElement,s=i.compilerOptions,l=r.delimiters,d=r.compilerOptions,p=(0,u.l7)((0,u.l7)({isCustomElement:a,delimiters:l},s),d);r.render=mn(o,p)}}e.render=r.render||u.dG,En&&En(e)}An(e),(0,c.Jd)(),Ye(e),(0,c.lk)(),yn()}function xn(e){var t;return{get attrs(){return t||(t=function(e){return new Proxy(e.attrs,{get:function(t,n){return(0,c.j)(e,"get","$attrs"),t[n]}})}(e))},slots:e.slots,emit:e.emit,expose:function(t){e.exposed=t||{}}}}function Pn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,c.WL)((0,c.Xl)(e.exposed)),{get:function(t,n){return n in t?t[n]:n in je?je[n](e):void 0},has:function(e,t){return t in e||t in je}}))}function Tn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,u.mf)(e)?e.displayName||e.name:e.name||t&&e.__name}function Dn(e){return(0,u.mf)(e)&&"__vccOpts"in e}var On=function(e,t){return(0,c.Fl)(e,t,In)};function Nn(e,t,n){var r=arguments.length;return 2===r?(0,u.Kn)(t)&&!(0,u.kJ)(t)?Yt(t)?$t(e,null,[t]):$t(e,t):$t(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&Yt(n)&&(n=[n]),$t(e,t,n))}var Rn=Symbol(""),kn=function(){var e=Y(Rn);return e};var Ln="3.2.45"},5010:function(e,t,n){"use strict";n.d(t,{uT:function(){return k},ri:function(){return re},F8:function(){return X},iM:function(){return Z}});n(6347);var r=n(2833),o=n(3087);n(9070),n(1703),n(8304);n(1299),n(2419),n(1539),n(489);var i=n(3336);var a=n(6084),s=n(9584),l=(n(4916),n(5306),n(7658),n(8862),n(3948),n(3210),n(2222),n(4747),n(6755),n(7042),n(6699),n(2023),n(4723),n(8674),n(1249),n(9653),n(7941),n(1038),n(8783),n(3123),n(6992),n(189),n(9714),n(4129),n(7327),n(561),n(7139)),c=n(3396),u=(n(4870),"undefined"!=typeof document?document:null),d=u&&u.createElement("template"),p={insert:function(e,t,n){t.insertBefore(e,n||null)},remove:function(e){var t=e.parentNode;t&&t.removeChild(e)},createElement:function(e,t,n,r){var o=t?u.createElementNS("http://www.w3.org/2000/svg",e):u.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&o.setAttribute("multiple",r.multiple),o},createText:function(e){return u.createTextNode(e)},createComment:function(e){return u.createComment(e)},setText:function(e,t){e.nodeValue=t},setElementText:function(e,t){e.textContent=t},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},querySelector:function(e){return u.querySelector(e)},setScopeId:function(e,t){e.setAttribute(t,"")},insertStaticContent:function(e,t,n,r,o,i){var a=n?n.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),o!==i&&(o=o.nextSibling););else{d.innerHTML=r?"<svg>".concat(e,"</svg>"):e;var s=d.content;if(r){for(var l=s.firstChild;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function f(e,t,n){var r=e._vtc;r&&(t=(t?[t].concat((0,s.Z)(r)):(0,s.Z)(r)).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function h(e,t,n){var r=e.style,o=(0,l.HD)(n);if(n&&!o){for(var i in n)v(r,i,n[i]);if(t&&!(0,l.HD)(t))for(var a in t)null==n[a]&&v(r,a,"")}else{var s=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}var g=/\s*!important$/;function v(e,t,n){if((0,l.kJ)(n))n.forEach((function(n){return v(e,t,n)}));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{var r=function(e,t){var n=y[t];if(n)return n;var r=(0,l._A)(t);if("filter"!==r&&r in e)return y[t]=r;r=(0,l.kC)(r);for(var o=0;o<A.length;o++){var i=A[o]+r;if(i in e)return y[t]=i}return t}(e,t);g.test(n)?e.setProperty((0,l.rs)(r),n.replace(g,""),"important"):e[r]=n}}var A=["Webkit","Moz","ms"],y={};var _="http://www.w3.org/1999/xlink";function m(e,t,n,r,o){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(_,t.slice(6,t.length)):e.setAttributeNS(_,t,n);else{var i=(0,l.Pq)(t);null==n||i&&!(0,l.yA)(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function E(e,t,n,r,o,a,s){if("innerHTML"===t||"textContent"===t)return r&&s(r,o,a),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;var c=null==n?"":n;return e.value===c&&"OPTION"!==e.tagName||(e.value=c),void(null==n&&e.removeAttribute(t))}var u=!1;if(""===n||null==n){var d=(0,i.Z)(e[t]);"boolean"===d?n=(0,l.yA)(n):null==n&&"string"===d?(n="",u=!0):"number"===d&&(n=0,u=!0)}try{e[t]=n}catch(p){0}u&&e.removeAttribute(t)}function I(e,t,n,r){e.addEventListener(t,n,r)}function b(e,t,n,r){e.removeEventListener(t,n,r)}function C(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=e._vei||(e._vei={}),s=i[t];if(r&&s)s.value=r;else{var l=S(t),c=(0,a.Z)(l,2),u=c[0],d=c[1];if(r){var p=i[t]=T(r,o);I(e,u,p,d)}else s&&(b(e,u,s,d),i[t]=void 0)}}var w=/(?:Once|Passive|Capture)$/;function S(e){var t,n;if(w.test(e))for(t={};n=e.match(w);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0;return[":"===e[2]?e.slice(3):(0,l.rs)(e.slice(2)),t]}var x=0,P=Promise.resolve();function T(e,t){var n=function e(n){if(n._vts){if(n._vts<=e.attached)return}else n._vts=Date.now();(0,c.$d)(function(e,t){if((0,l.kJ)(t)){var n=e.stopImmediatePropagation;return e.stopImmediatePropagation=function(){n.call(e),e._stopped=!0},t.map((function(e){return function(t){return!t._stopped&&e&&e(t)}}))}return t}(n,e.value),t,5,[n])};return n.value=e,n.attached=x||(P.then((function(){return x=0})),x=Date.now()),n}var D=/^on[a-z]/;function O(e,t,n,r){return r?"innerHTML"===t||"textContent"===t||!!(t in e&&D.test(t)&&(0,l.mf)(n)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!D.test(t)||!(0,l.HD)(n))&&t in e))))}"undefined"!=typeof HTMLElement&&HTMLElement;var N="transition",R="animation",k=function(e,t){var n=t.slots;return(0,c.h)(c.P$,Q(e),n)};k.displayName="Transition";var L={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},B=(k.props=(0,l.l7)({},c.P$.props,L),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,l.kJ)(e)?e.forEach((function(e){return e.apply(void 0,(0,s.Z)(t))})):e&&e.apply(void 0,(0,s.Z)(t))}),M=function(e){return!!e&&((0,l.kJ)(e)?e.some((function(e){return e.length>1})):e.length>1)};function Q(e){var t={};for(var n in e)n in L||(t[n]=e[n]);if(!1===e.css)return t;var r=e.name,o=void 0===r?"v":r,i=e.type,a=e.duration,s=e.enterFromClass,c=void 0===s?"".concat(o,"-enter-from"):s,u=e.enterActiveClass,d=void 0===u?"".concat(o,"-enter-active"):u,p=e.enterToClass,f=void 0===p?"".concat(o,"-enter-to"):p,h=e.appearFromClass,g=void 0===h?c:h,v=e.appearActiveClass,A=void 0===v?d:v,y=e.appearToClass,_=void 0===y?f:y,m=e.leaveFromClass,E=void 0===m?"".concat(o,"-leave-from"):m,I=e.leaveActiveClass,b=void 0===I?"".concat(o,"-leave-active"):I,C=e.leaveToClass,w=void 0===C?"".concat(o,"-leave-to"):C,S=function(e){if(null==e)return null;if((0,l.Kn)(e))return[V(e.enter),V(e.leave)];var t=V(e);return[t,t]}(a),x=S&&S[0],P=S&&S[1],T=t.onBeforeEnter,D=t.onEnter,O=t.onEnterCancelled,N=t.onLeave,R=t.onLeaveCancelled,k=t.onBeforeAppear,Q=void 0===k?T:k,j=t.onAppear,q=void 0===j?D:j,G=t.onAppearCancelled,Y=void 0===G?O:G,z=function(e,t,n){U(e,t?_:f),U(e,t?A:d),n&&n()},J=function(e,t){e._isLeaving=!1,U(e,E),U(e,w),U(e,b),t&&t()},Z=function(e){return function(t,n){var r=e?q:D,o=function(){return z(t,e,n)};B(r,[t,o]),K((function(){U(t,e?g:c),F(t,e?_:f),M(r)||H(t,i,x,o)}))}};return(0,l.l7)(t,{onBeforeEnter:function(e){B(T,[e]),F(e,c),F(e,d)},onBeforeAppear:function(e){B(Q,[e]),F(e,g),F(e,A)},onEnter:Z(!1),onAppear:Z(!0),onLeave:function(e,t){e._isLeaving=!0;var n=function(){return J(e,t)};F(e,E),W(),F(e,b),K((function(){e._isLeaving&&(U(e,E),F(e,w),M(N)||H(e,i,P,n))})),B(N,[e,n])},onEnterCancelled:function(e){z(e,!1),B(O,[e])},onAppearCancelled:function(e){z(e,!0),B(Y,[e])},onLeaveCancelled:function(e){J(e),B(R,[e])}})}function V(e){return(0,l.He)(e)}function F(e,t){t.split(/\s+/).forEach((function(t){return t&&e.classList.add(t)})),(e._vtc||(e._vtc=new Set)).add(t)}function U(e,t){t.split(/\s+/).forEach((function(t){return t&&e.classList.remove(t)}));var n=e._vtc;n&&(n.delete(t),n.size||(e._vtc=void 0))}function K(e){requestAnimationFrame((function(){requestAnimationFrame(e)}))}var j=0;function H(e,t,n,r){var o=e._endId=++j,i=function(){o===e._endId&&r()};if(n)return setTimeout(i,n);var a=q(e,t),s=a.type,l=a.timeout,c=a.propCount;if(!s)return r();var u=s+"end",d=0,p=function(){e.removeEventListener(u,f),i()},f=function(t){t.target===e&&++d>=c&&p()};setTimeout((function(){d<c&&p()}),l+1),e.addEventListener(u,f)}function q(e,t){var n=window.getComputedStyle(e),r=function(e){return(n[e]||"").split(", ")},o=r("".concat(N,"Delay")),i=r("".concat(N,"Duration")),a=G(o,i),s=r("".concat(R,"Delay")),l=r("".concat(R,"Duration")),c=G(s,l),u=null,d=0,p=0;return t===N?a>0&&(u=N,d=a,p=i.length):t===R?c>0&&(u=R,d=c,p=l.length):p=(u=(d=Math.max(a,c))>0?a>c?N:R:null)?u===N?i.length:l.length:0,{type:u,timeout:d,propCount:p,hasTransform:u===N&&/\b(transform|all)(,|$)/.test(r("".concat(N,"Property")).toString())}}function G(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(Math,(0,s.Z)(t.map((function(t,n){return Y(t)+Y(e[n])}))))}function Y(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function W(){return document.body.offsetHeight}new WeakMap,new WeakMap;var z=["ctrl","shift","alt","meta"],J={stop:function(e){return e.stopPropagation()},prevent:function(e){return e.preventDefault()},self:function(e){return e.target!==e.currentTarget},ctrl:function(e){return!e.ctrlKey},shift:function(e){return!e.shiftKey},alt:function(e){return!e.altKey},meta:function(e){return!e.metaKey},left:function(e){return"button"in e&&0!==e.button},middle:function(e){return"button"in e&&1!==e.button},right:function(e){return"button"in e&&2!==e.button},exact:function(e,t){return z.some((function(n){return e["".concat(n,"Key")]&&!t.includes(n)}))}},Z=function(e,t){return function(n){for(var r=0;r<t.length;r++){var o=J[t[r]];if(o&&o(n,t))return}for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return e.apply(void 0,[n].concat(a))}},X={beforeMount:function(e,t,n){var r=t.value,o=n.transition;e._vod="none"===e.style.display?"":e.style.display,o&&r?o.beforeEnter(e):$(e,r)},mounted:function(e,t,n){var r=t.value,o=n.transition;o&&r&&o.enter(e)},updated:function(e,t,n){var r=t.value,o=t.oldValue,i=n.transition;!r!=!o&&(i?r?(i.beforeEnter(e),$(e,!0),i.enter(e)):i.leave(e,(function(){$(e,!1)})):$(e,r))},beforeUnmount:function(e,t){$(e,t.value)}};function $(e,t){e.style.display=t?e._vod:"none"}var ee,te=(0,l.l7)({patchProp:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0;"class"===t?f(e,r,o):"style"===t?h(e,n,r):(0,l.F7)(t)?(0,l.tR)(t)||C(e,t,n,r,a):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):O(e,t,r,o))?E(e,t,r,i,a,s,c):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),m(e,t,r,o))}},p);function ne(){return ee||(ee=(0,c.Us)(te))}var re=function(){var e,t=(e=ne()).createApp.apply(e,arguments);var n=t.mount;return t.mount=function(e){var r=oe(e);if(r){var o=t._component;(0,l.mf)(o)||o.render||o.template||(o.template=r.innerHTML),r.innerHTML="";var i=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i}},t};function oe(e){return(0,l.HD)(e)?document.querySelector(e):e}},7139:function(e,t,n){"use strict";n.d(t,{C_:function(){return v},DM:function(){return Q},E9:function(){return le},F7:function(){return D},Gg:function(){return J},HD:function(){return U},He:function(){return se},Kn:function(){return j},NO:function(){return P},Nj:function(){return ae},Od:function(){return R},PO:function(){return W},Pq:function(){return y},RI:function(){return L},S0:function(){return z},W7:function(){return Y},WV:function(){return m},Z6:function(){return S},_A:function(){return $},_N:function(){return M},aU:function(){return oe},dG:function(){return x},e1:function(){return u},fY:function(){return c},hR:function(){return re},hq:function(){return E},ir:function(){return ie},j5:function(){return d},kC:function(){return ne},kJ:function(){return B},kT:function(){return w},l7:function(){return N},mf:function(){return F},rs:function(){return te},tI:function(){return H},tR:function(){return O},yA:function(){return _},yk:function(){return K},zw:function(){return b}});var r,o,i=n(3336),a=n(6084),s=n(9584),l=n(2482);n(4916),n(7658),n(5306),n(3210),n(8862),n(5827),n(3948),n(5837),n(3123),n(7327),n(1539),n(2222),n(2481),n(4747),n(6755),n(7042),n(7941),n(4553),n(9714),n(6992),n(3371),n(9601),n(2772),n(561),n(1058),n(9070),n(4678),n(5743);function c(e,t){for(var n=Object.create(null),r=e.split(","),o=0;o<r.length;o++)n[r[o]]=!0;return t?function(e){return!!n[e.toLowerCase()]}:function(e){return!!n[e]}}r={},(0,l.Z)(r,1,"TEXT"),(0,l.Z)(r,2,"CLASS"),(0,l.Z)(r,4,"STYLE"),(0,l.Z)(r,8,"PROPS"),(0,l.Z)(r,16,"FULL_PROPS"),(0,l.Z)(r,32,"HYDRATE_EVENTS"),(0,l.Z)(r,64,"STABLE_FRAGMENT"),(0,l.Z)(r,128,"KEYED_FRAGMENT"),(0,l.Z)(r,256,"UNKEYED_FRAGMENT"),(0,l.Z)(r,512,"NEED_PATCH"),(0,l.Z)(r,1024,"DYNAMIC_SLOTS"),(0,l.Z)(r,2048,"DEV_ROOT_FRAGMENT"),(0,l.Z)(r,-1,"HOISTED"),(0,l.Z)(r,-2,"BAIL"),o={},(0,l.Z)(o,1,"STABLE"),(0,l.Z)(o,2,"DYNAMIC"),(0,l.Z)(o,3,"FORWARDED");var u=c("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt");function d(e){if(B(e)){for(var t={},n=0;n<e.length;n++){var r=e[n],o=U(r)?g(r):d(r);if(o)for(var i in o)t[i]=o[i]}return t}return U(e)||j(e)?e:void 0}var p=/;(?![^(]*\))/g,f=/:([^]+)/,h=/\/\*[\s\S]*?\*\//g;function g(e){var t={};return e.replace(h,"").split(p).forEach((function(e){if(e){var n=e.split(f);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function v(e){var t="";if(U(e))t=e;else if(B(e))for(var n=0;n<e.length;n++){var r=v(e[n]);r&&(t+=r+" ")}else if(j(e))for(var o in e)e[o]&&(t+=o+" ");return t.trim()}var A="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",y=c(A);function _(e){return!!e||""===e}function m(e,t){if(e===t)return!0;var n=V(e),r=V(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=K(e),r=K(t),n||r)return e===t;if(n=B(e),r=B(t),n||r)return!(!n||!r)&&function(e,t){if(e.length!==t.length)return!1;for(var n=!0,r=0;n&&r<e.length;r++)n=m(e[r],t[r]);return n}(e,t);if(n=j(e),r=j(t),n||r){if(!n||!r)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var o in e){var i=e.hasOwnProperty(o),a=t.hasOwnProperty(o);if(i&&!a||!i&&a||!m(e[o],t[o]))return!1}}return String(e)===String(t)}function E(e,t){return e.findIndex((function(e){return m(e,t)}))}var I,b=function(e){return U(e)?e:null==e?"":B(e)||j(e)&&(e.toString===q||!F(e.toString))?JSON.stringify(e,C,2):String(e)},C=function e(t,n){return n&&n.__v_isRef?e(t,n.value):M(n)?(0,l.Z)({},"Map(".concat(n.size,")"),(0,s.Z)(n.entries()).reduce((function(e,t){var n=(0,a.Z)(t,2),r=n[0],o=n[1];return e["".concat(r," =>")]=o,e}),{})):Q(n)?(0,l.Z)({},"Set(".concat(n.size,")"),(0,s.Z)(n.values())):!j(n)||B(n)||W(n)?n:String(n)},w={},S=[],x=function(){},P=function(){return!1},T=/^on[^a-z]/,D=function(e){return T.test(e)},O=function(e){return e.startsWith("onUpdate:")},N=Object.assign,R=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},k=Object.prototype.hasOwnProperty,L=function(e,t){return k.call(e,t)},B=Array.isArray,M=function(e){return"[object Map]"===G(e)},Q=function(e){return"[object Set]"===G(e)},V=function(e){return"[object Date]"===G(e)},F=function(e){return"function"==typeof e},U=function(e){return"string"==typeof e},K=function(e){return"symbol"===(0,i.Z)(e)},j=function(e){return null!==e&&"object"===(0,i.Z)(e)},H=function(e){return j(e)&&F(e.then)&&F(e.catch)},q=Object.prototype.toString,G=function(e){return q.call(e)},Y=function(e){return G(e).slice(8,-1)},W=function(e){return"[object Object]"===G(e)},z=function(e){return U(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e},J=c(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Z=function(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}},X=/-(\w)/g,$=Z((function(e){return e.replace(X,(function(e,t){return t?t.toUpperCase():""}))})),ee=/\B([A-Z])/g,te=Z((function(e){return e.replace(ee,"-$1").toLowerCase()})),ne=Z((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),re=Z((function(e){return e?"on".concat(ne(e)):""})),oe=function(e,t){return!Object.is(e,t)},ie=function(e,t){for(var n=0;n<e.length;n++)e[n](t)},ae=function(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},se=function(e){var t=parseFloat(e);return isNaN(t)?e:t},le=function(){return I||(I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{})}},9373:function(e,t,n){var r=n(4614).default;e.exports="object"==("undefined"==typeof self?"undefined":r(self))?self.FormData:window.FormData},8716:function(e,t,n){"use strict";n(5069),n(2707),n(7658),n(1703),n(5069),n(2707);var r={single_source_shortest_paths:function(e,t,n){var o={},i={};i[t]=0;var a,s,l,c,u,d,p,f=r.PriorityQueue.make();for(f.push(t,0);!f.empty();)for(l in s=(a=f.pop()).value,c=a.cost,u=e[s]||{})u.hasOwnProperty(l)&&(d=c+u[l],p=i[l],(void 0===i[l]||p>d)&&(i[l]=d,f.push(l,d),o[l]=s));if(void 0!==n&&void 0===i[n]){var h=["Could not find a path from ",t," to ",n,"."].join("");throw new Error(h)}return o},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,t,n){var o=r.single_source_shortest_paths(e,t,n);return r.extract_shortest_path_from_predecessor_list(o,n)},PriorityQueue:{make:function(e){var t,n=r.PriorityQueue,o={};for(t in e=e||{},n)n.hasOwnProperty(t)&&(o[t]=n[t]);return o.queue=[],o.sorter=e.sorter||n.default_sorter,o},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=r},4700:function(e,t,n){"use strict";n(6992),n(9575),n(1539),n(2472),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(2974),n(5016),n(7658),n(9575),n(2472),n(8675),n(3105),n(3408),n(2958),n(3462),n(3824),e.exports=function(e){for(var t=[],n=e.length,r=0;r<n;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319&&n>r+1){var i=e.charCodeAt(r+1);i>=56320&&i<=57343&&(o=1024*(o-55296)+i-56320+65536,r+=1)}o<128?t.push(o):o<2048?(t.push(o>>6|192),t.push(63&o|128)):o<55296||o>=57344&&o<65536?(t.push(o>>12|224),t.push(o>>6&63|128),t.push(63&o|128)):o>=65536&&o<=1114111?(t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(63&o|128)):t.push(239,191,189)}return new Uint8Array(t).buffer}},8451:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;module=__webpack_require__.nmd(module);var _typeof=__webpack_require__(4614).default;__webpack_require__(9575),__webpack_require__(1703),__webpack_require__(2472),__webpack_require__(8675),__webpack_require__(3105),__webpack_require__(3408),__webpack_require__(2958),__webpack_require__(3462),__webpack_require__(3824),__webpack_require__(7658),__webpack_require__(9575),__webpack_require__(1539),__webpack_require__(6992),__webpack_require__(2472),__webpack_require__(2990),__webpack_require__(8927),__webpack_require__(3105),__webpack_require__(5035),__webpack_require__(4345),__webpack_require__(7174),__webpack_require__(2846),__webpack_require__(4731),__webpack_require__(7209),__webpack_require__(6319),__webpack_require__(8867),__webpack_require__(7789),__webpack_require__(3739),__webpack_require__(9368),__webpack_require__(4483),__webpack_require__(2056),__webpack_require__(3462),__webpack_require__(678),__webpack_require__(7462),__webpack_require__(3824),__webpack_require__(2974),__webpack_require__(5016),__webpack_require__(9714),function(){"use strict";var ERROR="input is invalid type",WINDOW="object"===("undefined"==typeof window?"undefined":_typeof(window)),root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"===("undefined"==typeof self?"undefined":_typeof(self)),NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"===("undefined"==typeof process?"undefined":_typeof(process))&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"===_typeof(module)&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===_typeof(e)&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(n){return new Sha256(t,!0).update(n)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createOutputMethod(r,e)}return t},nodeWrap=function nodeWrap(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(n,r){return new HmacSha256(n,t,!0).update(r)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,n){return t.create(e).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createHmacOutputMethod(r,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,n){var r,o=_typeof(e);if("string"===o){var i,a=[],s=e.length,l=0;for(r=0;r<s;++r)(i=e.charCodeAt(r))<128?a[l++]=i:i<2048?(a[l++]=192|i>>6,a[l++]=128|63&i):i<55296||i>=57344?(a[l++]=224|i>>12,a[l++]=128|i>>6&63,a[l++]=128|63&i):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++r)),a[l++]=240|i>>18,a[l++]=128|i>>12&63,a[l++]=128|i>>6&63,a[l++]=128|63&i);e=a}else{if("object"!==o)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var c=[],u=[];for(r=0;r<64;++r){var d=e[r]||0;c[r]=92^d,u[r]=54^d}Sha256.call(this,t,n),this.update(u),this.oKeyPad=c,this.inner=!0,this.sharedMemory=n}Sha256.prototype.update=function(e){if(!this.finalized){var t,n=_typeof(e);if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var r,o,i=0,a=e.length,s=this.blocks;i<a;){if(this.hashed&&(this.hashed=!1,s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),t)for(o=this.start;i<a&&o<64;++i)s[o>>2]|=e[i]<<SHIFT[3&o++];else for(o=this.start;i<a&&o<64;++i)(r=e.charCodeAt(i))<128?s[o>>2]|=r<<SHIFT[3&o++]:r<2048?(s[o>>2]|=(192|r>>6)<<SHIFT[3&o++],s[o>>2]|=(128|63&r)<<SHIFT[3&o++]):r<55296||r>=57344?(s[o>>2]|=(224|r>>12)<<SHIFT[3&o++],s[o>>2]|=(128|r>>6&63)<<SHIFT[3&o++],s[o>>2]|=(128|63&r)<<SHIFT[3&o++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++i)),s[o>>2]|=(240|r>>18)<<SHIFT[3&o++],s[o>>2]|=(128|r>>12&63)<<SHIFT[3&o++],s[o>>2]|=(128|r>>6&63)<<SHIFT[3&o++],s[o>>2]|=(128|63&r)<<SHIFT[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.block=s[16],this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,n,r,o,i,a,s,l,c=this.h0,u=this.h1,d=this.h2,p=this.h3,f=this.h4,h=this.h5,g=this.h6,v=this.h7,A=this.blocks;for(e=16;e<64;++e)t=((o=A[e-15])>>>7|o<<25)^(o>>>18|o<<14)^o>>>3,n=((o=A[e-2])>>>17|o<<15)^(o>>>19|o<<13)^o>>>10,A[e]=A[e-16]+t+A[e-7]+n<<0;for(l=u&d,e=0;e<64;e+=4)this.first?(this.is224?(i=300032,v=(o=A[0]-1413257819)-150054599<<0,p=o+24177077<<0):(i=704751109,v=(o=A[0]-210244248)-1521486534<<0,p=o+143694565<<0),this.first=!1):(t=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),r=(i=c&u)^c&d^l,v=p+(o=v+(n=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&h^~f&g)+K[e]+A[e])<<0,p=o+(t+r)<<0),t=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),r=(a=p&c)^p&u^i,g=d+(o=g+(n=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&f^~v&h)+K[e+1]+A[e+1])<<0,t=((d=o+(t+r)<<0)>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),r=(s=d&p)^d&c^a,h=u+(o=h+(n=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&v^~g&f)+K[e+2]+A[e+2])<<0,t=((u=o+(t+r)<<0)>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),r=(l=u&d)^u&p^s,f=c+(o=f+(n=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&g^~h&v)+K[e+3]+A[e+3])<<0,c=o+(t+r)<<0;this.h0=this.h0+c<<0,this.h1=this.h1+u<<0,this.h2=this.h2+d<<0,this.h3=this.h3+p<<0,this.h4=this.h4+f<<0,this.h5=this.h5+h<<0,this.h6=this.h6+g<<0,this.h7=this.h7+v<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,o=this.h4,i=this.h5,a=this.h6,s=this.h7,l=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a];return this.is224||(l+=HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]),l},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,o=this.h4,i=this.h5,a=this.h6,s=this.h7,l=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,o>>24&255,o>>16&255,o>>8&255,255&o,i>>24&255,i>>16&255,i>>8&255,255&i,a>>24&255,a>>16&255,a>>8&255,255&a];return this.is224||l.push(s>>24&255,s>>16&255,s>>8&255,255&s),l},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()},9780:function(e,t,n){var r=n(4614).default;n(4603),n(8450),n(4916),n(5306),n(4603),n(4916),n(9714),n(4723),n(1539),n(7042),n(5306);var o="[object Symbol]",i=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s="\\u0300-\\u036f\\ufe20-\\ufe23",l="\\u2700-\\u27bf",c="a-z\\xdf-\\xf6\\xf8-\\xff",u="A-Z\\xc0-\\xd6\\xd8-\\xde",d="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",p="['\u2019]",f="[\\ud800-\\udfff]",h="["+d+"]",g="["+s+"\\u20d0-\\u20f0]",v="\\d+",A="[\\u2700-\\u27bf]",y="["+c+"]",_="[^\\ud800-\\udfff"+d+v+l+c+u+"]",m="\\ud83c[\\udffb-\\udfff]",E="[^\\ud800-\\udfff]",I="(?:\\ud83c[\\udde6-\\uddff]){2}",b="[\\ud800-\\udbff][\\udc00-\\udfff]",C="["+u+"]",w="(?:"+y+"|"+_+")",S="(?:"+C+"|"+_+")",x="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",P="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",T="(?:"+g+"|"+m+")"+"?",D="[\\ufe0e\\ufe0f]?",O=D+T+("(?:\\u200d(?:"+[E,I,b].join("|")+")"+D+T+")*"),N="(?:"+[A,I,b].join("|")+")"+O,R="(?:"+[E+g+"?",g,I,b,f].join("|")+")",k=RegExp(p,"g"),L=RegExp(g,"g"),B=RegExp(m+"(?="+m+")|"+R+O,"g"),M=RegExp([C+"?"+y+"+"+x+"(?="+[h,C,"$"].join("|")+")",S+"+"+P+"(?="+[h,C+w,"$"].join("|")+")",C+"?"+w+"+"+x,C+"+"+P,v,N].join("|"),"g"),Q=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),V=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,F="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,U="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,K=F||U||Function("return this")();var j,H=(j={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"ss"},function(e){return null==j?void 0:j[e]});function q(e){return Q.test(e)}function G(e){return q(e)?function(e){return e.match(B)||[]}(e):function(e){return e.split("")}(e)}var Y=Object.prototype.toString,W=K.Symbol,z=W?W.prototype:void 0,J=z?z.toString:void 0;function Z(e){if("string"==typeof e)return e;if(function(e){return"symbol"==r(e)||function(e){return!!e&&"object"==r(e)}(e)&&Y.call(e)==o}(e))return J?J.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function X(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}(e,t,n)}function $(e){return null==e?"":Z(e)}var ee,te=(ee=function(e,t,n){return t=t.toLowerCase(),e+(n?re($(t).toLowerCase()):t)},function(e){return function(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}(function(e,t,n){return e=$(e),void 0===(t=n?void 0:t)?function(e){return V.test(e)}(e)?function(e){return e.match(M)||[]}(e):function(e){return e.match(i)||[]}(e):e.match(t)||[]}(function(e){return(e=$(e))&&e.replace(a,H).replace(L,"")}(e).replace(k,"")),ee,"")});var ne,re=(ne="toUpperCase",function(e){var t=q(e=$(e))?G(e):void 0,n=t?t[0]:e.charAt(0),r=t?X(t,1).join(""):e.slice(1);return n[ne]()+r});e.exports=te},2689:function(e,t,n){var r=n(4614).default;n(1703),n(4916),n(5306),n(1058),n(1539),n(9714),n(4916),n(5306),n(7042);var o="Expected a function",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,u="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,d="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,p=u||d||Function("return this")(),f=Object.prototype.toString,h=Math.max,g=Math.min,v=function(){return p.Date.now()};function A(e,t,n){var r,i,a,s,l,c,u=0,d=!1,p=!1,f=!0;if("function"!=typeof e)throw new TypeError(o);function A(t){var n=r,o=i;return r=i=void 0,u=t,s=e.apply(o,n)}function _(e){return u=e,l=setTimeout(I,t),d?A(e):s}function E(e){var n=e-c;return void 0===c||n>=t||n<0||p&&e-u>=a}function I(){var e=v();if(E(e))return b(e);l=setTimeout(I,function(e){var n=t-(e-c);return p?g(n,a-(e-u)):n}(e))}function b(e){return l=void 0,f&&r?A(e):(r=i=void 0,s)}function C(){var e=v(),n=E(e);if(r=arguments,i=this,c=e,n){if(void 0===l)return _(c);if(p)return l=setTimeout(I,t),A(c)}return void 0===l&&(l=setTimeout(I,t)),s}return t=m(t)||0,y(n)&&(d=!!n.leading,a=(p="maxWait"in n)?h(m(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),C.cancel=function(){void 0!==l&&clearTimeout(l),u=0,r=c=i=l=void 0},C.flush=function(){return void 0===l?s:b(v())},C}function y(e){var t=r(e);return!!e&&("object"==t||"function"==t)}function _(e){return"symbol"==r(e)||function(e){return!!e&&"object"==r(e)}(e)&&"[object Symbol]"==f.call(e)}function m(e){if("number"==typeof e)return e;if(_(e))return NaN;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(o);return y(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),A(e,t,{leading:r,maxWait:t,trailing:i})}},4614:function(e,t,n){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}n(1817),n(3948),n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948),e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},9227:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},8534:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});n(1539),n(8674);function r(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,l,"next",e)}function l(e){r(a,o,i,s,l,"throw",e)}s(void 0)}))}}},3087:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});n(1703);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},2833:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});n(9070);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},6347:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});n(1817),n(3948),n(1703),n(2526),n(1539),n(2165),n(6992),n(8783);var r=n(2780);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}},2482:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});n(9070);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},5082:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});n(7658),n(7941),n(2526),n(7327),n(1539),n(5003),n(4747),n(9337),n(3321),n(9070);var r=n(2482);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},124:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});n(1817),n(3948),n(2443),n(1703),n(7658),n(5069),n(9070),n(2526),n(1539),n(2165),n(6992),n(8783),n(3680),n(3706),n(2703),n(489),n(4747),n(8304),n(8674),n(7042);var r=n(3336);function o(){o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(D){u=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new x(r||[]);return i(a,"_invoke",{value:b(e,n,s)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=d;var f={};function h(){}function g(){}function v(){}var A={};u(A,s,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(P([])));_&&_!==t&&n.call(_,s)&&(A=_);var m=v.prototype=h.prototype=Object.create(A);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function o(i,a,s,l){var c=p(e[i],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,s,l)}),(function(e){o("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return o("throw",e,s,l)}))}l(c.arg)}var a;i(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function b(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=p(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=p(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function P(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return g.prototype=v,i(m,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=u(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,c,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},E(I.prototype),u(I.prototype,l,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new I(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(m),u(m,c,"Generator"),u(m,s,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=P,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}},6084:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});n(1817),n(3948),n(7658),n(2526),n(1539),n(2165),n(6992),n(8783);var r=n(2780);n(1703);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9584:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9227);n(1817),n(3948),n(2526),n(1539),n(2165),n(6992),n(8783),n(1038);var o=n(2780);n(1703);function i(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},3336:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});n(1817),n(3948),n(2526),n(1539),n(2165),n(6992),n(8783);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}},2780:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});n(4916),n(7042),n(1539),n(1038),n(8783);var r=n(9227);function o(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},3179:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3396),o=n(7139),i=(0,r.aZ)({name:"QArrowRight",props:{color:String,size:String},emits:["click"],setup:function(e,t){return{iconStyle:(0,r.Fl)((function(){return{display:"inline-block",fontSize:e.size,color:e.color,width:"1em",height:"1em",lineHeight:"1em"}})),click:function(e){return t.emit("click",e)}}}});i.install=function(e){e.component(i.name,i)};var a=[(0,r._)("svg",{width:"1em",height:"1em",viewBox:"0 0 48 48",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[(0,r._)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M34.9627 24.0099L34.9741 23.9985L18.0035 7.02795L15.1751 9.85638L29.3377 24.019L15.1842 38.1725L18.0126 41.0009L34.9831 24.0303L34.9627 24.0099Z",fill:"currentColor"})],-1)];i.render=function(e,t,n,i,s,l){return(0,r.wg)(),(0,r.iD)("i",{class:"q-icon",onClick:t[0]||(t[0]=function(){return e.click&&e.click.apply(e,arguments)}),style:(0,o.j5)(e.iconStyle)},a,4)}},9071:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3396),o=n(7139),i=(0,r.aZ)({name:"QChatSettings",props:{color:String,size:String},emits:["click"],setup:function(e,t){return{iconStyle:(0,r.Fl)((function(){return{display:"inline-block",fontSize:e.size,color:e.color,width:"1em",height:"1em",lineHeight:"1em"}})),click:function(e){return t.emit("click",e)}}}});i.install=function(e){e.component(i.name,i)};var a=[(0,r._)("svg",{width:"1em",height:"1em",viewBox:"0 0 48 48",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[(0,r._)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M42 9V13H6V9H42ZM42 22V26H6V22H42ZM42 39V35H6V39H42Z",fill:"currentColor"})],-1)];i.render=function(e,t,n,i,s,l){return(0,r.wg)(),(0,r.iD)("i",{class:"q-icon",onClick:t[0]||(t[0]=function(){return e.click&&e.click.apply(e,arguments)}),style:(0,o.j5)(e.iconStyle)},a,4)}},9062:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3396),o=n(7139),i=(0,r.aZ)({name:"QClose",props:{color:String,size:String},emits:["click"],setup:function(e,t){return{iconStyle:(0,r.Fl)((function(){return{display:"inline-block",fontSize:e.size,color:e.color,width:"1em",height:"1em",lineHeight:"1em"}})),click:function(e){return t.emit("click",e)}}}});i.install=function(e){e.component(i.name,i)};var a=[(0,r._)("svg",{width:"1em",height:"1em",viewBox:"0 0 48 48",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[(0,r._)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M37.4767 13.435L34.6482 10.6066L24.0416 21.2132L13.435 10.6066L10.6066 13.435L21.2132 24.0416L10.6066 34.6482L13.435 37.4767L24.0416 26.8701L34.6482 37.4767L37.4767 34.6482L26.8701 24.0416L37.4767 13.435Z",fill:"currentColor"})],-1)];i.render=function(e,t,n,i,s,l){return(0,r.wg)(),(0,r.iD)("i",{class:"q-icon",onClick:t[0]||(t[0]=function(){return e.click&&e.click.apply(e,arguments)}),style:(0,o.j5)(e.iconStyle)},a,4)}},4311:function(e,t,n){"use strict";n.d(t,{Z:function(){return He}});n(3948),n(6992),n(1539),n(8674),n(8783);var r=n(3336);n(9575),n(1817),n(3210),n(4916),n(5306),n(2472),n(8675),n(3105),n(3408),n(2958),n(3462),n(3824),n(7658),n(1703),n(3753),n(489),n(7042),n(3680),n(3706),n(2703),n(2526),n(2165),n(9714),n(6210),n(7941),n(9070),n(9601),n(2772),n(2990),n(8927),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(678),n(7462),n(2974),n(5016),n(9337),n(3321),n(4747),n(3123),n(9653);function o(e,t){return function(){return e.apply(t,arguments)}}var i,a=Object.prototype.toString,s=Object.getPrototypeOf,l=(i=Object.create(null),function(e){var t=a.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())}),c=function(e){return e=e.toLowerCase(),function(t){return l(t)===e}},u=function(e){return function(t){return(0,r.Z)(t)===e}},d=Array.isArray,p=u("undefined");var f=c("ArrayBuffer");var h=u("string"),g=u("function"),v=u("number"),A=function(e){return null!==e&&"object"===(0,r.Z)(e)},y=function(e){if("object"!==l(e))return!1;var t=s(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},_=c("Date"),m=c("File"),E=c("Blob"),I=c("FileList"),b=c("URLSearchParams");function C(e,t){var n,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.allOwnKeys,s=void 0!==a&&a;if(null!=e)if("object"!==(0,r.Z)(e)&&(e=[e]),d(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{var l,c=s?Object.getOwnPropertyNames(e):Object.keys(e),u=c.length;for(n=0;n<u;n++)l=c[n],t.call(null,e[l],l,e)}}function w(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),o=r.length;o-- >0;)if(t===(n=r[o]).toLowerCase())return n;return null}var S="undefined"==typeof self?"undefined"==typeof global?void 0:global:self,x=function(e){return!p(e)&&e!==S};var P,T,D=(P="undefined"!=typeof Uint8Array&&s(Uint8Array),function(e){return P&&e instanceof P}),O=c("HTMLFormElement"),N=(T=Object.prototype.hasOwnProperty,function(e,t){return T.call(e,t)}),R=c("RegExp"),k=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};C(n,(function(n,o){!1!==t(n,o,e)&&(r[o]=n)})),Object.defineProperties(e,r)},L={isArray:d,isArrayBuffer:f,isBuffer:function(e){return null!==e&&!p(e)&&null!==e.constructor&&!p(e.constructor)&&g(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||a.call(e)===t||g(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&f(e.buffer)},isString:h,isNumber:v,isBoolean:function(e){return!0===e||!1===e},isObject:A,isPlainObject:y,isUndefined:p,isDate:_,isFile:m,isBlob:E,isRegExp:R,isFunction:g,isStream:function(e){return A(e)&&g(e.pipe)},isURLSearchParams:b,isTypedArray:D,isFileList:I,forEach:C,merge:function e(){for(var t=x(this)&&this||{},n=t.caseless,r={},o=function(t,o){var i=n&&w(r,o)||o;y(r[i])&&y(t)?r[i]=e(r[i],t):y(t)?r[i]=e({},t):d(t)?r[i]=t.slice():r[i]=t},i=0,a=arguments.length;i<a;i++)arguments[i]&&C(arguments[i],o);return r},extend:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.allOwnKeys;return C(t,(function(t,r){n&&g(t)?e[r]=o(t,n):e[r]=t}),{allOwnKeys:i}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var o,i,a,l={};if(t=t||{},null==e)return t;do{for(i=(o=Object.getOwnPropertyNames(e)).length;i-- >0;)a=o[i],r&&!r(a,e,t)||l[a]||(t[a]=e[a],l[a]=!0);e=!1!==n&&s(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:l,kindOfTest:c,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(d(e))return e;var t=e.length;if(!v(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var o=n.value;t.call(e,o[0],o[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:O,hasOwnProperty:N,hasOwnProp:N,reduceDescriptors:k,freezeMethods:function(e){k(e,(function(t,n){if(g(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];g(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return d(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:w,global:S,isContextDefined:x,toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(A(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var o=d(n)?[]:{};return C(n,(function(t,n){var i=e(t,r+1);!p(i)&&(o[n]=i)})),t[r]=void 0,o}}return n}(e,0)}},B=n(3087),M=n(2833);n(541),n(2222),n(1249),n(8862),n(7852);function Q(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}L.inherits(Q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var V=Q.prototype,F={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){F[e]={value:e}})),Object.defineProperties(Q,F),Object.defineProperty(V,"isAxiosError",{value:!0}),Q.from=function(e,t,n,r,o,i){var a=Object.create(V);return L.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),Q.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};var U=Q,K=n(9373);function j(e){return L.isPlainObject(e)||L.isArray(e)}function H(e){return L.endsWith(e,"[]")?e.slice(0,-2):e}function q(e,t,n){return e?e.concat(t).map((function(e,t){return e=H(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var G=L.toFlatObject(L,{},null,(function(e){return/^is[A-Z]/.test(e)}));var Y=function(e,t,n){if(!L.isObject(e))throw new TypeError("target must be an object");t=t||new(K||FormData);var o,i=(n=L.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!L.isUndefined(t[e])}))).metaTokens,a=n.visitor||d,s=n.dots,l=n.indexes,c=(n.Blob||"undefined"!=typeof Blob&&Blob)&&((o=t)&&L.isFunction(o.append)&&"FormData"===o[Symbol.toStringTag]&&o[Symbol.iterator]);if(!L.isFunction(a))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(L.isDate(e))return e.toISOString();if(!c&&L.isBlob(e))throw new U("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(e)||L.isTypedArray(e)?c&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function d(e,n,o){var a=e;if(e&&!o&&"object"===(0,r.Z)(e))if(L.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(L.isArray(e)&&function(e){return L.isArray(e)&&!e.some(j)}(e)||L.isFileList(e)||L.endsWith(n,"[]")&&(a=L.toArray(e)))return n=H(n),a.forEach((function(e,r){!L.isUndefined(e)&&null!==e&&t.append(!0===l?q([n],r,s):null===l?n:n+"[]",u(e))})),!1;return!!j(e)||(t.append(q(o,n,s),u(e)),!1)}var p=[],f=Object.assign(G,{defaultVisitor:d,convertValue:u,isVisitable:j});if(!L.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!L.isUndefined(n)){if(-1!==p.indexOf(n))throw Error("Circular reference detected in "+r.join("."));p.push(n),L.forEach(n,(function(n,o){!0===(!(L.isUndefined(n)||null===n)&&a.call(t,n,L.isString(o)?o.trim():o,r,f))&&e(n,r?r.concat(o):[o])})),p.pop()}}(e),t};function W(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function z(e,t){this._pairs=[],e&&Y(e,this,t)}var J=z.prototype;J.append=function(e,t){this._pairs.push([e,t])},J.toString=function(e){var t=e?function(t){return e.call(this,t,W)}:W;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Z=z;function X(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $(e,t,n){if(!t)return e;var r,o=n&&n.encode||X,i=n&&n.serialize;if(r=i?i(t,n):L.isURLSearchParams(t)?t.toString():new Z(t,n).toString(o)){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var ee,te=function(){function e(){(0,B.Z)(this,e),this.handlers=[]}return(0,M.Z)(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){L.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),ne={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},re=(n(1637),"undefined"!=typeof URLSearchParams?URLSearchParams:Z),oe=FormData,ie=("undefined"==typeof navigator||"ReactNative"!==(ee=navigator.product)&&"NativeScript"!==ee&&"NS"!==ee)&&"undefined"!=typeof window&&"undefined"!=typeof document,ae="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,se={isBrowser:!0,classes:{URLSearchParams:re,FormData:oe,Blob:Blob},isStandardBrowserEnv:ie,isStandardBrowserWebWorkerEnv:ae,protocols:["http","https","file","blob","url","data"]};n(6373),n(3728);var le=function(e){function t(e,n,r,o){var i=e[o++],a=Number.isFinite(+i),s=o>=e.length;return i=!i&&L.isArray(r)?r.length:i,s?(L.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a):(r[i]&&L.isObject(r[i])||(r[i]=[]),t(e,n,r[i],o)&&L.isArray(r[i])&&(r[i]=function(e){var t,n,r={},o=Object.keys(e),i=o.length;for(t=0;t<i;t++)r[n=o[t]]=e[n];return r}(r[i])),!a)}if(L.isFormData(e)&&L.isFunction(e.entries)){var n={};return L.forEachEntry(e,(function(e,r){t(function(e){return L.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},ce={"Content-Type":void 0};var ue={transitional:ne,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",o=r.indexOf("application/json")>-1,i=L.isObject(e);if(i&&L.isHTMLForm(e)&&(e=new FormData(e)),L.isFormData(e))return o&&o?JSON.stringify(le(e)):e;if(L.isArrayBuffer(e)||L.isBuffer(e)||L.isStream(e)||L.isFile(e)||L.isBlob(e))return e;if(L.isArrayBufferView(e))return e.buffer;if(L.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Y(e,new se.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return se.isNode&&L.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=L.isFileList(e))||r.indexOf("multipart/form-data")>-1){var a=this.env&&this.env.FormData;return Y(n?{"files[]":e}:e,a&&new a,this.formSerializer)}}return i||o?(t.setContentType("application/json",!1),function(e,t,n){if(L.isString(e))try{return(t||JSON.parse)(e),L.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||ue.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&L.isString(e)&&(n&&!this.responseType||r)){var o=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(o){if("SyntaxError"===i.name)throw U.from(i,U.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:se.classes.FormData,Blob:se.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};L.forEach(["delete","get","head"],(function(e){ue.headers[e]={}})),L.forEach(["post","put","patch"],(function(e){ue.headers[e]=L.merge(ce)}));var de=ue,pe=n(6084),fe=(n(9720),L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"])),he=Symbol("internals");function ge(e){return e&&String(e).trim().toLowerCase()}function ve(e){return!1===e||null==e?e:L.isArray(e)?e.map(ve):String(e)}function Ae(e,t,n,r){return L.isFunction(r)?r.call(this,t,n):L.isString(t)?L.isString(r)?-1!==t.indexOf(r):L.isRegExp(r)?r.test(t):void 0:void 0}var ye=function(e,t){function n(e){(0,B.Z)(this,n),e&&this.set(e)}return(0,M.Z)(n,[{key:"set",value:function(e,t,n){var r=this;function o(e,t,n){var o=ge(t);if(!o)throw new Error("header name must be a non-empty string");var i=L.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=ve(e))}var i,a,s,l,c,u=function(e,t){return L.forEach(e,(function(e,n){return o(e,n,t)}))};return L.isPlainObject(e)||e instanceof this.constructor?u(e,t):L.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z]+$/.test(e.trim())?u((c={},(i=e)&&i.split("\n").forEach((function(e){l=e.indexOf(":"),a=e.substring(0,l).trim().toLowerCase(),s=e.substring(l+1).trim(),!a||c[a]&&fe[a]||("set-cookie"===a?c[a]?c[a].push(s):c[a]=[s]:c[a]=c[a]?c[a]+", "+s:s)})),c),t):null!=e&&o(t,e,n),this}},{key:"get",value:function(e,t){if(e=ge(e)){var n=L.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(L.isFunction(t))return t.call(this,r,n);if(L.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=ge(e)){var n=L.findKey(this,e);return!(!n||t&&!Ae(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function o(e){if(e=ge(e)){var o=L.findKey(n,e);!o||t&&!Ae(0,n[o],o,t)||(delete n[o],r=!0)}}return L.isArray(e)?e.forEach(o):o(e),r}},{key:"clear",value:function(){return Object.keys(this).forEach(this.delete.bind(this))}},{key:"normalize",value:function(e){var t=this,n={};return L.forEach(this,(function(r,o){var i=L.findKey(n,o);if(i)return t[i]=ve(r),void delete t[o];var a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(o):String(o).trim();a!==o&&delete t[o],t[a]=ve(r),n[a]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return L.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&L.isArray(n)?n.join(", "):n)})),t}},{key:e,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=(0,pe.Z)(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:t,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[he]=this[he]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=ge(e);t[r]||(!function(e,t){var n=L.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return L.isArray(e)?e.forEach(r):r(e),this}}]),n}(Symbol.iterator,Symbol.toStringTag);ye.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),L.freezeMethods(ye.prototype),L.freezeMethods(ye);var _e=ye;function me(e,t){var n=this||de,r=t||n,o=_e.from(r.headers),i=r.data;return L.forEach(e,(function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)})),o.normalize(),i}function Ee(e){return!(!e||!e.__CANCEL__)}function Ie(e,t,n){U.call(this,null==e?"canceled":e,U.ERR_CANCELED,t,n),this.name="CanceledError"}L.inherits(Ie,U,{__CANCEL__:!0});var be=Ie;n(2801);n(4723),n(4603),n(8450);var Ce=se.isStandardBrowserEnv?{write:function(e,t,n,r,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),L.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),L.isString(r)&&a.push("path="+r),L.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function we(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}n(4765);var Se=se.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=L.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var xe=function(e,t){e=e||10;var n,r=new Array(e),o=new Array(e),i=0,a=0;return t=void 0!==t?t:1e3,function(s){var l=Date.now(),c=o[a];n||(n=l),r[i]=s,o[i]=l;for(var u=a,d=0;u!==i;)d+=r[u++],u%=e;if((i=(i+1)%e)===a&&(a=(a+1)%e),!(l-n<t)){var p=c&&l-c;return p?Math.round(1e3*d/p):void 0}}};function Pe(e,t){var n=0,r=xe(50,250);return function(o){var i=o.loaded,a=o.lengthComputable?o.total:void 0,s=i-n,l=r(s);n=i;var c={loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:o};c[t?"download":"upload"]=!0,e(c)}}var Te={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,o=e.data,i=_e.from(e.headers).normalize(),a=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}L.isFormData(o)&&(se.isStandardBrowserEnv||se.isStandardBrowserWebWorkerEnv)&&i.setContentType(!1);var l=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",u=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(c+":"+u))}var d=we(e.baseURL,e.url);function p(){if(l){var r=_e.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new U("Request failed with status code "+n.status,[U.ERR_BAD_REQUEST,U.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),s()}),(function(e){n(e),s()}),{data:a&&"text"!==a&&"json"!==a?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:r,config:e,request:l}),l=null}}if(l.open(e.method.toUpperCase(),$(d,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=p:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(p)},l.onabort=function(){l&&(n(new U("Request aborted",U.ECONNABORTED,e,l)),l=null)},l.onerror=function(){n(new U("Network Error",U.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||ne;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new U(t,r.clarifyTimeoutError?U.ETIMEDOUT:U.ECONNABORTED,e,l)),l=null},se.isStandardBrowserEnv){var f=(e.withCredentials||Se(d))&&e.xsrfCookieName&&Ce.read(e.xsrfCookieName);f&&i.set(e.xsrfHeaderName,f)}void 0===o&&i.setContentType(null),"setRequestHeader"in l&&L.forEach(i.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),L.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),a&&"json"!==a&&(l.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&l.addEventListener("progress",Pe(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",Pe(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){l&&(n(!t||t.type?new be(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var h,g=(h=/^([-+\w]{1,25})(:?\/\/|:)/.exec(d))&&h[1]||"";g&&-1===se.protocols.indexOf(g)?n(new U("Unsupported protocol "+g+":",U.ERR_BAD_REQUEST,e)):l.send(o||null)}))}};L.forEach(Te,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var De=function(e){for(var t,n,r=(e=L.isArray(e)?e:[e]).length,o=0;o<r&&(t=e[o],!(n=L.isString(t)?Te[t.toLowerCase()]:t));o++);if(!n){if(!1===n)throw new U("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(L.hasOwnProp(Te,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!L.isFunction(n))throw new TypeError("adapter is not a function");return n};function Oe(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new be(null,e)}function Ne(e){return Oe(e),e.headers=_e.from(e.headers),e.data=me.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),De(e.adapter||de.adapter)(e).then((function(t){return Oe(e),t.data=me.call(e,e.transformResponse,t),t.headers=_e.from(t.headers),t}),(function(t){return Ee(t)||(Oe(e),t&&t.response&&(t.response.data=me.call(e,e.transformResponse,t.response),t.response.headers=_e.from(t.response.headers))),Promise.reject(t)}))}var Re=function(e){return e instanceof _e?e.toJSON():e};function ke(e,t){t=t||{};var n={};function r(e,t,n){return L.isPlainObject(e)&&L.isPlainObject(t)?L.merge.call({caseless:n},e,t):L.isPlainObject(t)?L.merge({},t):L.isArray(t)?t.slice():t}function o(e,t,n){return L.isUndefined(t)?L.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function i(e,t){if(!L.isUndefined(t))return r(void 0,t)}function a(e,t){return L.isUndefined(t)?L.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}var l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:function(e,t){return o(Re(e),Re(t),!0)}};return L.forEach(Object.keys(e).concat(Object.keys(t)),(function(r){var i=l[r]||o,a=i(e[r],t[r],r);L.isUndefined(a)&&i!==s||(n[r]=a)})),n}var Le="1.2.1",Be={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Be[e]=function(n){return(0,r.Z)(n)===e||"a"+(t<1?"n ":" ")+e}}));var Me={};Be.transitional=function(e,t,n){function r(e,t){return"[Axios v1.2.1] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,o,i){if(!1===e)throw new U(r(o," has been removed"+(t?" in "+t:"")),U.ERR_DEPRECATED);return t&&!Me[o]&&(Me[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}};var Qe={assertOptions:function(e,t,n){if("object"!==(0,r.Z)(e))throw new U("options must be an object",U.ERR_BAD_OPTION_VALUE);for(var o=Object.keys(e),i=o.length;i-- >0;){var a=o[i],s=t[a];if(s){var l=e[a],c=void 0===l||s(l,a,e);if(!0!==c)throw new U("option "+a+" must be "+c,U.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new U("Unknown option "+a,U.ERR_BAD_OPTION)}},validators:Be},Ve=Qe.validators,Fe=function(){function e(t){(0,B.Z)(this,e),this.defaults=t,this.interceptors={request:new te,response:new te}}return(0,M.Z)(e,[{key:"request",value:function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=ke(this.defaults,t),o=r.transitional,i=r.paramsSerializer,a=r.headers;void 0!==o&&Qe.assertOptions(o,{silentJSONParsing:Ve.transitional(Ve.boolean),forcedJSONParsing:Ve.transitional(Ve.boolean),clarifyTimeoutError:Ve.transitional(Ve.boolean)},!1),void 0!==i&&Qe.assertOptions(i,{encode:Ve.function,serialize:Ve.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=a&&L.merge(a.common,a[t.method]))&&L.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete a[e]})),t.headers=_e.concat(n,a);var s=[],l=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var c,u=[];this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)}));var d,p=0;if(!l){var f=[Ne.bind(this),void 0];for(f.unshift.apply(f,s),f.push.apply(f,u),d=f.length,c=Promise.resolve(t);p<d;)c=c.then(f[p++],f[p++]);return c}d=s.length;var h=t;for(p=0;p<d;){var g=s[p++],v=s[p++];try{h=g(h)}catch(A){v.call(this,A);break}}try{c=Ne.call(this,h)}catch(A){return Promise.reject(A)}for(p=0,d=u.length;p<d;)c=c.then(u[p++],u[p++]);return c}},{key:"getUri",value:function(e){return $(we((e=ke(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();L.forEach(["delete","get","head","options"],(function(e){Fe.prototype[e]=function(t,n){return this.request(ke(n||{},{method:e,url:t,data:(n||{}).data}))}})),L.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(ke(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Fe.prototype[e]=t(),Fe.prototype[e+"Form"]=t(!0)}));var Ue=Fe,Ke=(n(561),function(){function e(t){if((0,B.Z)(this,e),"function"!=typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,o){r.reason||(r.reason=new be(e,t,o),n(r.reason))}))}return(0,M.Z)(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}());var je=function e(t){var n=new Ue(t),r=o(Ue.prototype.request,n);return L.extend(r,Ue.prototype,n,{allOwnKeys:!0}),L.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(ke(t,n))},r}(de);je.Axios=Ue,je.CanceledError=be,je.CancelToken=Ke,je.isCancel=Ee,je.VERSION=Le,je.toFormData=Y,je.AxiosError=U,je.Cancel=je.CanceledError,je.all=function(e){return Promise.all(e)},je.spread=function(e){return function(t){return e.apply(null,t)}},je.isAxiosError=function(e){return L.isObject(e)&&!0===e.isAxiosError},je.mergeConfig=ke,je.AxiosHeaders=_e,je.formToJSON=function(e){return le(L.isHTMLForm(e)?new FormData(e):e)},je.default=je;var He=je}}]);